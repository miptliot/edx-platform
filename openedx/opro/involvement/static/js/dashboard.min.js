function locateFile(a){return Module.locateFile?Module.locateFile(a,scriptDirectory):scriptDirectory+a}function staticAlloc(a){var b=STATICTOP;return STATICTOP=STATICTOP+a+15&-16,b}function dynamicAlloc(a){var b=HEAP32[DYNAMICTOP_PTR>>2],c=b+a+15&-16;if(HEAP32[DYNAMICTOP_PTR>>2]=c,c>=TOTAL_MEMORY){var d=enlargeMemory();if(!d)return HEAP32[DYNAMICTOP_PTR>>2]=b,0}return b}function alignMemory(a,b){b||(b=STACK_ALIGN);var c=a=Math.ceil(a/b)*b;return c}function getNativeTypeSize(a){switch(a){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===a[a.length-1])return 4;if("i"===a[0]){var b=parseInt(a.substr(1));return assert(b%8===0),b/8}return 0}}function warnOnce(a){warnOnce.shown||(warnOnce.shown={}),warnOnce.shown[a]||(warnOnce.shown[a]=1,err(a))}function dynCall(a,b,c){return c&&c.length?Module["dynCall_"+a].apply(null,[b].concat(c)):Module["dynCall_"+a].call(null,b)}function assert(a,b){a||abort("Assertion failed: "+b)}function getCFunc(a){var b=Module["_"+a];return assert(b,"Cannot call unknown function "+a+", make sure it is exported"),b}function ccall(a,b,c,d,e){function f(a){return"string"===b?Pointer_stringify(a):"boolean"===b?Boolean(a):a}var g=getCFunc(a),h=[],i=0;if(d)for(var j=0;j<d.length;j++){var k=toC[c[j]];k?(0===i&&(i=stackSave()),h[j]=k(d[j])):h[j]=d[j]}var l=g.apply(null,h);return l=f(l),0!==i&&stackRestore(i),l}function setValue(a,b,c,d){switch(c=c||"i8","*"===c.charAt(c.length-1)&&(c="i32"),c){case"i1":HEAP8[a>>0]=b;break;case"i8":HEAP8[a>>0]=b;break;case"i16":HEAP16[a>>1]=b;break;case"i32":HEAP32[a>>2]=b;break;case"i64":tempI64=[b>>>0,(tempDouble=b,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a>>2]=tempI64[0],HEAP32[a+4>>2]=tempI64[1];break;case"float":HEAPF32[a>>2]=b;break;case"double":HEAPF64[a>>3]=b;break;default:abort("invalid type for setValue: "+c)}}function getMemory(a){return staticSealed?runtimeInitialized?_malloc(a):dynamicAlloc(a):staticAlloc(a)}function Pointer_stringify(a,b){if(0===b||!a)return"";for(var c,d=0,e=0;;){if(c=HEAPU8[a+e>>0],d|=c,0==c&&!b)break;if(e++,b&&e==b)break}b||(b=e);var f="";if(d<128){for(var g,h=1024;b>0;)g=String.fromCharCode.apply(String,HEAPU8.subarray(a,a+Math.min(b,h))),f=f?f+g:g,a+=h,b-=h;return f}return UTF8ToString(a)}function UTF8ArrayToString(a,b){for(var c=b;a[c];)++c;if(c-b>16&&a.subarray&&UTF8Decoder)return UTF8Decoder.decode(a.subarray(b,c));for(var d,e,f,g,h,i,j="";;){if(d=a[b++],!d)return j;if(128&d)if(e=63&a[b++],192!=(224&d))if(f=63&a[b++],224==(240&d)?d=(15&d)<<12|e<<6|f:(g=63&a[b++],240==(248&d)?d=(7&d)<<18|e<<12|f<<6|g:(h=63&a[b++],248==(252&d)?d=(3&d)<<24|e<<18|f<<12|g<<6|h:(i=63&a[b++],d=(1&d)<<30|e<<24|f<<18|g<<12|h<<6|i))),d<65536)j+=String.fromCharCode(d);else{var k=d-65536;j+=String.fromCharCode(55296|k>>10,56320|1023&k)}else j+=String.fromCharCode((31&d)<<6|e);else j+=String.fromCharCode(d)}}function UTF8ToString(a){return UTF8ArrayToString(HEAPU8,a)}function stringToUTF8Array(a,b,c,d){if(!(d>0))return 0;for(var e=c,f=c+d-1,g=0;g<a.length;++g){var h=a.charCodeAt(g);if(h>=55296&&h<=57343&&(h=65536+((1023&h)<<10)|1023&a.charCodeAt(++g)),h<=127){if(c>=f)break;b[c++]=h}else if(h<=2047){if(c+1>=f)break;b[c++]=192|h>>6,b[c++]=128|63&h}else if(h<=65535){if(c+2>=f)break;b[c++]=224|h>>12,b[c++]=128|h>>6&63,b[c++]=128|63&h}else if(h<=2097151){if(c+3>=f)break;b[c++]=240|h>>18,b[c++]=128|h>>12&63,b[c++]=128|h>>6&63,b[c++]=128|63&h}else if(h<=67108863){if(c+4>=f)break;b[c++]=248|h>>24,b[c++]=128|h>>18&63,b[c++]=128|h>>12&63,b[c++]=128|h>>6&63,b[c++]=128|63&h}else{if(c+5>=f)break;b[c++]=252|h>>30,b[c++]=128|h>>24&63,b[c++]=128|h>>18&63,b[c++]=128|h>>12&63,b[c++]=128|h>>6&63,b[c++]=128|63&h}}return b[c]=0,c-e}function stringToUTF8(a,b,c){return stringToUTF8Array(a,HEAPU8,b,c)}function lengthBytesUTF8(a){for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);d>=55296&&d<=57343&&(d=65536+((1023&d)<<10)|1023&a.charCodeAt(++c)),d<=127?++b:b+=d<=2047?2:d<=65535?3:d<=2097151?4:d<=67108863?5:6}return b}function allocateUTF8(a){var b=lengthBytesUTF8(a)+1,c=_malloc(b);return c&&stringToUTF8Array(a,HEAP8,c,b),c}function demangle(a){return a}function demangleAll(a){var b=/__Z[\w\d_]+/g;return a.replace(b,function(a){var b=demangle(a);return a===b?a:a+" ["+b+"]"})}function jsStackTrace(){var a=new Error;if(!a.stack){try{throw new Error(0)}catch(b){a=b}if(!a.stack)return"(no stack trace available)"}return a.stack.toString()}function stackTrace(){var a=jsStackTrace();return Module.extraStackTrace&&(a+="\n"+Module.extraStackTrace()),demangleAll(a)}function alignUp(a,b){return a%b>0&&(a+=b-a%b),a}function updateGlobalBuffer(a){Module.buffer=buffer=a}function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}function getTotalMemory(){return TOTAL_MEMORY}function callRuntimeCallbacks(a){for(;a.length>0;){var b=a.shift();if("function"!=typeof b){var c=b.func;"number"==typeof c?void 0===b.arg?Module.dynCall_v(c):Module.dynCall_vi(c,b.arg):c(void 0===b.arg?null:b.arg)}else b()}}function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(a){__ATPRERUN__.unshift(a)}function addOnPostRun(a){__ATPOSTRUN__.unshift(a)}function writeArrayToMemory(a,b){HEAP8.set(a,b)}function writeAsciiToMemory(a,b,c){for(var d=0;d<a.length;++d)HEAP8[b++>>0]=a.charCodeAt(d);c||(HEAP8[b>>0]=0)}function getUniqueRunDependency(a){return a}function addRunDependency(a){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(a){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var b=dependenciesFulfilled;dependenciesFulfilled=null,b()}}function isDataURI(a){return String.prototype.startsWith?a.startsWith(dataURIPrefix):0===a.indexOf(dataURIPrefix)}function integrateWasmJS(){function a(a){var b=Module.buffer;a.byteLength<b.byteLength&&err("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var c=new Int8Array(b),d=new Int8Array(a);d.set(c),updateGlobalBuffer(a),updateGlobalBufferViews()}function b(a){return a}function c(){try{if(Module.wasmBinary)return new Uint8Array(Module.wasmBinary);if(Module.readBinary)return Module.readBinary(g);throw"both async and sync fetching of the wasm failed"}catch(a){abort(a)}}function d(){return Module.wasmBinary||!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER||"function"!=typeof fetch?new Promise(function(a,b){a(c())}):fetch(g,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+g+"'";return a.arrayBuffer()}).catch(function(){return c()})}function e(b,c,e){function f(b,c){k=b.exports,k.memory&&a(k.memory),Module.asm=k,Module.usingWasm=!0,removeRunDependency("wasm-instantiate")}function h(a){f(a.instance,a.module)}function i(a){d().then(function(a){return WebAssembly.instantiate(a,j)}).then(a).catch(function(a){err("failed to asynchronously prepare wasm: "+a),abort(a)})}if("object"!=typeof WebAssembly)return err("no native wasm support detected"),!1;if(!(Module.wasmMemory instanceof WebAssembly.Memory))return err("no native wasm Memory in use"),!1;if(c.memory=Module.wasmMemory,j.global={NaN:NaN,Infinity:1/0},j["global.Math"]=Math,j.env=c,addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(j,f)}catch(a){return err("Module.instantiateWasm callback failed with error: "+a),!1}return Module.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(g)||"function"!=typeof fetch?i(h):WebAssembly.instantiateStreaming(fetch(g,{credentials:"same-origin"}),j).then(h).catch(function(a){err("wasm streaming compile failed: "+a),err("falling back to ArrayBuffer instantiation"),i(h)}),{}}var f="cybert.wast",g="cybert.wasm",h="cybert.temp.asm.js";isDataURI(f)||(f=locateFile(f)),isDataURI(g)||(g=locateFile(g)),isDataURI(h)||(h=locateFile(h));var i=65536,j={global:null,env:null,asm2wasm:asm2wasmImports,parent:Module},k=null;Module.asmPreload=Module.asm;var l=Module.reallocBuffer,m=function(a){var b=Module.usingWasm?WASM_PAGE_SIZE:ASMJS_PAGE_SIZE;a=alignUp(a,b);var c=Module.buffer,d=c.byteLength;if(Module.usingWasm)try{var e=Module.wasmMemory.grow((a-d)/i);return e!==-1?Module.buffer=Module.wasmMemory.buffer:null}catch(a){return null}};Module.reallocBuffer=function(a){return"asmjs"===n?l(a):m(a)};var n="";Module.asm=function(a,c,d){if(c=b(c),!c.table){var f=Module.wasmTableSize;void 0===f&&(f=1024);var g=Module.wasmMaxTableSize;"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?void 0!==g?c.table=new WebAssembly.Table({initial:f,maximum:g,element:"anyfunc"}):c.table=new WebAssembly.Table({initial:f,element:"anyfunc"}):c.table=new Array(f),Module.wasmTable=c.table}c.memoryBase||(c.memoryBase=Module.STATIC_BASE),c.tableBase||(c.tableBase=0);var h;return h=e(a,c,d),assert(h,"no binaryen method succeeded."),h}}function ___assert_fail(a,b,c,d){abort("Assertion failed: "+Pointer_stringify(a)+", at: "+[b?Pointer_stringify(b):"unknown filename",c,d?Pointer_stringify(d):"unknown function"])}function ___buildEnvironment(a){var b,c,d=64,e=1024;___buildEnvironment.called?(c=HEAP32[a>>2],b=HEAP32[c>>2]):(___buildEnvironment.called=!0,ENV.USER=ENV.LOGNAME="web_user",ENV.PATH="/",ENV.PWD="/",ENV.HOME="/home/web_user",ENV.LANG="C.UTF-8",ENV._=Module.thisProgram,b=getMemory(e),c=getMemory(4*d),HEAP32[c>>2]=b,HEAP32[a>>2]=c);var f=[],g=0;for(var h in ENV)if("string"==typeof ENV[h]){var i=h+"="+ENV[h];f.push(i),g+=i.length}if(g>e)throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");for(var j=4,k=0;k<f.length;k++){var i=f[k];writeAsciiToMemory(i,b),HEAP32[c+k*j>>2]=b,b+=i.length+1}HEAP32[c+f.length*j>>2]=0}function ___cxa_allocate_exception(a){return _malloc(a)}function ___cxa_begin_catch(a){var b=EXCEPTIONS.infos[a];return b&&!b.caught&&(b.caught=!0,__ZSt18uncaught_exceptionv.uncaught_exception--),b&&(b.rethrown=!1),EXCEPTIONS.caught.push(a),EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(a)),a}function ___cxa_current_primary_exception(){var a=EXCEPTIONS.caught[EXCEPTIONS.caught.length-1]||0;return a&&EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(a)),a}function ___cxa_decrement_exception_refcount(a){EXCEPTIONS.decRef(EXCEPTIONS.deAdjust(a))}function ___cxa_free_exception(a){try{return _free(a)}catch(a){}}function ___cxa_end_catch(){Module.setThrew(0);var a=EXCEPTIONS.caught.pop();a&&(EXCEPTIONS.decRef(EXCEPTIONS.deAdjust(a)),EXCEPTIONS.last=0)}function ___cxa_find_matching_catch_2(){return ___cxa_find_matching_catch.apply(null,arguments)}function ___cxa_find_matching_catch_3(){return ___cxa_find_matching_catch.apply(null,arguments)}function ___cxa_find_matching_catch_4(){return ___cxa_find_matching_catch.apply(null,arguments)}function ___cxa_get_exception_ptr(a){return a}function ___cxa_increment_exception_refcount(a){EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(a))}function ___cxa_pure_virtual(){throw ABORT=!0,"Pure virtual function called!"}function ___cxa_rethrow(){var a=EXCEPTIONS.caught.pop();throw a=EXCEPTIONS.deAdjust(a),EXCEPTIONS.infos[a].rethrown||(EXCEPTIONS.caught.push(a),EXCEPTIONS.infos[a].rethrown=!0),EXCEPTIONS.last=a,a}function ___cxa_rethrow_primary_exception(a){a&&(EXCEPTIONS.caught.push(a),EXCEPTIONS.infos[a].rethrown=!0,___cxa_rethrow())}function ___resumeException(a){throw EXCEPTIONS.last||(EXCEPTIONS.last=a),a}function ___cxa_find_matching_catch(){var a=EXCEPTIONS.last;if(!a)return 0|(setTempRet0(0),0);var b=EXCEPTIONS.infos[a],c=b.type;if(!c)return 0|(setTempRet0(0),a);var d=Array.prototype.slice.call(arguments);Module.___cxa_is_pointer_type(c);___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=a,a=___cxa_find_matching_catch.buffer;for(var e=0;e<d.length;e++)if(d[e]&&Module.___cxa_can_catch(d[e],c,a))return a=HEAP32[a>>2],b.adjusted=a,0|(setTempRet0(d[e]),a);return a=HEAP32[a>>2],0|(setTempRet0(c),a)}function ___cxa_throw(a,b,c){throw EXCEPTIONS.infos[a]={ptr:a,adjusted:a,type:b,destructor:c,refcount:0,caught:!1,rethrown:!1},EXCEPTIONS.last=a,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,a}function ___cxa_uncaught_exception(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___gxx_personality_v0(){}function ___lock(){}function ___setErrNo(a){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=a),a}function ___map_file(a,b){return ___setErrNo(ERRNO_CODES.EPERM),-1}function ___syscall140(a,b){SYSCALLS.varargs=b;try{var c=SYSCALLS.getStreamFromFD(),d=(SYSCALLS.get(),SYSCALLS.get()),e=SYSCALLS.get(),f=SYSCALLS.get(),g=d;return FS.llseek(c,g,f),HEAP32[e>>2]=c.position,c.getdents&&0===g&&0===f&&(c.getdents=null),0}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___syscall145(a,b){SYSCALLS.varargs=b;try{var c=SYSCALLS.getStreamFromFD(),d=SYSCALLS.get(),e=SYSCALLS.get();return SYSCALLS.doReadv(c,d,e)}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___syscall146(a,b){SYSCALLS.varargs=b;try{var c=SYSCALLS.getStreamFromFD(),d=SYSCALLS.get(),e=SYSCALLS.get();return SYSCALLS.doWritev(c,d,e)}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___syscall192(a,b){SYSCALLS.varargs=b;try{var c=SYSCALLS.get(),d=SYSCALLS.get(),e=SYSCALLS.get(),f=SYSCALLS.get(),g=SYSCALLS.get(),h=SYSCALLS.get();h<<=12;var i,j=!1;if(g===-1){if(i=_memalign(PAGE_SIZE,d),!i)return-ERRNO_CODES.ENOMEM;_memset(i,0,d),j=!0}else{var k=FS.getStream(g);if(!k)return-ERRNO_CODES.EBADF;var l=FS.mmap(k,HEAPU8,c,d,h,e,f);i=l.ptr,j=l.allocated}return SYSCALLS.mappings[i]={malloc:i,len:d,allocated:j,fd:g,flags:f},i}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___syscall195(a,b){SYSCALLS.varargs=b;try{var c=SYSCALLS.getStr(),d=SYSCALLS.get();return SYSCALLS.doStat(FS.stat,c,d)}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___syscall197(a,b){SYSCALLS.varargs=b;try{var c=SYSCALLS.getStreamFromFD(),d=SYSCALLS.get();return SYSCALLS.doStat(FS.stat,c.path,d)}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___syscall221(a,b){SYSCALLS.varargs=b;try{var c=SYSCALLS.getStreamFromFD(),d=SYSCALLS.get();switch(d){case 0:var e=SYSCALLS.get();if(e<0)return-ERRNO_CODES.EINVAL;var f;return f=FS.open(c.path,c.flags,0,e),f.fd;case 1:case 2:return 0;case 3:return c.flags;case 4:var e=SYSCALLS.get();return c.flags|=e,0;case 12:case 12:var e=SYSCALLS.get(),g=0;return HEAP16[e+g>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-ERRNO_CODES.EINVAL;case 9:return ___setErrNo(ERRNO_CODES.EINVAL),-1;default:return-ERRNO_CODES.EINVAL}}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___syscall3(a,b){SYSCALLS.varargs=b;try{var c=SYSCALLS.getStreamFromFD(),d=SYSCALLS.get(),e=SYSCALLS.get();return FS.read(c,HEAP8,d,e)}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___syscall4(a,b){SYSCALLS.varargs=b;try{var c=SYSCALLS.getStreamFromFD(),d=SYSCALLS.get(),e=SYSCALLS.get();return FS.write(c,HEAP8,d,e)}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___syscall5(a,b){SYSCALLS.varargs=b;try{var c=SYSCALLS.getStr(),d=SYSCALLS.get(),e=SYSCALLS.get(),f=FS.open(c,d,e);return f.fd}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___syscall54(a,b){SYSCALLS.varargs=b;try{var c=SYSCALLS.getStreamFromFD(),d=SYSCALLS.get();switch(d){case 21509:case 21505:return c.tty?0:-ERRNO_CODES.ENOTTY;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return c.tty?0:-ERRNO_CODES.ENOTTY;case 21519:if(!c.tty)return-ERRNO_CODES.ENOTTY;var e=SYSCALLS.get();return HEAP32[e>>2]=0,0;case 21520:return c.tty?-ERRNO_CODES.EINVAL:-ERRNO_CODES.ENOTTY;case 21531:var e=SYSCALLS.get();return FS.ioctl(c,d,e);case 21523:return c.tty?0:-ERRNO_CODES.ENOTTY;case 21524:return c.tty?0:-ERRNO_CODES.ENOTTY;default:abort("bad ioctl syscall "+d)}}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___syscall6(a,b){SYSCALLS.varargs=b;try{var c=SYSCALLS.getStreamFromFD();return FS.close(c),0}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___syscall91(a,b){SYSCALLS.varargs=b;try{var c=SYSCALLS.get(),d=SYSCALLS.get(),e=SYSCALLS.mappings[c];if(!e)return 0;if(d===e.len){var f=FS.getStream(e.fd);SYSCALLS.doMsync(c,f,d,e.flags),FS.munmap(f),SYSCALLS.mappings[c]=null,e.allocated&&_free(e.malloc)}return 0}catch(a){return"undefined"!=typeof FS&&a instanceof FS.ErrnoError||abort(a),-a.errno}}function ___unlock(){}function getShiftFromSize(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+a)}}function embind_init_charCodes(){for(var a=new Array(256),b=0;b<256;++b)a[b]=String.fromCharCode(b);embind_charCodes=a}function readLatin1String(a){for(var b="",c=a;HEAPU8[c];)b+=embind_charCodes[HEAPU8[c++]];return b}function makeLegalFunctionName(a){if(void 0===a)return"_unknown";a=a.replace(/[^a-zA-Z0-9_]/g,"$");var b=a.charCodeAt(0);return b>=char_0&&b<=char_9?"_"+a:a}function createNamedFunction(a,b){return a=makeLegalFunctionName(a),new Function("body","return function "+a+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(b)}function extendError(a,b){var c=createNamedFunction(b,function(a){this.name=b,this.message=a;var c=new Error(a).stack;void 0!==c&&(this.stack=this.toString()+"\n"+c.replace(/^Error(:[^\n]*)?\n/,""))});return c.prototype=Object.create(a.prototype),c.prototype.constructor=c,c.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},c}function throwBindingError(a){throw new BindingError(a)}function throwInternalError(a){throw new InternalError(a)}function whenDependentTypesAreResolved(a,b,c){function d(b){var d=c(b);d.length!==a.length&&throwInternalError("Mismatched type converter count");for(var e=0;e<a.length;++e)registerType(a[e],d[e])}a.forEach(function(a){typeDependencies[a]=b});var e=new Array(b.length),f=[],g=0;b.forEach(function(a,b){registeredTypes.hasOwnProperty(a)?e[b]=registeredTypes[a]:(f.push(a),awaitingDependencies.hasOwnProperty(a)||(awaitingDependencies[a]=[]),awaitingDependencies[a].push(function(){e[b]=registeredTypes[a],++g,g===f.length&&d(e)}))}),0===f.length&&d(e)}function registerType(a,b,c){if(c=c||{},!("argPackAdvance"in b))throw new TypeError("registerType registeredInstance requires argPackAdvance");var d=b.name;if(a||throwBindingError('type "'+d+'" must have a positive integer typeid pointer'),registeredTypes.hasOwnProperty(a)){if(c.ignoreDuplicateRegistrations)return;throwBindingError("Cannot register type '"+d+"' twice")}if(registeredTypes[a]=b,delete typeDependencies[a],awaitingDependencies.hasOwnProperty(a)){var e=awaitingDependencies[a];delete awaitingDependencies[a],e.forEach(function(a){a()})}}function __embind_register_bool(a,b,c,d,e){var f=getShiftFromSize(c);b=readLatin1String(b),registerType(a,{name:b,fromWireType:function(a){return!!a},toWireType:function(a,b){return b?d:e},argPackAdvance:8,readValueFromPointer:function(a){var d;if(1===c)d=HEAP8;else if(2===c)d=HEAP16;else{if(4!==c)throw new TypeError("Unknown boolean type size: "+b);d=HEAP32}return this.fromWireType(d[a>>f])},destructorFunction:null})}function ClassHandle_isAliasOf(a){if(!(this instanceof ClassHandle))return!1;if(!(a instanceof ClassHandle))return!1;for(var b=this.$$.ptrType.registeredClass,c=this.$$.ptr,d=a.$$.ptrType.registeredClass,e=a.$$.ptr;b.baseClass;)c=b.upcast(c),b=b.baseClass;for(;d.baseClass;)e=d.upcast(e),d=d.baseClass;return b===d&&c===e}function shallowCopyInternalPointer(a){return{count:a.count,deleteScheduled:a.deleteScheduled,preservePointerOnDelete:a.preservePointerOnDelete,ptr:a.ptr,ptrType:a.ptrType,smartPtr:a.smartPtr,smartPtrType:a.smartPtrType}}function throwInstanceAlreadyDeleted(a){function b(a){return a.$$.ptrType.registeredClass.name}throwBindingError(b(a)+" instance already deleted")}function ClassHandle_clone(){if(this.$$.ptr||throwInstanceAlreadyDeleted(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var a=Object.create(Object.getPrototypeOf(this),{$$:{value:shallowCopyInternalPointer(this.$$)}});return a.$$.count.value+=1,a.$$.deleteScheduled=!1,a}function runDestructor(a){var b=a.$$;b.smartPtr?b.smartPtrType.rawDestructor(b.smartPtr):b.ptrType.registeredClass.rawDestructor(b.ptr)}function ClassHandle_delete(){this.$$.ptr||throwInstanceAlreadyDeleted(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&throwBindingError("Object already scheduled for deletion"),this.$$.count.value-=1;var a=0===this.$$.count.value;a&&runDestructor(this),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function ClassHandle_isDeleted(){return!this.$$.ptr}function flushPendingDeletes(){for(;deletionQueue.length;){var a=deletionQueue.pop();a.$$.deleteScheduled=!1,a.delete()}}function ClassHandle_deleteLater(){return this.$$.ptr||throwInstanceAlreadyDeleted(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&throwBindingError("Object already scheduled for deletion"),deletionQueue.push(this),1===deletionQueue.length&&delayFunction&&delayFunction(flushPendingDeletes),this.$$.deleteScheduled=!0,this}function init_ClassHandle(){ClassHandle.prototype.isAliasOf=ClassHandle_isAliasOf,ClassHandle.prototype.clone=ClassHandle_clone,ClassHandle.prototype.delete=ClassHandle_delete,ClassHandle.prototype.isDeleted=ClassHandle_isDeleted,ClassHandle.prototype.deleteLater=ClassHandle_deleteLater}function ClassHandle(){}function ensureOverloadTable(a,b,c){if(void 0===a[b].overloadTable){var d=a[b];a[b]=function(){return a[b].overloadTable.hasOwnProperty(arguments.length)||throwBindingError("Function '"+c+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+a[b].overloadTable+")!"),a[b].overloadTable[arguments.length].apply(this,arguments)},a[b].overloadTable=[],a[b].overloadTable[d.argCount]=d}}function exposePublicSymbol(a,b,c){Module.hasOwnProperty(a)?((void 0===c||void 0!==Module[a].overloadTable&&void 0!==Module[a].overloadTable[c])&&throwBindingError("Cannot register public name '"+a+"' twice"),ensureOverloadTable(Module,a,a),Module.hasOwnProperty(c)&&throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+c+")!"),Module[a].overloadTable[c]=b):(Module[a]=b,void 0!==c&&(Module[a].numArguments=c))}function RegisteredClass(a,b,c,d,e,f,g,h){this.name=a,this.constructor=b,this.instancePrototype=c,this.rawDestructor=d,this.baseClass=e,this.getActualType=f,this.upcast=g,this.downcast=h,this.pureVirtualFunctions=[]}function upcastPointer(a,b,c){for(;b!==c;)b.upcast||throwBindingError("Expected null or instance of "+c.name+", got an instance of "+b.name),a=b.upcast(a),b=b.baseClass;return a}function constNoSmartPtrRawPointerToWireType(a,b){if(null===b)return this.isReference&&throwBindingError("null is not a valid "+this.name),0;b.$$||throwBindingError('Cannot pass "'+_embind_repr(b)+'" as a '+this.name),b.$$.ptr||throwBindingError("Cannot pass deleted object as a pointer of type "+this.name);var c=b.$$.ptrType.registeredClass,d=upcastPointer(b.$$.ptr,c,this.registeredClass);return d}function genericPointerToWireType(a,b){var c;if(null===b)return this.isReference&&throwBindingError("null is not a valid "+this.name),this.isSmartPointer?(c=this.rawConstructor(),null!==a&&a.push(this.rawDestructor,c),c):0;b.$$||throwBindingError('Cannot pass "'+_embind_repr(b)+'" as a '+this.name),b.$$.ptr||throwBindingError("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&b.$$.ptrType.isConst&&throwBindingError("Cannot convert argument of type "+(b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name)+" to parameter type "+this.name);var d=b.$$.ptrType.registeredClass;if(c=upcastPointer(b.$$.ptr,d,this.registeredClass),this.isSmartPointer)switch(void 0===b.$$.smartPtr&&throwBindingError("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:b.$$.smartPtrType===this?c=b.$$.smartPtr:throwBindingError("Cannot convert argument of type "+(b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:c=b.$$.smartPtr;break;case 2:if(b.$$.smartPtrType===this)c=b.$$.smartPtr;else{var e=b.clone();c=this.rawShare(c,__emval_register(function(){e.delete()})),null!==a&&a.push(this.rawDestructor,c)}break;default:throwBindingError("Unsupporting sharing policy")}return c}function nonConstNoSmartPtrRawPointerToWireType(a,b){if(null===b)return this.isReference&&throwBindingError("null is not a valid "+this.name),0;b.$$||throwBindingError('Cannot pass "'+_embind_repr(b)+'" as a '+this.name),b.$$.ptr||throwBindingError("Cannot pass deleted object as a pointer of type "+this.name),b.$$.ptrType.isConst&&throwBindingError("Cannot convert argument of type "+b.$$.ptrType.name+" to parameter type "+this.name);var c=b.$$.ptrType.registeredClass,d=upcastPointer(b.$$.ptr,c,this.registeredClass);return d}function simpleReadValueFromPointer(a){return this.fromWireType(HEAPU32[a>>2])}function RegisteredPointer_getPointee(a){return this.rawGetPointee&&(a=this.rawGetPointee(a)),a}function RegisteredPointer_destructor(a){this.rawDestructor&&this.rawDestructor(a)}function RegisteredPointer_deleteObject(a){null!==a&&a.delete()}function downcastPointer(a,b,c){if(b===c)return a;if(void 0===c.baseClass)return null;var d=downcastPointer(a,b,c.baseClass);return null===d?null:c.downcast(d)}function getInheritedInstanceCount(){return Object.keys(registeredInstances).length}function getLiveInheritedInstances(){var a=[];for(var b in registeredInstances)registeredInstances.hasOwnProperty(b)&&a.push(registeredInstances[b]);return a}function setDelayFunction(a){delayFunction=a,deletionQueue.length&&delayFunction&&delayFunction(flushPendingDeletes)}function init_embind(){Module.getInheritedInstanceCount=getInheritedInstanceCount,Module.getLiveInheritedInstances=getLiveInheritedInstances,Module.flushPendingDeletes=flushPendingDeletes,Module.setDelayFunction=setDelayFunction}function getBasestPointer(a,b){for(void 0===b&&throwBindingError("ptr should not be undefined");a.baseClass;)b=a.upcast(b),a=a.baseClass;return b}function getInheritedInstance(a,b){return b=getBasestPointer(a,b),registeredInstances[b]}function makeClassHandle(a,b){b.ptrType&&b.ptr||throwInternalError("makeClassHandle requires ptr and ptrType");var c=!!b.smartPtrType,d=!!b.smartPtr;return c!==d&&throwInternalError("Both smartPtrType and smartPtr must be specified"),b.count={value:1},Object.create(a,{$$:{value:b}})}function RegisteredPointer_fromWireType(a){function b(){return this.isSmartPointer?makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:c,smartPtrType:this,smartPtr:a}):makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this,ptr:a})}var c=this.getPointee(a);if(!c)return this.destructor(a),null;var d=getInheritedInstance(this.registeredClass,c);if(void 0!==d){if(0===d.$$.count.value)return d.$$.ptr=c,d.$$.smartPtr=a,d.clone();var e=d.clone();return this.destructor(a),e}var f=this.registeredClass.getActualType(c),g=registeredPointers[f];if(!g)return b.call(this);var h;h=this.isConst?g.constPointerType:g.pointerType;var i=downcastPointer(c,this.registeredClass,h.registeredClass);return null===i?b.call(this):this.isSmartPointer?makeClassHandle(h.registeredClass.instancePrototype,{ptrType:h,ptr:i,smartPtrType:this,smartPtr:a}):makeClassHandle(h.registeredClass.instancePrototype,{ptrType:h,ptr:i})}function init_RegisteredPointer(){RegisteredPointer.prototype.getPointee=RegisteredPointer_getPointee,RegisteredPointer.prototype.destructor=RegisteredPointer_destructor,RegisteredPointer.prototype.argPackAdvance=8,RegisteredPointer.prototype.readValueFromPointer=simpleReadValueFromPointer,RegisteredPointer.prototype.deleteObject=RegisteredPointer_deleteObject,RegisteredPointer.prototype.fromWireType=RegisteredPointer_fromWireType}function RegisteredPointer(a,b,c,d,e,f,g,h,i,j,k){this.name=a,this.registeredClass=b,this.isReference=c,this.isConst=d,this.isSmartPointer=e,this.pointeeType=f,this.sharingPolicy=g,this.rawGetPointee=h,this.rawConstructor=i,this.rawShare=j,this.rawDestructor=k,e||void 0!==b.baseClass?this.toWireType=genericPointerToWireType:d?(this.toWireType=constNoSmartPtrRawPointerToWireType,this.destructorFunction=null):(this.toWireType=nonConstNoSmartPtrRawPointerToWireType,this.destructorFunction=null)}function replacePublicSymbol(a,b,c){Module.hasOwnProperty(a)||throwInternalError("Replacing nonexistant public symbol"),void 0!==Module[a].overloadTable&&void 0!==c?Module[a].overloadTable[c]=b:(Module[a]=b,Module[a].argCount=c)}function embind__requireFunction(a,b){function c(c){for(var d=[],e=1;e<a.length;++e)d.push("a"+e);var f="dynCall_"+a+"_"+b,g="return function "+f+"("+d.join(", ")+") {\n";return g+="    return dynCall(rawFunction"+(d.length?", ":"")+d.join(", ")+");\n",g+="};\n",new Function("dynCall","rawFunction",g)(c,b)}a=readLatin1String(a);var d;if(void 0!==Module["FUNCTION_TABLE_"+a])d=Module["FUNCTION_TABLE_"+a][b];else if("undefined"!=typeof FUNCTION_TABLE)d=FUNCTION_TABLE[b];else{var e=Module.asm["dynCall_"+a];void 0===e&&(e=Module.asm["dynCall_"+a.replace(/f/g,"d")],void 0===e&&throwBindingError("No dynCall invoker for signature: "+a)),d=c(e)}return"function"!=typeof d&&throwBindingError("unknown function pointer with signature "+a+": "+b),d}function getTypeName(a){var b=___getTypeName(a),c=readLatin1String(b);return _free(b),c}function throwUnboundTypeError(a,b){function c(a){if(!e[a]&&!registeredTypes[a]){if(typeDependencies[a])return void typeDependencies[a].forEach(c);d.push(a),e[a]=!0}}var d=[],e={};throw b.forEach(c),new UnboundTypeError(a+": "+d.map(getTypeName).join([", "]))}function __embind_register_class(a,b,c,d,e,f,g,h,i,j,k,l,m){k=readLatin1String(k),f=embind__requireFunction(e,f),h&&(h=embind__requireFunction(g,h)),j&&(j=embind__requireFunction(i,j)),m=embind__requireFunction(l,m);var n=makeLegalFunctionName(k);
exposePublicSymbol(n,function(){throwUnboundTypeError("Cannot construct "+k+" due to unbound types",[d])}),whenDependentTypesAreResolved([a,b,c],d?[d]:[],function(b){b=b[0];var c,e;d?(c=b.registeredClass,e=c.instancePrototype):e=ClassHandle.prototype;var g=createNamedFunction(n,function(){if(Object.getPrototypeOf(this)!==i)throw new BindingError("Use 'new' to construct "+k);if(void 0===l.constructor_body)throw new BindingError(k+" has no accessible constructor");var a=l.constructor_body[arguments.length];if(void 0===a)throw new BindingError("Tried to invoke ctor of "+k+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(l.constructor_body).toString()+") parameters instead!");return a.apply(this,arguments)}),i=Object.create(e,{constructor:{value:g}});g.prototype=i;var l=new RegisteredClass(k,g,i,m,c,f,h,j),o=new RegisteredPointer(k,l,!0,!1,!1),p=new RegisteredPointer(k+"*",l,!1,!1,!1),q=new RegisteredPointer(k+" const*",l,!1,!0,!1);return registeredPointers[a]={pointerType:p,constPointerType:q},replacePublicSymbol(n,g),[o,p,q]})}function heap32VectorToArray(a,b){for(var c=[],d=0;d<a;d++)c.push(HEAP32[(b>>2)+d]);return c}function runDestructors(a){for(;a.length;){var b=a.pop(),c=a.pop();c(b)}}function __embind_register_class_constructor(a,b,c,d,e,f){var g=heap32VectorToArray(b,c);e=embind__requireFunction(d,e),whenDependentTypesAreResolved([],[a],function(a){a=a[0];var c="constructor "+a.name;if(void 0===a.registeredClass.constructor_body&&(a.registeredClass.constructor_body=[]),void 0!==a.registeredClass.constructor_body[b-1])throw new BindingError("Cannot register multiple constructors with identical number of parameters ("+(b-1)+") for class '"+a.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return a.registeredClass.constructor_body[b-1]=function(){throwUnboundTypeError("Cannot construct "+a.name+" due to unbound types",g)},whenDependentTypesAreResolved([],g,function(d){return a.registeredClass.constructor_body[b-1]=function(){arguments.length!==b-1&&throwBindingError(c+" called with "+arguments.length+" arguments, expected "+(b-1));var a=[],g=new Array(b);g[0]=f;for(var h=1;h<b;++h)g[h]=d[h].toWireType(a,arguments[h-1]);var i=e.apply(null,g);return runDestructors(a),d[0].fromWireType(i)},[]}),[]})}function new_(a,b){if(!(a instanceof Function))throw new TypeError("new_ called with constructor type "+typeof a+" which is not a function");var c=createNamedFunction(a.name||"unknownFunctionName",function(){});c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return e instanceof Object?e:d}function craftInvokerFunction(a,b,c,d,e){var f=b.length;f<2&&throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var g=null!==b[1]&&null!==c,h=!1,i=1;i<b.length;++i)if(null!==b[i]&&void 0===b[i].destructorFunction){h=!0;break}for(var j="void"!==b[0].name,k="",l="",i=0;i<f-2;++i)k+=(0!==i?", ":"")+"arg"+i,l+=(0!==i?", ":"")+"arg"+i+"Wired";var m="return function "+makeLegalFunctionName(a)+"("+k+") {\nif (arguments.length !== "+(f-2)+") {\nthrowBindingError('function "+a+" called with ' + arguments.length + ' arguments, expected "+(f-2)+" args!');\n}\n";h&&(m+="var destructors = [];\n");var n=h?"destructors":"null",o=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],p=[throwBindingError,d,e,runDestructors,b[0],b[1]];g&&(m+="var thisWired = classParam.toWireType("+n+", this);\n");for(var i=0;i<f-2;++i)m+="var arg"+i+"Wired = argType"+i+".toWireType("+n+", arg"+i+"); // "+b[i+2].name+"\n",o.push("argType"+i),p.push(b[i+2]);if(g&&(l="thisWired"+(l.length>0?", ":"")+l),m+=(j?"var rv = ":"")+"invoker(fn"+(l.length>0?", ":"")+l+");\n",h)m+="runDestructors(destructors);\n";else for(var i=g?1:2;i<b.length;++i){var q=1===i?"thisWired":"arg"+(i-2)+"Wired";null!==b[i].destructorFunction&&(m+=q+"_dtor("+q+"); // "+b[i].name+"\n",o.push(q+"_dtor"),p.push(b[i].destructorFunction))}j&&(m+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),m+="}\n",o.push(m);var r=new_(Function,o).apply(null,p);return r}function __embind_register_class_function(a,b,c,d,e,f,g,h){var i=heap32VectorToArray(c,d);b=readLatin1String(b),f=embind__requireFunction(e,f),whenDependentTypesAreResolved([],[a],function(a){function d(){throwUnboundTypeError("Cannot call "+e+" due to unbound types",i)}a=a[0];var e=a.name+"."+b;h&&a.registeredClass.pureVirtualFunctions.push(b);var j=a.registeredClass.instancePrototype,k=j[b];return void 0===k||void 0===k.overloadTable&&k.className!==a.name&&k.argCount===c-2?(d.argCount=c-2,d.className=a.name,j[b]=d):(ensureOverloadTable(j,b,e),j[b].overloadTable[c-2]=d),whenDependentTypesAreResolved([],i,function(d){var h=craftInvokerFunction(e,d,a,f,g);return void 0===j[b].overloadTable?(h.argCount=c-2,j[b]=h):j[b].overloadTable[c-2]=h,[]}),[]})}function validateThis(a,b,c){return a instanceof Object||throwBindingError(c+' with invalid "this": '+a),a instanceof b.registeredClass.constructor||throwBindingError(c+' incompatible with "this" of type '+a.constructor.name),a.$$.ptr||throwBindingError("cannot call emscripten binding method "+c+" on deleted object"),upcastPointer(a.$$.ptr,a.$$.ptrType.registeredClass,b.registeredClass)}function __embind_register_class_property(a,b,c,d,e,f,g,h,i,j){b=readLatin1String(b),e=embind__requireFunction(d,e),whenDependentTypesAreResolved([],[a],function(a){a=a[0];var d=a.name+"."+b,k={get:function(){throwUnboundTypeError("Cannot access "+d+" due to unbound types",[c,g])},enumerable:!0,configurable:!0};return i?k.set=function(){throwUnboundTypeError("Cannot access "+d+" due to unbound types",[c,g])}:k.set=function(a){throwBindingError(d+" is a read-only property")},Object.defineProperty(a.registeredClass.instancePrototype,b,k),whenDependentTypesAreResolved([],i?[c,g]:[c],function(c){var g=c[0],k={get:function(){var b=validateThis(this,a,d+" getter");return g.fromWireType(e(f,b))},enumerable:!0};if(i){i=embind__requireFunction(h,i);var l=c[1];k.set=function(b){var c=validateThis(this,a,d+" setter"),e=[];i(j,c,l.toWireType(e,b)),runDestructors(e)}}return Object.defineProperty(a.registeredClass.instancePrototype,b,k),[]}),[]})}function __emval_decref(a){a>4&&0===--emval_handle_array[a].refcount&&(emval_handle_array[a]=void 0,emval_free_list.push(a))}function count_emval_handles(){for(var a=0,b=5;b<emval_handle_array.length;++b)void 0!==emval_handle_array[b]&&++a;return a}function get_first_emval(){for(var a=5;a<emval_handle_array.length;++a)if(void 0!==emval_handle_array[a])return emval_handle_array[a];return null}function init_emval(){Module.count_emval_handles=count_emval_handles,Module.get_first_emval=get_first_emval}function __emval_register(a){switch(a){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var b=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;return emval_handle_array[b]={refcount:1,value:a},b}}function __embind_register_emval(a,b){b=readLatin1String(b),registerType(a,{name:b,fromWireType:function(a){var b=emval_handle_array[a].value;return __emval_decref(a),b},toWireType:function(a,b){return __emval_register(b)},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:null})}function _embind_repr(a){if(null===a)return"null";var b=typeof a;return"object"===b||"array"===b||"function"===b?a.toString():""+a}function floatReadValueFromPointer(a,b){switch(b){case 2:return function(a){return this.fromWireType(HEAPF32[a>>2])};case 3:return function(a){return this.fromWireType(HEAPF64[a>>3])};default:throw new TypeError("Unknown float type: "+a)}}function __embind_register_float(a,b,c){var d=getShiftFromSize(c);b=readLatin1String(b),registerType(a,{name:b,fromWireType:function(a){return a},toWireType:function(a,b){if("number"!=typeof b&&"boolean"!=typeof b)throw new TypeError('Cannot convert "'+_embind_repr(b)+'" to '+this.name);return b},argPackAdvance:8,readValueFromPointer:floatReadValueFromPointer(b,d),destructorFunction:null})}function integerReadValueFromPointer(a,b,c){switch(b){case 0:return c?function(a){return HEAP8[a]}:function(a){return HEAPU8[a]};case 1:return c?function(a){return HEAP16[a>>1]}:function(a){return HEAPU16[a>>1]};case 2:return c?function(a){return HEAP32[a>>2]}:function(a){return HEAPU32[a>>2]};default:throw new TypeError("Unknown integer type: "+a)}}function __embind_register_integer(a,b,c,d,e){b=readLatin1String(b),e===-1&&(e=4294967295);var f=getShiftFromSize(c),g=function(a){return a};if(0===d){var h=32-8*c;g=function(a){return a<<h>>>h}}var i=b.indexOf("unsigned")!=-1;registerType(a,{name:b,fromWireType:g,toWireType:function(a,c){if("number"!=typeof c&&"boolean"!=typeof c)throw new TypeError('Cannot convert "'+_embind_repr(c)+'" to '+this.name);if(c<d||c>e)throw new TypeError('Passing a number "'+_embind_repr(c)+'" from JS side to C/C++ side to an argument of type "'+b+'", which is outside the valid range ['+d+", "+e+"]!");return i?c>>>0:0|c},argPackAdvance:8,readValueFromPointer:integerReadValueFromPointer(b,f,0!==d),destructorFunction:null})}function __embind_register_memory_view(a,b,c){function d(a){a>>=2;var b=HEAPU32,c=b[a],d=b[a+1];return new f(b.buffer,d,c)}var e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],f=e[b];c=readLatin1String(c),registerType(a,{name:c,fromWireType:d,argPackAdvance:8,readValueFromPointer:d},{ignoreDuplicateRegistrations:!0})}function __embind_register_std_string(a,b){b=readLatin1String(b),registerType(a,{name:b,fromWireType:function(a){for(var b=HEAPU32[a>>2],c=new Array(b),d=0;d<b;++d)c[d]=String.fromCharCode(HEAPU8[a+4+d]);return _free(a),c.join("")},toWireType:function(a,b){function c(a,b){return a[b]}function d(a,b){return a.charCodeAt(b)}b instanceof ArrayBuffer&&(b=new Uint8Array(b));var e;b instanceof Uint8Array?e=c:b instanceof Uint8ClampedArray?e=c:b instanceof Int8Array?e=c:"string"==typeof b?e=d:throwBindingError("Cannot pass non-string to std::string");var f=b.length,g=_malloc(4+f);HEAPU32[g>>2]=f;for(var h=0;h<f;++h){var i=e(b,h);i>255&&(_free(g),throwBindingError("String has UTF-16 code units that do not fit in 8 bits")),HEAPU8[g+4+h]=i}return null!==a&&a.push(_free,g),g},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(a){_free(a)}})}function __embind_register_std_wstring(a,b,c){c=readLatin1String(c);var d,e;2===b?(d=function(){return HEAPU16},e=1):4===b&&(d=function(){return HEAPU32},e=2),registerType(a,{name:c,fromWireType:function(a){for(var b=d(),c=HEAPU32[a>>2],f=new Array(c),g=a+4>>e,h=0;h<c;++h)f[h]=String.fromCharCode(b[g+h]);return _free(a),f.join("")},toWireType:function(a,c){var f=d(),g=c.length,h=_malloc(4+g*b);HEAPU32[h>>2]=g;for(var i=h+4>>e,j=0;j<g;++j)f[i+j]=c.charCodeAt(j);return null!==a&&a.push(_free,h),h},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(a){_free(a)}})}function __embind_register_void(a,b){b=readLatin1String(b),registerType(a,{isVoid:!0,name:b,argPackAdvance:0,fromWireType:function(){},toWireType:function(a,b){}})}function requireHandle(a){return a||throwBindingError("Cannot use deleted val. handle = "+a),emval_handle_array[a].value}function requireRegisteredType(a,b){var c=registeredTypes[a];return void 0===c&&throwBindingError(b+" has unknown type "+getTypeName(a)),c}function __emval_as(a,b,c){a=requireHandle(a),b=requireRegisteredType(b,"emval::as");var d=[],e=__emval_register(d);return HEAP32[c>>2]=e,b.toWireType(d,a)}function __emval_allocateDestructors(a){var b=[];return HEAP32[a>>2]=__emval_register(b),b}function getStringOrSymbol(a){var b=emval_symbols[a];return void 0===b?readLatin1String(a):b}function __emval_call_method(a,b,c,d,e){return a=emval_methodCallers[a],b=requireHandle(b),c=getStringOrSymbol(c),a(b,c,__emval_allocateDestructors(d),e)}function emval_get_global(){return function(){return Function}()("return this")()}function __emval_get_global(a){return 0===a?__emval_register(emval_get_global()):(a=getStringOrSymbol(a),__emval_register(emval_get_global()[a]))}function __emval_addMethodCaller(a){var b=emval_methodCallers.length;return emval_methodCallers.push(a),b}function __emval_lookupTypes(a,b,c){for(var d=new Array(a),e=0;e<a;++e)d[e]=requireRegisteredType(HEAP32[(b>>2)+e],"parameter "+e);return d}function __emval_get_method_caller(a,b){for(var c=__emval_lookupTypes(a,b),d=c[0],e=d.name+"_$"+c.slice(1).map(function(a){return a.name}).join("_")+"$",f=["retType"],g=[d],h="",i=0;i<a-1;++i)h+=(0!==i?", ":"")+"arg"+i,f.push("argType"+i),g.push(c[1+i]);for(var j=makeLegalFunctionName("methodCaller_"+e),k="return function "+j+"(handle, name, destructors, args) {\n",l=0,i=0;i<a-1;++i)k+="    var arg"+i+" = argType"+i+".readValueFromPointer(args"+(l?"+"+l:"")+");\n",l+=c[i+1].argPackAdvance;k+="    var rv = handle[name]("+h+");\n";for(var i=0;i<a-1;++i)c[i+1].deleteObject&&(k+="    argType"+i+".deleteObject(arg"+i+");\n");d.isVoid||(k+="    return retType.toWireType(destructors, rv);\n"),k+="};\n",f.push(k);var m=new_(Function,f).apply(null,g);return __emval_addMethodCaller(m)}function __emval_get_property(a,b){return a=requireHandle(a),b=requireHandle(b),__emval_register(a[b])}function __emval_incref(a){a>4&&(emval_handle_array[a].refcount+=1)}function __emval_new_cstring(a){return __emval_register(getStringOrSymbol(a))}function __emval_new_object(){return __emval_register({})}function __emval_run_destructors(a){var b=emval_handle_array[a].value;runDestructors(b),__emval_decref(a)}function __emval_set_property(a,b,c){a=requireHandle(a),b=requireHandle(b),c=requireHandle(c),a[b]=c}function __emval_take_value(a,b){a=requireRegisteredType(a,"_emval_take_value");var c=a.readValueFromPointer(b);return __emval_register(c)}function _abort(){Module.abort()}function _emscripten_get_now(){abort()}function _emscripten_get_now_is_monotonic(){return ENVIRONMENT_IS_NODE||"undefined"!=typeof dateNow||(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&self.performance&&self.performance.now}function _clock_gettime(a,b){var c;if(0===a)c=Date.now();else{if(1!==a||!_emscripten_get_now_is_monotonic())return ___setErrNo(ERRNO_CODES.EINVAL),-1;c=_emscripten_get_now()}return HEAP32[b>>2]=c/1e3|0,HEAP32[b+4>>2]=c%1e3*1e3*1e3|0,0}function _longjmp(a,b){throw Module.setThrew(a,b||1),"longjmp"}function _emscripten_longjmp(a,b){_longjmp(a,b)}function __exit(a){exit(a)}function _exit(a){__exit(a)}function _getenv(a){return 0===a?0:(a=Pointer_stringify(a),ENV.hasOwnProperty(a)?(_getenv.ret&&_free(_getenv.ret),_getenv.ret=allocateUTF8(ENV[a]),_getenv.ret):0)}function _gettimeofday(a){var b=Date.now();return HEAP32[a>>2]=b/1e3|0,HEAP32[a+4>>2]=b%1e3*1e3|0,0}function _llvm_copysign_f64(a,b){return b<0||0===b&&1/b<0?-Math_abs(a):Math_abs(a)}function _llvm_eh_typeid_for(a){return a}function _llvm_stackrestore(a){var b=_llvm_stacksave,c=b.LLVM_SAVEDSTACKS[a];b.LLVM_SAVEDSTACKS.splice(a,1),stackRestore(c)}function _llvm_stacksave(){var a=_llvm_stacksave;return a.LLVM_SAVEDSTACKS||(a.LLVM_SAVEDSTACKS=[]),a.LLVM_SAVEDSTACKS.push(stackSave()),a.LLVM_SAVEDSTACKS.length-1}function _llvm_trap(){abort("trap!")}function _emscripten_memcpy_big(a,b,c){return HEAPU8.set(HEAPU8.subarray(b,b+c),a),a}function _pthread_cond_destroy(){return 0}function _pthread_cond_init(){return 0}function _pthread_cond_signal(){return 0}function _pthread_cond_wait(){return 0}function _pthread_create(){return 11}function _pthread_getspecific(a){return PTHREAD_SPECIFIC[a]||0}function _pthread_join(){}function _pthread_key_create(a,b){return 0==a?ERRNO_CODES.EINVAL:(HEAP32[a>>2]=PTHREAD_SPECIFIC_NEXT_KEY,PTHREAD_SPECIFIC[PTHREAD_SPECIFIC_NEXT_KEY]=0,PTHREAD_SPECIFIC_NEXT_KEY++,0)}function _pthread_key_delete(a){return a in PTHREAD_SPECIFIC?(delete PTHREAD_SPECIFIC[a],0):ERRNO_CODES.EINVAL}function _pthread_mutex_destroy(){}function _pthread_mutex_init(){}function _pthread_mutexattr_destroy(){}function _pthread_mutexattr_init(){}function _pthread_mutexattr_settype(){}function _pthread_once(a,b){_pthread_once.seen||(_pthread_once.seen={}),a in _pthread_once.seen||(Module.dynCall_v(b),_pthread_once.seen[a]=1)}function _pthread_setspecific(a,b){return a in PTHREAD_SPECIFIC?(PTHREAD_SPECIFIC[a]=b,0):ERRNO_CODES.EINVAL}function _sched_yield(){return 0}function __isLeapYear(a){return a%4===0&&(a%100!==0||a%400===0)}function __arraySum(a,b){for(var c=0,d=0;d<=b;c+=a[d++]);return c}function __addDays(a,b){for(var c=new Date(a.getTime());b>0;){var d=__isLeapYear(c.getFullYear()),e=c.getMonth(),f=(d?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[e];if(!(b>f-c.getDate()))return c.setDate(c.getDate()+b),c;b-=f-c.getDate()+1,c.setDate(1),e<11?c.setMonth(e+1):(c.setMonth(0),c.setFullYear(c.getFullYear()+1))}return c}function _strftime(a,b,c,d){function e(a,b,c){for(var d="number"==typeof a?a.toString():a||"";d.length<b;)d=c[0]+d;return d}function f(a,b){return e(a,b,"0")}function g(a,b){function c(a){return a<0?-1:a>0?1:0}var d;return 0===(d=c(a.getFullYear()-b.getFullYear()))&&0===(d=c(a.getMonth()-b.getMonth()))&&(d=c(a.getDate()-b.getDate())),d}function h(a){switch(a.getDay()){case 0:return new Date(a.getFullYear()-1,11,29);case 1:return a;case 2:return new Date(a.getFullYear(),0,3);case 3:return new Date(a.getFullYear(),0,2);case 4:return new Date(a.getFullYear(),0,1);case 5:return new Date(a.getFullYear()-1,11,31);case 6:return new Date(a.getFullYear()-1,11,30)}}function i(a){var b=__addDays(new Date(a.tm_year+1900,0,1),a.tm_yday),c=new Date(b.getFullYear(),0,4),d=new Date(b.getFullYear()+1,0,4),e=h(c),f=h(d);return g(e,b)<=0?g(f,b)<=0?b.getFullYear()+1:b.getFullYear():b.getFullYear()-1}var j=HEAP32[d+40>>2],k={tm_sec:HEAP32[d>>2],tm_min:HEAP32[d+4>>2],tm_hour:HEAP32[d+8>>2],tm_mday:HEAP32[d+12>>2],tm_mon:HEAP32[d+16>>2],tm_year:HEAP32[d+20>>2],tm_wday:HEAP32[d+24>>2],tm_yday:HEAP32[d+28>>2],tm_isdst:HEAP32[d+32>>2],tm_gmtoff:HEAP32[d+36>>2],tm_zone:j?Pointer_stringify(j):""},l=Pointer_stringify(c),m={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"};for(var n in m)l=l.replace(new RegExp(n,"g"),m[n]);var o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],q={"%a":function(a){return o[a.tm_wday].substring(0,3)},"%A":function(a){return o[a.tm_wday]},"%b":function(a){return p[a.tm_mon].substring(0,3)},"%B":function(a){return p[a.tm_mon]},"%C":function(a){var b=a.tm_year+1900;return f(b/100|0,2)},"%d":function(a){return f(a.tm_mday,2)},"%e":function(a){return e(a.tm_mday,2," ")},"%g":function(a){return i(a).toString().substring(2)},"%G":function(a){return i(a)},"%H":function(a){return f(a.tm_hour,2)},"%I":function(a){var b=a.tm_hour;return 0==b?b=12:b>12&&(b-=12),f(b,2)},"%j":function(a){return f(a.tm_mday+__arraySum(__isLeapYear(a.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,a.tm_mon-1),3)},"%m":function(a){return f(a.tm_mon+1,2)},"%M":function(a){return f(a.tm_min,2)},"%n":function(){return"\n"},"%p":function(a){return a.tm_hour>=0&&a.tm_hour<12?"AM":"PM"},"%S":function(a){return f(a.tm_sec,2)},"%t":function(){return"\t"},"%u":function(a){var b=new Date(a.tm_year+1900,a.tm_mon+1,a.tm_mday,0,0,0,0);return b.getDay()||7},"%U":function(a){var b=new Date(a.tm_year+1900,0,1),c=0===b.getDay()?b:__addDays(b,7-b.getDay()),d=new Date(a.tm_year+1900,a.tm_mon,a.tm_mday);if(g(c,d)<0){var e=__arraySum(__isLeapYear(d.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,d.getMonth()-1)-31,h=31-c.getDate(),i=h+e+d.getDate();return f(Math.ceil(i/7),2)}return 0===g(c,b)?"01":"00"},"%V":function(a){var b=new Date(a.tm_year+1900,0,4),c=new Date(a.tm_year+1901,0,4),d=h(b),e=h(c),i=__addDays(new Date(a.tm_year+1900,0,1),a.tm_yday);if(g(i,d)<0)return"53";if(g(e,i)<=0)return"01";var j;return j=d.getFullYear()<a.tm_year+1900?a.tm_yday+32-d.getDate():a.tm_yday+1-d.getDate(),f(Math.ceil(j/7),2)},"%w":function(a){var b=new Date(a.tm_year+1900,a.tm_mon+1,a.tm_mday,0,0,0,0);return b.getDay()},"%W":function(a){var b=new Date(a.tm_year,0,1),c=1===b.getDay()?b:__addDays(b,0===b.getDay()?1:7-b.getDay()+1),d=new Date(a.tm_year+1900,a.tm_mon,a.tm_mday);if(g(c,d)<0){var e=__arraySum(__isLeapYear(d.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,d.getMonth()-1)-31,h=31-c.getDate(),i=h+e+d.getDate();return f(Math.ceil(i/7),2)}return 0===g(c,b)?"01":"00"},"%y":function(a){return(a.tm_year+1900).toString().substring(2)},"%Y":function(a){return a.tm_year+1900},"%z":function(a){var b=a.tm_gmtoff,c=b>=0;return b=Math.abs(b)/60,b=b/60*100+b%60,(c?"+":"-")+String("0000"+b).slice(-4)},"%Z":function(a){return a.tm_zone},"%%":function(){return"%"}};for(var n in q)l.indexOf(n)>=0&&(l=l.replace(new RegExp(n,"g"),q[n](k)));var r=intArrayFromString(l,!1);return r.length>b?0:(writeArrayToMemory(r,a),r.length-1)}function _strftime_l(a,b,c,d){return _strftime(a,b,c,d)}function intArrayFromString(a,b,c){var d=c>0?c:lengthBytesUTF8(a)+1,e=new Array(d),f=stringToUTF8Array(a,e,0,e.length);return b&&(e.length=f),e}function invoke_di(a,b){var c=stackSave();try{return Module.dynCall_di(a,b)}catch(a){if(stackRestore(c),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_dii(a,b,c){var d=stackSave();try{return Module.dynCall_dii(a,b,c)}catch(a){if(stackRestore(d),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_diii(a,b,c,d){var e=stackSave();try{return Module.dynCall_diii(a,b,c,d)}catch(a){if(stackRestore(e),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_diiii(a,b,c,d,e){var f=stackSave();try{return Module.dynCall_diiii(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_fii(a,b,c){var d=stackSave();try{return Module.dynCall_fii(a,b,c)}catch(a){if(stackRestore(d),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_fiii(a,b,c,d){var e=stackSave();try{return Module.dynCall_fiii(a,b,c,d)}catch(a){if(stackRestore(e),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_fiiii(a,b,c,d,e){var f=stackSave();try{return Module.dynCall_fiiii(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_i(a){var b=stackSave();try{return Module.dynCall_i(a)}catch(a){if(stackRestore(b),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iddii(a,b,c,d,e){var f=stackSave();try{return Module.dynCall_iddii(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_ii(a,b){var c=stackSave();try{return Module.dynCall_ii(a,b)}catch(a){if(stackRestore(c),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iii(a,b,c){var d=stackSave();try{return Module.dynCall_iii(a,b,c)}catch(a){if(stackRestore(d),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiid(a,b,c,d){var e=stackSave();try{return Module.dynCall_iiid(a,b,c,d)}catch(a){if(stackRestore(e),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiidd(a,b,c,d,e){var f=stackSave();try{return Module.dynCall_iiidd(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiii(a,b,c,d){var e=stackSave();try{return Module.dynCall_iiii(a,b,c,d)}catch(a){if(stackRestore(e),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiidd(a,b,c,d,e,f){var g=stackSave();try{return Module.dynCall_iiiidd(a,b,c,d,e,f)}catch(a){if(stackRestore(g),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiidddddddddddddddddddd(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){var y=stackSave();try{return Module.dynCall_iiiidddddddddddddddddddd(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x)}catch(a){if(stackRestore(y),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiidi(a,b,c,d,e,f){var g=stackSave();try{return Module.dynCall_iiiidi(a,b,c,d,e,f)}catch(a){if(stackRestore(g),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiii(a,b,c,d,e){var f=stackSave();try{return Module.dynCall_iiiii(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiid(a,b,c,d,e,f){var g=stackSave();try{return Module.dynCall_iiiiid(a,b,c,d,e,f)}catch(a){if(stackRestore(g),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiidiid(a,b,c,d,e,f,g,h,i){var j=stackSave();try{return Module.dynCall_iiiiidiid(a,b,c,d,e,f,g,h,i)}catch(a){if(stackRestore(j),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiii(a,b,c,d,e,f){var g=stackSave();try{return Module.dynCall_iiiiii(a,b,c,d,e,f)}catch(a){if(stackRestore(g),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiiid(a,b,c,d,e,f,g){var h=stackSave();try{return Module.dynCall_iiiiiid(a,b,c,d,e,f,g)}catch(a){if(stackRestore(h),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiiifiididiii(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=stackSave();try{return Module.dynCall_iiiiiifiididiii(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o)}catch(a){if(stackRestore(p),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiiii(a,b,c,d,e,f,g){var h=stackSave();try{return Module.dynCall_iiiiiii(a,b,c,d,e,f,g)}catch(a){if(stackRestore(h),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiiiid(a,b,c,d,e,f,g,h){var i=stackSave();try{return Module.dynCall_iiiiiiid(a,b,c,d,e,f,g,h)}catch(a){if(stackRestore(i),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiiiii(a,b,c,d,e,f,g,h){var i=stackSave();try{return Module.dynCall_iiiiiiii(a,b,c,d,e,f,g,h)}catch(a){if(stackRestore(i),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiiiiii(a,b,c,d,e,f,g,h,i){var j=stackSave();try{return Module.dynCall_iiiiiiiii(a,b,c,d,e,f,g,h,i)}catch(a){if(stackRestore(j),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiiiiiii(a,b,c,d,e,f,g,h,i,j){var k=stackSave();try{return Module.dynCall_iiiiiiiiii(a,b,c,d,e,f,g,h,i,j)}catch(a){if(stackRestore(k),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k){var l=stackSave();try{return Module.dynCall_iiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k)}catch(a){if(stackRestore(l),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l){var m=stackSave();try{return Module.dynCall_iiiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l)}catch(a){if(stackRestore(m),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=stackSave();try{return Module.dynCall_iiiiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m)}catch(a){if(stackRestore(n),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiiiij(a,b,c,d,e,f,g){var h=stackSave();try{return Module.dynCall_iiiiij(a,b,c,d,e,f,g)}catch(a){if(stackRestore(h),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_iiij(a,b,c,d,e){var f=stackSave();try{return Module.dynCall_iiij(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_ji(a,b){var c=stackSave();try{return Module.dynCall_ji(a,b)}catch(a){if(stackRestore(c),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_jii(a,b,c){var d=stackSave();try{return Module.dynCall_jii(a,b,c)}catch(a){if(stackRestore(d),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_jiii(a,b,c,d){var e=stackSave();try{return Module.dynCall_jiii(a,b,c,d)}catch(a){if(stackRestore(e),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_jiiii(a,b,c,d,e){var f=stackSave();try{return Module.dynCall_jiiii(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_jiji(a,b,c,d,e){var f=stackSave();try{return Module.dynCall_jiji(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_v(a){var b=stackSave();try{Module.dynCall_v(a)}catch(a){if(stackRestore(b),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_vddiiii(a,b,c,d,e,f,g){var h=stackSave();try{Module.dynCall_vddiiii(a,b,c,d,e,f,g)}catch(a){if(stackRestore(h),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_vdiii(a,b,c,d,e){var f=stackSave();try{Module.dynCall_vdiii(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_vi(a,b){var c=stackSave();try{Module.dynCall_vi(a,b)}catch(a){if(stackRestore(c),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_vid(a,b,c){var d=stackSave();try{Module.dynCall_vid(a,b,c)}catch(a){if(stackRestore(d),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_vidi(a,b,c,d){var e=stackSave();try{Module.dynCall_vidi(a,b,c,d)}catch(a){if(stackRestore(e),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_vididdii(a,b,c,d,e,f,g,h){var i=stackSave();try{Module.dynCall_vididdii(a,b,c,d,e,f,g,h)}catch(a){if(stackRestore(i),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_vidii(a,b,c,d,e){var f=stackSave();try{Module.dynCall_vidii(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_vifi(a,b,c,d){var e=stackSave();try{Module.dynCall_vifi(a,b,c,d)}catch(a){if(stackRestore(e),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_vii(a,b,c){var d=stackSave();try{Module.dynCall_vii(a,b,c)}catch(a){if(stackRestore(d),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viid(a,b,c,d){var e=stackSave();try{Module.dynCall_viid(a,b,c,d)}catch(a){if(stackRestore(e),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viidd(a,b,c,d,e){var f=stackSave();try{Module.dynCall_viidd(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viidi(a,b,c,d,e){var f=stackSave();try{Module.dynCall_viidi(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viididii(a,b,c,d,e,f,g,h){var i=stackSave();try{Module.dynCall_viididii(a,b,c,d,e,f,g,h)}catch(a){if(stackRestore(i),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viii(a,b,c,d){var e=stackSave();try{Module.dynCall_viii(a,b,c,d)}catch(a){if(stackRestore(e),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiid(a,b,c,d,e){var f=stackSave();try{Module.dynCall_viiid(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiidd(a,b,c,d,e,f){var g=stackSave();try{Module.dynCall_viiidd(a,b,c,d,e,f)}catch(a){if(stackRestore(g),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiidddd(a,b,c,d,e,f,g,h){var i=stackSave();try{Module.dynCall_viiidddd(a,b,c,d,e,f,g,h)}catch(a){if(stackRestore(i),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiddi(a,b,c,d,e,f,g){var h=stackSave();try{Module.dynCall_viiiddi(a,b,c,d,e,f,g)}catch(a){if(stackRestore(h),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiidi(a,b,c,d,e,f){var g=stackSave();try{Module.dynCall_viiidi(a,b,c,d,e,f)}catch(a){
if(stackRestore(g),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiidii(a,b,c,d,e,f,g){var h=stackSave();try{Module.dynCall_viiidii(a,b,c,d,e,f,g)}catch(a){if(stackRestore(h),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiidiii(a,b,c,d,e,f,g,h){var i=stackSave();try{Module.dynCall_viiidiii(a,b,c,d,e,f,g,h)}catch(a){if(stackRestore(i),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiidiiiiii(a,b,c,d,e,f,g,h,i,j,k){var l=stackSave();try{Module.dynCall_viiidiiiiii(a,b,c,d,e,f,g,h,i,j,k)}catch(a){if(stackRestore(l),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiif(a,b,c,d,e){var f=stackSave();try{Module.dynCall_viiif(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiii(a,b,c,d,e){var f=stackSave();try{Module.dynCall_viiii(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiid(a,b,c,d,e,f){var g=stackSave();try{Module.dynCall_viiiid(a,b,c,d,e,f)}catch(a){if(stackRestore(g),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiidi(a,b,c,d,e,f,g){var h=stackSave();try{Module.dynCall_viiiidi(a,b,c,d,e,f,g)}catch(a){if(stackRestore(h),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiidid(a,b,c,d,e,f,g,h){var i=stackSave();try{Module.dynCall_viiiidid(a,b,c,d,e,f,g,h)}catch(a){if(stackRestore(i),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiidiid(a,b,c,d,e,f,g,h,i){var j=stackSave();try{Module.dynCall_viiiidiid(a,b,c,d,e,f,g,h,i)}catch(a){if(stackRestore(j),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiidiidiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=stackSave();try{Module.dynCall_viiiidiidiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)}catch(a){if(stackRestore(q),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiif(a,b,c,d,e,f){var g=stackSave();try{Module.dynCall_viiiif(a,b,c,d,e,f)}catch(a){if(stackRestore(g),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiifiifiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=stackSave();try{Module.dynCall_viiiifiifiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)}catch(a){if(stackRestore(q),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiii(a,b,c,d,e,f){var g=stackSave();try{Module.dynCall_viiiii(a,b,c,d,e,f)}catch(a){if(stackRestore(g),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiididdi(a,b,c,d,e,f,g,h,i,j,k){var l=stackSave();try{Module.dynCall_viiiiididdi(a,b,c,d,e,f,g,h,i,j,k)}catch(a){if(stackRestore(l),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiii(a,b,c,d,e,f,g){var h=stackSave();try{Module.dynCall_viiiiii(a,b,c,d,e,f,g)}catch(a){if(stackRestore(h),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiddi(a,b,c,d,e,f,g,h,i,j){var k=stackSave();try{Module.dynCall_viiiiiiddi(a,b,c,d,e,f,g,h,i,j)}catch(a){if(stackRestore(k),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiidi(a,b,c,d,e,f,g,h,i){var j=stackSave();try{Module.dynCall_viiiiiidi(a,b,c,d,e,f,g,h,i)}catch(a){if(stackRestore(j),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiidiii(a,b,c,d,e,f,g,h,i,j,k){var l=stackSave();try{Module.dynCall_viiiiiidiii(a,b,c,d,e,f,g,h,i,j,k)}catch(a){if(stackRestore(l),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiifii(a,b,c,d,e,f,g,h,i,j){var k=stackSave();try{Module.dynCall_viiiiiifii(a,b,c,d,e,f,g,h,i,j)}catch(a){if(stackRestore(k),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiii(a,b,c,d,e,f,g,h){var i=stackSave();try{Module.dynCall_viiiiiii(a,b,c,d,e,f,g,h)}catch(a){if(stackRestore(i),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiidd(a,b,c,d,e,f,g,h,i,j){var k=stackSave();try{Module.dynCall_viiiiiiidd(a,b,c,d,e,f,g,h,i,j)}catch(a){if(stackRestore(k),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiddi(a,b,c,d,e,f,g,h,i,j,k){var l=stackSave();try{Module.dynCall_viiiiiiiddi(a,b,c,d,e,f,g,h,i,j,k)}catch(a){if(stackRestore(l),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiii(a,b,c,d,e,f,g,h,i){var j=stackSave();try{Module.dynCall_viiiiiiii(a,b,c,d,e,f,g,h,i)}catch(a){if(stackRestore(j),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiid(a,b,c,d,e,f,g,h,i,j){var k=stackSave();try{Module.dynCall_viiiiiiiid(a,b,c,d,e,f,g,h,i,j)}catch(a){if(stackRestore(k),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiidd(a,b,c,d,e,f,g,h,i,j,k){var l=stackSave();try{Module.dynCall_viiiiiiiidd(a,b,c,d,e,f,g,h,i,j,k)}catch(a){if(stackRestore(l),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiidf(a,b,c,d,e,f,g,h,i,j,k){var l=stackSave();try{Module.dynCall_viiiiiiiidf(a,b,c,d,e,f,g,h,i,j,k)}catch(a){if(stackRestore(l),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiii(a,b,c,d,e,f,g,h,i,j){var k=stackSave();try{Module.dynCall_viiiiiiiii(a,b,c,d,e,f,g,h,i,j)}catch(a){if(stackRestore(k),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiiidd(a,b,c,d,e,f,g,h,i,j,k,l){var m=stackSave();try{Module.dynCall_viiiiiiiiidd(a,b,c,d,e,f,g,h,i,j,k,l)}catch(a){if(stackRestore(m),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiiiddi(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=stackSave();try{Module.dynCall_viiiiiiiiiddi(a,b,c,d,e,f,g,h,i,j,k,l,m)}catch(a){if(stackRestore(n),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k){var l=stackSave();try{Module.dynCall_viiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k)}catch(a){if(stackRestore(l),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiiiiddd(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=stackSave();try{Module.dynCall_viiiiiiiiiiddd(a,b,c,d,e,f,g,h,i,j,k,l,m,n)}catch(a){if(stackRestore(o),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiiiiddi(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=stackSave();try{Module.dynCall_viiiiiiiiiiddi(a,b,c,d,e,f,g,h,i,j,k,l,m,n)}catch(a){if(stackRestore(o),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l){var m=stackSave();try{Module.dynCall_viiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l)}catch(a){if(stackRestore(m),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiiiiid(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=stackSave();try{Module.dynCall_viiiiiiiiiiid(a,b,c,d,e,f,g,h,i,j,k,l,m)}catch(a){if(stackRestore(n),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=stackSave();try{Module.dynCall_viiiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m)}catch(a){if(stackRestore(n),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=stackSave();try{Module.dynCall_viiiiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m,n)}catch(a){if(stackRestore(o),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=stackSave();try{Module.dynCall_viiiiiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o)}catch(a){if(stackRestore(p),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=stackSave();try{Module.dynCall_viiiiiiiiiiiiiii(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)}catch(a){if(stackRestore(q),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiiiiiiiiiiiiiiiiidi(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w=stackSave();try{Module.dynCall_viiiiiiiiiiiiiiiiiiidi(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v)}catch(a){if(stackRestore(w),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiiij(a,b,c,d,e,f,g){var h=stackSave();try{Module.dynCall_viiiij(a,b,c,d,e,f,g)}catch(a){if(stackRestore(h),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viiij(a,b,c,d,e,f){var g=stackSave();try{Module.dynCall_viiij(a,b,c,d,e,f)}catch(a){if(stackRestore(g),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viij(a,b,c,d,e){var f=stackSave();try{Module.dynCall_viij(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viijii(a,b,c,d,e,f,g){var h=stackSave();try{Module.dynCall_viijii(a,b,c,d,e,f,g)}catch(a){if(stackRestore(h),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_vij(a,b,c,d){var e=stackSave();try{Module.dynCall_vij(a,b,c,d)}catch(a){if(stackRestore(e),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function invoke_viji(a,b,c,d,e){var f=stackSave();try{Module.dynCall_viji(a,b,c,d,e)}catch(a){if(stackRestore(f),"number"!=typeof a&&"longjmp"!==a)throw a;Module.setThrew(1,0)}}function ExitStatus(a){this.name="ExitStatus",this.message="Program terminated with exit("+a+")",this.status=a}function run(a){function b(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),postRun()))}a=a||Module.arguments,runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),b()},1)):b()))}function exit(a,b){b&&Module.noExitRuntime&&0===a||(Module.noExitRuntime||(ABORT=!0,EXITSTATUS=a,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(a)),Module.quit(a,new ExitStatus(a)))}function abort(a){throw Module.onAbort&&Module.onAbort(a),void 0!==a?(out(a),err(a),a=JSON.stringify(a)):a="",ABORT=!0,EXITSTATUS=1,"abort("+a+"). Build with -s ASSERTIONS=1 for more info."}!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=47)}([function(a,b){var c=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(a,b,c){var d=c(33)("wks"),e=c(34),f=c(0).Symbol,g="function"==typeof f,h=a.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))};h.store=d},function(a,b){var c=a.exports={version:"2.5.7"};"number"==typeof __e&&(__e=c)},function(a,b,c){"use strict";function d(a,b,c){var d=a.match(b);return d&&d.length>=c&&parseInt(d[c],10)}function e(a,b,c){if(a.RTCPeerConnection){var d=a.RTCPeerConnection.prototype,e=d.addEventListener;d.addEventListener=function(a,d){if(a!==b)return e.apply(this,arguments);var f=function(a){var b=c(a);b&&d(b)};return this._eventMap=this._eventMap||{},this._eventMap[d]=f,e.apply(this,[a,f])};var f=d.removeEventListener;d.removeEventListener=function(a,c){if(a!==b||!this._eventMap||!this._eventMap[c])return f.apply(this,arguments);var d=this._eventMap[c];return delete this._eventMap[c],f.apply(this,[a,d])},Object.defineProperty(d,"on"+b,{get:function(){return this["_on"+b]},set:function(a){this["_on"+b]&&(this.removeEventListener(b,this["_on"+b]),delete this["_on"+b]),a&&this.addEventListener(b,this["_on"+b]=a)},enumerable:!0,configurable:!0})}}var f=!0,g=!0;a.exports={extractVersion:d,wrapPeerConnectionEvent:e,disableLog:function(a){return"boolean"!=typeof a?new Error("Argument type: "+typeof a+". Please use a boolean."):(f=a,a?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(a){return"boolean"!=typeof a?new Error("Argument type: "+typeof a+". Please use a boolean."):(g=!a,"adapter.js deprecation warnings "+(a?"disabled":"enabled"))},log:function(){if("object"==typeof window){if(f)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(a,b){g&&console.warn(a+" is deprecated, please use "+b+" instead.")},detectBrowser:function(a){var b=a&&a.navigator,c={};if(c.browser=null,c.version=null,"undefined"==typeof a||!a.navigator)return c.browser="Not a browser.",c;if(b.mozGetUserMedia)c.browser="firefox",c.version=d(b.userAgent,/Firefox\/(\d+)\./,1);else if(b.webkitGetUserMedia)c.browser="chrome",c.version=d(b.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(b.mediaDevices&&b.userAgent.match(/Edge\/(\d+).(\d+)$/))c.browser="edge",c.version=d(b.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!a.RTCPeerConnection||!b.userAgent.match(/AppleWebKit\/(\d+)\./))return c.browser="Not a supported browser.",c;c.browser="safari",c.version=d(b.userAgent,/AppleWebKit\/(\d+)\./,1)}return c}}},function(a,b,c){var d=c(7);a.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},function(a,b,c){var d=c(13),e=c(31);a.exports=c(8)?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},function(a,b){a.exports={}},function(a,b){a.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},function(a,b,c){a.exports=!c(30)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){var d=c(0),e=c(2),f=c(11),g=c(5),h=c(14),i="prototype",j=function(a,b,c){var k,l,m,n=a&j.F,o=a&j.G,p=a&j.S,q=a&j.P,r=a&j.B,s=a&j.W,t=o?e:e[b]||(e[b]={}),u=t[i],v=o?d:p?d[b]:(d[b]||{})[i];o&&(c=b);for(k in c)l=!n&&v&&void 0!==v[k],l&&h(t,k)||(m=l?v[k]:c[k],t[k]=o&&"function"!=typeof v[k]?c[k]:r&&l?f(m,d):s&&v[k]==m?function(a){var b=function(b,c,d){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(b);case 2:return new a(b,c)}return new a(b,c,d)}return a.apply(this,arguments)};return b[i]=a[i],b}(m):q&&"function"==typeof m?f(Function.call,m):m,q&&((t.virtual||(t.virtual={}))[k]=m,a&j.R&&u&&!u[k]&&g(u,k,m)))};j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128,a.exports=j},function(a,b,c){var d=c(12);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a,b){a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a,b,c){var d=c(4),e=c(53),f=c(54),g=Object.defineProperty;b.f=c(8)?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},function(a,b){var c={}.hasOwnProperty;a.exports=function(a,b){return c.call(a,b)}},function(a,b){var c={}.toString;a.exports=function(a){return c.call(a).slice(8,-1)}},function(a,b,c){a.exports={default:c(48),__esModule:!0}},function(a,b,c){a.exports={default:c(50),__esModule:!0}},function(a,b,c){"use strict";var d=c(52)(!0);c(29)(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},function(a,b){var c=Math.ceil,d=Math.floor;a.exports=function(a){return isNaN(a=+a)?0:(a>0?d:c)(a)}},function(a,b){a.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(a,b){a.exports=!0},function(a,b,c){var d=c(7),e=c(0).document,f=d(e)&&d(e.createElement);a.exports=function(a){return f?e.createElement(a):{}}},function(a,b,c){var d=c(61),e=c(20);a.exports=function(a){return d(e(a))}},function(a,b,c){var d=c(33)("keys"),e=c(34);a.exports=function(a){return d[a]||(d[a]=e(a))}},function(a,b,c){var d=c(13).f,e=c(14),f=c(1)("toStringTag");a.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},function(a,b,c){c(66);for(var d=c(0),e=c(5),f=c(6),g=c(1)("toStringTag"),h="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<h.length;i++){var j=h[i],k=d[j],l=k&&k.prototype;l&&!l[g]&&e(l,g,j),f[j]=f.Array}},function(a,b,c){var d=c(15),e=c(1)("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(a){}};a.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},function(a,b,c){"use strict";function d(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw TypeError("Bad Promise constructor");b=a,c=d}),this.resolve=e(b),this.reject=e(c)}var e=c(12);a.exports.f=function(a){return new d(a)}},function(a,b,c){"use strict";var d=c(21),e=c(10),f=c(55),g=c(5),h=c(6),i=c(56),j=c(25),k=c(64),l=c(1)("iterator"),m=!([].keys&&"next"in[].keys()),n="@@iterator",o="keys",p="values",q=function(){return this};a.exports=function(a,b,c,r,s,t,u){i(c,b,r);var v,w,x,y=function(a){if(!m&&a in C)return C[a];switch(a){case o:return function(){return new c(this,a)};case p:return function(){return new c(this,a)}}return function(){return new c(this,a)}},z=b+" Iterator",A=s==p,B=!1,C=a.prototype,D=C[l]||C[n]||s&&C[s],E=D||y(s),F=s?A?y("entries"):E:void 0,G="Array"==b?C.entries||D:D;if(G&&(x=k(G.call(new a)),x!==Object.prototype&&x.next&&(j(x,z,!0),d||"function"==typeof x[l]||g(x,l,q))),A&&D&&D.name!==p&&(B=!0,E=function(){return D.call(this)}),d&&!u||!m&&!B&&C[l]||g(C,l,E),h[b]=E,h[z]=q,s)if(v={values:A?E:y(p),keys:t?E:y(o),entries:F},u)for(w in v)w in C||f(C,w,v[w]);else e(e.P+e.F*(m||B),b,v);return v}},function(a,b){a.exports=function(a){try{return!!a()}catch(a){return!0}}},function(a,b){a.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},function(a,b,c){var d=c(19),e=Math.min;a.exports=function(a){return a>0?e(d(a),9007199254740991):0}},function(a,b,c){var d=c(2),e=c(0),f="__core-js_shared__",g=e[f]||(e[f]={});(a.exports=function(a,b){return g[a]||(g[a]=void 0!==b?b:{})})("versions",[]).push({version:d.version,mode:c(21)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(a,b){var c=0,d=Math.random();a.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++c+d).toString(36))}},function(a,b){a.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(a,b,c){var d=c(0).document;a.exports=d&&d.documentElement},function(a,b,c){var d=c(27),e=c(1)("iterator"),f=c(6);a.exports=c(2).getIteratorMethod=function(a){if(void 0!=a)return a[e]||a["@@iterator"]||f[d(a)]}},function(a,b,c){var d=c(4),e=c(12),f=c(1)("species");a.exports=function(a,b){var c,g=d(a).constructor;return void 0===g||void 0==(c=d(g)[f])?b:e(c)}},function(a,b,c){var d,e,f,g=c(11),h=c(74),i=c(36),j=c(22),k=c(0),l=k.process,m=k.setImmediate,n=k.clearImmediate,o=k.MessageChannel,p=k.Dispatch,q=0,r={},s="onreadystatechange",t=function(){var a=+this;if(r.hasOwnProperty(a)){var b=r[a];delete r[a],b()}},u=function(a){t.call(a.data)};m&&n||(m=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return r[++q]=function(){h("function"==typeof a?a:Function(a),b)},d(q),q},n=function(a){delete r[a]},"process"==c(15)(l)?d=function(a){l.nextTick(g(t,a,1))}:p&&p.now?d=function(a){p.now(g(t,a,1))}:o?(e=new o,f=e.port2,e.port1.onmessage=u,d=g(f.postMessage,f,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScripts?(d=function(a){k.postMessage(a+"","*")},k.addEventListener("message",u,!1)):d=s in j("script")?function(a){i.appendChild(j("script"))[s]=function(){i.removeChild(this),t.call(a)}}:function(a){setTimeout(g(t,a,1),0)}),a.exports={set:m,clear:n}},function(a,b){a.exports=function(a){try{return{e:!1,v:a()}}catch(a){return{e:!0,v:a}}}},function(a,b,c){var d=c(4),e=c(7),f=c(28);a.exports=function(a,b){if(d(a),e(b)&&b.constructor===a)return b;var c=f.f(a),g=c.resolve;return g(b),c.promise}},function(a,b,c){"use strict";var d={};d.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},d.localCName=d.generateIdentifier(),d.splitLines=function(a){return a.trim().split("\n").map(function(a){return a.trim()})},d.splitSections=function(a){var b=a.split("\nm=");return b.map(function(a,b){return(b>0?"m="+a:a).trim()+"\r\n"})},d.getDescription=function(a){var b=d.splitSections(a);return b&&b[0]},d.getMediaSections=function(a){var b=d.splitSections(a);return b.shift(),b},d.matchPrefix=function(a,b){return d.splitLines(a).filter(function(a){return 0===a.indexOf(b)})},d.parseCandidate=function(a){var b;b=0===a.indexOf("a=candidate:")?a.substring(12).split(" "):a.substring(10).split(" ");for(var c={foundation:b[0],component:parseInt(b[1],10),protocol:b[2].toLowerCase(),priority:parseInt(b[3],10),ip:b[4],port:parseInt(b[5],10),type:b[7]},d=8;d<b.length;d+=2)switch(b[d]){case"raddr":c.relatedAddress=b[d+1];break;case"rport":c.relatedPort=parseInt(b[d+1],10);break;case"tcptype":c.tcpType=b[d+1];break;case"ufrag":c.ufrag=b[d+1],c.usernameFragment=b[d+1];break;default:c[b[d]]=b[d+1]}return c},d.writeCandidate=function(a){var b=[];b.push(a.foundation),b.push(a.component),b.push(a.protocol.toUpperCase()),b.push(a.priority),b.push(a.ip),b.push(a.port);var c=a.type;return b.push("typ"),b.push(c),"host"!==c&&a.relatedAddress&&a.relatedPort&&(b.push("raddr"),b.push(a.relatedAddress),b.push("rport"),b.push(a.relatedPort)),a.tcpType&&"tcp"===a.protocol.toLowerCase()&&(b.push("tcptype"),b.push(a.tcpType)),(a.usernameFragment||a.ufrag)&&(b.push("ufrag"),b.push(a.usernameFragment||a.ufrag)),"candidate:"+b.join(" ")},d.parseIceOptions=function(a){return a.substr(14).split(" ")},d.parseRtpMap=function(a){var b=a.substr(9).split(" "),c={payloadType:parseInt(b.shift(),10)};return b=b[0].split("/"),c.name=b[0],c.clockRate=parseInt(b[1],10),c.channels=3===b.length?parseInt(b[2],10):1,c.numChannels=c.channels,c},d.writeRtpMap=function(a){var b=a.payloadType;void 0!==a.preferredPayloadType&&(b=a.preferredPayloadType);var c=a.channels||a.numChannels||1;return"a=rtpmap:"+b+" "+a.name+"/"+a.clockRate+(1!==c?"/"+c:"")+"\r\n"},d.parseExtmap=function(a){var b=a.substr(9).split(" ");return{id:parseInt(b[0],10),direction:b[0].indexOf("/")>0?b[0].split("/")[1]:"sendrecv",uri:b[1]}},d.writeExtmap=function(a){return"a=extmap:"+(a.id||a.preferredId)+(a.direction&&"sendrecv"!==a.direction?"/"+a.direction:"")+" "+a.uri+"\r\n"},d.parseFmtp=function(a){for(var b,c={},d=a.substr(a.indexOf(" ")+1).split(";"),e=0;e<d.length;e++)b=d[e].trim().split("="),c[b[0].trim()]=b[1];return c},d.writeFmtp=function(a){var b="",c=a.payloadType;if(void 0!==a.preferredPayloadType&&(c=a.preferredPayloadType),a.parameters&&Object.keys(a.parameters).length){var d=[];Object.keys(a.parameters).forEach(function(b){a.parameters[b]?d.push(b+"="+a.parameters[b]):d.push(b)}),b+="a=fmtp:"+c+" "+d.join(";")+"\r\n"}return b},d.parseRtcpFb=function(a){var b=a.substr(a.indexOf(" ")+1).split(" ");return{type:b.shift(),parameter:b.join(" ")}},d.writeRtcpFb=function(a){var b="",c=a.payloadType;return void 0!==a.preferredPayloadType&&(c=a.preferredPayloadType),a.rtcpFeedback&&a.rtcpFeedback.length&&a.rtcpFeedback.forEach(function(a){b+="a=rtcp-fb:"+c+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+"\r\n"}),b},d.parseSsrcMedia=function(a){var b=a.indexOf(" "),c={ssrc:parseInt(a.substr(7,b-7),10)},d=a.indexOf(":",b);return d>-1?(c.attribute=a.substr(b+1,d-b-1),c.value=a.substr(d+1)):c.attribute=a.substr(b+1),c},d.parseSsrcGroup=function(a){var b=a.substr(13).split(" ");return{semantics:b.shift(),ssrcs:b.map(function(a){return parseInt(a,10)})}},d.getMid=function(a){var b=d.matchPrefix(a,"a=mid:")[0];if(b)return b.substr(6)},d.parseFingerprint=function(a){var b=a.substr(14).split(" ");return{algorithm:b[0].toLowerCase(),value:b[1]}},d.getDtlsParameters=function(a,b){var c=d.matchPrefix(a+b,"a=fingerprint:");return{role:"auto",fingerprints:c.map(d.parseFingerprint)}},d.writeDtlsParameters=function(a,b){var c="a=setup:"+b+"\r\n";return a.fingerprints.forEach(function(a){c+="a=fingerprint:"+a.algorithm+" "+a.value+"\r\n"}),c},d.getIceParameters=function(a,b){var c=d.splitLines(a);c=c.concat(d.splitLines(b));var e={usernameFragment:c.filter(function(a){return 0===a.indexOf("a=ice-ufrag:")})[0].substr(12),password:c.filter(function(a){return 0===a.indexOf("a=ice-pwd:")})[0].substr(10)};return e},d.writeIceParameters=function(a){return"a=ice-ufrag:"+a.usernameFragment+"\r\na=ice-pwd:"+a.password+"\r\n"},d.parseRtpParameters=function(a){for(var b={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=d.splitLines(a),e=c[0].split(" "),f=3;f<e.length;f++){var g=e[f],h=d.matchPrefix(a,"a=rtpmap:"+g+" ")[0];if(h){var i=d.parseRtpMap(h),j=d.matchPrefix(a,"a=fmtp:"+g+" ");switch(i.parameters=j.length?d.parseFmtp(j[0]):{},i.rtcpFeedback=d.matchPrefix(a,"a=rtcp-fb:"+g+" ").map(d.parseRtcpFb),b.codecs.push(i),i.name.toUpperCase()){case"RED":case"ULPFEC":b.fecMechanisms.push(i.name.toUpperCase())}}}return d.matchPrefix(a,"a=extmap:").forEach(function(a){b.headerExtensions.push(d.parseExtmap(a))}),b},d.writeRtpDescription=function(a,b){var c="";c+="m="+a+" ",c+=b.codecs.length>0?"9":"0",c+=" UDP/TLS/RTP/SAVPF ",c+=b.codecs.map(function(a){return void 0!==a.preferredPayloadType?a.preferredPayloadType:a.payloadType}).join(" ")+"\r\n",c+="c=IN IP4 0.0.0.0\r\n",c+="a=rtcp:9 IN IP4 0.0.0.0\r\n",b.codecs.forEach(function(a){c+=d.writeRtpMap(a),c+=d.writeFmtp(a),c+=d.writeRtcpFb(a)});var e=0;return b.codecs.forEach(function(a){a.maxptime>e&&(e=a.maxptime)}),e>0&&(c+="a=maxptime:"+e+"\r\n"),c+="a=rtcp-mux\r\n",b.headerExtensions&&b.headerExtensions.forEach(function(a){c+=d.writeExtmap(a)}),c},d.parseRtpEncodingParameters=function(a){var b,c=[],e=d.parseRtpParameters(a),f=e.fecMechanisms.indexOf("RED")!==-1,g=e.fecMechanisms.indexOf("ULPFEC")!==-1,h=d.matchPrefix(a,"a=ssrc:").map(function(a){return d.parseSsrcMedia(a)}).filter(function(a){return"cname"===a.attribute}),i=h.length>0&&h[0].ssrc,j=d.matchPrefix(a,"a=ssrc-group:FID").map(function(a){var b=a.substr(17).split(" ");return b.map(function(a){return parseInt(a,10)})});j.length>0&&j[0].length>1&&j[0][0]===i&&(b=j[0][1]),e.codecs.forEach(function(a){if("RTX"===a.name.toUpperCase()&&a.parameters.apt){var d={ssrc:i,codecPayloadType:parseInt(a.parameters.apt,10)};i&&b&&(d.rtx={ssrc:b}),c.push(d),f&&(d=JSON.parse(JSON.stringify(d)),d.fec={ssrc:b,mechanism:g?"red+ulpfec":"red"},c.push(d))}}),0===c.length&&i&&c.push({ssrc:i});var k=d.matchPrefix(a,"b=");return k.length&&(k=0===k[0].indexOf("b=TIAS:")?parseInt(k[0].substr(7),10):0===k[0].indexOf("b=AS:")?1e3*parseInt(k[0].substr(5),10)*.95-16e3:void 0,c.forEach(function(a){a.maxBitrate=k})),c},d.parseRtcpParameters=function(a){var b={},c=d.matchPrefix(a,"a=ssrc:").map(function(a){return d.parseSsrcMedia(a)}).filter(function(a){return"cname"===a.attribute})[0];c&&(b.cname=c.value,b.ssrc=c.ssrc);var e=d.matchPrefix(a,"a=rtcp-rsize");b.reducedSize=e.length>0,b.compound=0===e.length;var f=d.matchPrefix(a,"a=rtcp-mux");return b.mux=f.length>0,b},d.parseMsid=function(a){var b,c=d.matchPrefix(a,"a=msid:");if(1===c.length)return b=c[0].substr(7).split(" "),{stream:b[0],track:b[1]};var e=d.matchPrefix(a,"a=ssrc:").map(function(a){return d.parseSsrcMedia(a)}).filter(function(a){return"msid"===a.attribute});return e.length>0?(b=e[0].value.split(" "),{stream:b[0],track:b[1]}):void 0},d.generateSessionId=function(){return Math.random().toString().substr(2,21)},d.writeSessionBoilerplate=function(a,b){var c,e=void 0!==b?b:2;return c=a?a:d.generateSessionId(),"v=0\r\no=thisisadapterortc "+c+" "+e+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},d.writeMediaSection=function(a,b,c,e){var f=d.writeRtpDescription(a.kind,b);if(f+=d.writeIceParameters(a.iceGatherer.getLocalParameters()),f+=d.writeDtlsParameters(a.dtlsTransport.getLocalParameters(),"offer"===c?"actpass":"active"),f+="a=mid:"+a.mid+"\r\n",f+=a.direction?"a="+a.direction+"\r\n":a.rtpSender&&a.rtpReceiver?"a=sendrecv\r\n":a.rtpSender?"a=sendonly\r\n":a.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",a.rtpSender){var g="msid:"+e.id+" "+a.rtpSender.track.id+"\r\n";f+="a="+g,f+="a=ssrc:"+a.sendEncodingParameters[0].ssrc+" "+g,a.sendEncodingParameters[0].rtx&&(f+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" "+g,f+="a=ssrc-group:FID "+a.sendEncodingParameters[0].ssrc+" "+a.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return f+="a=ssrc:"+a.sendEncodingParameters[0].ssrc+" cname:"+d.localCName+"\r\n",a.rtpSender&&a.sendEncodingParameters[0].rtx&&(f+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" cname:"+d.localCName+"\r\n"),f},d.getDirection=function(a,b){for(var c=d.splitLines(a),e=0;e<c.length;e++)switch(c[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return c[e].substr(2)}return b?d.getDirection(b):"sendrecv"},d.getKind=function(a){var b=d.splitLines(a),c=b[0].split(" ");return c[0].substr(2)},d.isRejected=function(a){return"0"===a.split(" ",2)[1]},d.parseMLine=function(a){var b=d.splitLines(a),c=b[0].substr(2).split(" ");return{kind:c[0],port:parseInt(c[1],10),protocol:c[2],fmt:c.slice(3).join(" ")}},d.parseOLine=function(a){var b=d.matchPrefix(a,"o=")[0],c=b.substr(2).split(" ");return{username:c[0],sessionId:c[1],sessionVersion:parseInt(c[2],10),netType:c[3],addressType:c[4],address:c[5]}},d.isValidSDP=function(a){if("string"!=typeof a||0===a.length)return!1;for(var b=d.splitLines(a),c=0;c<b.length;c++)if(b[c].length<2||"="!==b[c].charAt(1))return!1;return!0},a.exports=d},function(a,b,c){"use strict";function d(a){return{timeoutID:null,terminated:!1,run:function(){var b=this;i.a.resolve().then(function(){b.terminated||a().then(function(){return setTimeout(function(){return b.run()},0)})})},start:function(){this.run()},stop:function(){return this.terminated=!0,i.a.resolve()}}}function e(a,b){return new i.a(function(c){var d=f(),e=function(){throw new Error("waitFor failed by timeout")};!function g(){var h=a();h?c(h):f()-d>b?e():setTimeout(g,200)}()})}function f(){return(new Date).getTime()}b.a=d,b.b=e;var g=c(44),h=(c.n(g),c(17)),i=c.n(h)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var e=c(95),f=d(e),g=c(98),h=d(g);b.default=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,i=(0,h.default)(a);!(d=(g=i.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&i.return&&i.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if((0,f.default)(Object(b)))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined");
}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.prependListener=j,m.prependOnceListener=j,m.listeners=function(a){return[]},m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b,c){"use strict";function d(){}function e(a){for(var b=a.length,c=Array(b),d=0;d<b;++d)c[d]=a[d];return c}function f(a,b){return function(c){return a(c)&&b(c)}}function g(a,b,c){try{return a.f(b)}catch(a){return c._e(a),k}}function h(a){a._start=function(a){a.next=a._n,a.error=a._e,a.complete=a._c,this.start(a)},a._stop=a.stop}var i=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(b,"__esModule",{value:!0});var j=c(109),k={};b.NO=k;var l={_n:d,_e:d,_c:d};b.NO_IL=l;var m=function(){function a(a,b){this._stream=a,this._listener=b}return a.prototype.unsubscribe=function(){this._stream._remove(this._listener)},a}(),n=function(){function a(a){this._listener=a}return a.prototype.next=function(a){this._listener._n(a)},a.prototype.error=function(a){this._listener._e(a)},a.prototype.complete=function(){this._listener._c()},a}(),o=function(){function a(a){this.type="fromObservable",this.ins=a,this.active=!1}return a.prototype._start=function(a){this.out=a,this.active=!0,this._sub=this.ins.subscribe(new n(a)),this.active||this._sub.unsubscribe()},a.prototype._stop=function(){this._sub&&this._sub.unsubscribe(),this.active=!1},a}(),p=function(){function a(a){this.type="merge",this.insArr=a,this.out=k,this.ac=0}return a.prototype._start=function(a){this.out=a;var b=this.insArr,c=b.length;this.ac=c;for(var d=0;d<c;d++)b[d]._add(this)},a.prototype._stop=function(){for(var a=this.insArr,b=a.length,c=0;c<b;c++)a[c]._remove(this);this.out=k},a.prototype._n=function(a){var b=this.out;b!==k&&b._n(a)},a.prototype._e=function(a){var b=this.out;b!==k&&b._e(a)},a.prototype._c=function(){if(--this.ac<=0){var a=this.out;if(a===k)return;a._c()}},a}(),q=function(){function a(a,b,c){this.i=a,this.out=b,this.p=c,c.ils.push(this)}return a.prototype._n=function(a){var b=this.p,c=this.out;if(c!==k&&b.up(a,this.i)){for(var d=b.vals,e=d.length,f=Array(e),g=0;g<e;++g)f[g]=d[g];c._n(f)}},a.prototype._e=function(a){var b=this.out;b!==k&&b._e(a)},a.prototype._c=function(){var a=this.p;a.out!==k&&0===--a.Nc&&a.out._c()},a}(),r=function(){function a(a){this.type="combine",this.insArr=a,this.out=k,this.ils=[],this.Nc=this.Nn=0,this.vals=[]}return a.prototype.up=function(a,b){var c=this.vals[b],d=this.Nn?c===k?--this.Nn:this.Nn:0;return this.vals[b]=a,0===d},a.prototype._start=function(a){this.out=a;var b=this.insArr,c=this.Nc=this.Nn=b.length,d=this.vals=new Array(c);if(0===c)a._n([]),a._c();else for(var e=0;e<c;e++)d[e]=k,b[e]._add(new q(e,a,this))},a.prototype._stop=function(){for(var a=this.insArr,b=a.length,c=this.ils,d=0;d<b;d++)a[d]._remove(c[d]);this.out=k,this.ils=[],this.vals=[]},a}(),s=function(){function a(a){this.type="fromArray",this.a=a}return a.prototype._start=function(a){for(var b=this.a,c=0,d=b.length;c<d;c++)a._n(b[c]);a._c()},a.prototype._stop=function(){},a}(),t=function(){function a(a){this.type="fromPromise",this.on=!1,this.p=a}return a.prototype._start=function(a){var b=this;this.on=!0,this.p.then(function(c){b.on&&(a._n(c),a._c())},function(b){a._e(b)}).then(d,function(a){setTimeout(function(){throw a})})},a.prototype._stop=function(){this.on=!1},a}(),u=function(){function a(a){this.type="periodic",this.period=a,this.intervalID=-1,this.i=0}return a.prototype._start=function(a){function b(){a._n(c.i++)}var c=this;this.intervalID=setInterval(b,this.period)},a.prototype._stop=function(){this.intervalID!==-1&&clearInterval(this.intervalID),this.intervalID=-1,this.i=0},a}(),v=function(){function a(a,b){this.type="debug",this.ins=a,this.out=k,this.s=d,this.l="","string"==typeof b?this.l=b:"function"==typeof b&&(this.s=b)}return a.prototype._start=function(a){this.out=a,this.ins._add(this)},a.prototype._stop=function(){this.ins._remove(this),this.out=k},a.prototype._n=function(a){var b=this.out;if(b!==k){var c=this.s,e=this.l;if(c!==d)try{c(a)}catch(a){b._e(a)}else e?console.log(e+":",a):console.log(a);b._n(a)}},a.prototype._e=function(a){var b=this.out;b!==k&&b._e(a)},a.prototype._c=function(){var a=this.out;a!==k&&a._c()},a}(),w=function(){function a(a,b){this.type="drop",this.ins=b,this.out=k,this.max=a,this.dropped=0}return a.prototype._start=function(a){this.out=a,this.dropped=0,this.ins._add(this)},a.prototype._stop=function(){this.ins._remove(this),this.out=k},a.prototype._n=function(a){var b=this.out;b!==k&&this.dropped++>=this.max&&b._n(a)},a.prototype._e=function(a){var b=this.out;b!==k&&b._e(a)},a.prototype._c=function(){var a=this.out;a!==k&&a._c()},a}(),x=function(){function a(a,b){this.out=a,this.op=b}return a.prototype._n=function(){this.op.end()},a.prototype._e=function(a){this.out._e(a)},a.prototype._c=function(){this.op.end()},a}(),y=function(){function a(a,b){this.type="endWhen",this.ins=b,this.out=k,this.o=a,this.oil=l}return a.prototype._start=function(a){this.out=a,this.o._add(this.oil=new x(a,this)),this.ins._add(this)},a.prototype._stop=function(){this.ins._remove(this),this.o._remove(this.oil),this.out=k,this.oil=l},a.prototype.end=function(){var a=this.out;a!==k&&a._c()},a.prototype._n=function(a){var b=this.out;b!==k&&b._n(a)},a.prototype._e=function(a){var b=this.out;b!==k&&b._e(a)},a.prototype._c=function(){this.end()},a}(),z=function(){function a(a,b){this.type="filter",this.ins=b,this.out=k,this.f=a}return a.prototype._start=function(a){this.out=a,this.ins._add(this)},a.prototype._stop=function(){this.ins._remove(this),this.out=k},a.prototype._n=function(a){var b=this.out;if(b!==k){var c=g(this,a,b);c!==k&&c&&b._n(a)}},a.prototype._e=function(a){var b=this.out;b!==k&&b._e(a)},a.prototype._c=function(){var a=this.out;a!==k&&a._c()},a}(),A=function(){function a(a,b){this.out=a,this.op=b}return a.prototype._n=function(a){this.out._n(a)},a.prototype._e=function(a){this.out._e(a)},a.prototype._c=function(){this.op.inner=k,this.op.less()},a}(),B=function(){function a(a){this.type="flatten",this.ins=a,this.out=k,this.open=!0,this.inner=k,this.il=l}return a.prototype._start=function(a){this.out=a,this.open=!0,this.inner=k,this.il=l,this.ins._add(this)},a.prototype._stop=function(){this.ins._remove(this),this.inner!==k&&this.inner._remove(this.il),this.out=k,this.open=!0,this.inner=k,this.il=l},a.prototype.less=function(){var a=this.out;a!==k&&(this.open||this.inner!==k||a._c())},a.prototype._n=function(a){var b=this.out;if(b!==k){var c=this,d=c.inner,e=c.il;d!==k&&e!==l&&d._remove(e),(this.inner=a)._add(this.il=new A(b,this))}},a.prototype._e=function(a){var b=this.out;b!==k&&b._e(a)},a.prototype._c=function(){this.open=!1,this.less()},a}(),C=function(){function a(a,b,c){var d=this;this.type="fold",this.ins=c,this.out=k,this.f=function(b){return a(d.acc,b)},this.acc=this.seed=b}return a.prototype._start=function(a){this.out=a,this.acc=this.seed,a._n(this.acc),this.ins._add(this)},a.prototype._stop=function(){this.ins._remove(this),this.out=k,this.acc=this.seed},a.prototype._n=function(a){var b=this.out;if(b!==k){var c=g(this,a,b);c!==k&&b._n(this.acc=c)}},a.prototype._e=function(a){var b=this.out;b!==k&&b._e(a)},a.prototype._c=function(){var a=this.out;a!==k&&a._c()},a}(),D=function(){function a(a){this.type="last",this.ins=a,this.out=k,this.has=!1,this.val=k}return a.prototype._start=function(a){this.out=a,this.has=!1,this.ins._add(this)},a.prototype._stop=function(){this.ins._remove(this),this.out=k,this.val=k},a.prototype._n=function(a){this.has=!0,this.val=a},a.prototype._e=function(a){var b=this.out;b!==k&&b._e(a)},a.prototype._c=function(){var a=this.out;a!==k&&(this.has?(a._n(this.val),a._c()):a._e(new Error("last() failed because input stream completed")))},a}(),E=function(){function a(a,b){this.type="map",this.ins=b,this.out=k,this.f=a}return a.prototype._start=function(a){this.out=a,this.ins._add(this)},a.prototype._stop=function(){this.ins._remove(this),this.out=k},a.prototype._n=function(a){var b=this.out;if(b!==k){var c=g(this,a,b);c!==k&&b._n(c)}},a.prototype._e=function(a){var b=this.out;b!==k&&b._e(a)},a.prototype._c=function(){var a=this.out;a!==k&&a._c()},a}(),F=function(){function a(a){this.type="remember",this.ins=a,this.out=k}return a.prototype._start=function(a){this.out=a,this.ins._add(a)},a.prototype._stop=function(){this.ins._remove(this.out),this.out=k},a}(),G=function(){function a(a,b){this.type="replaceError",this.ins=b,this.out=k,this.f=a}return a.prototype._start=function(a){this.out=a,this.ins._add(this)},a.prototype._stop=function(){this.ins._remove(this),this.out=k},a.prototype._n=function(a){var b=this.out;b!==k&&b._n(a)},a.prototype._e=function(a){var b=this.out;if(b!==k)try{this.ins._remove(this),(this.ins=this.f(a))._add(this)}catch(a){b._e(a)}},a.prototype._c=function(){var a=this.out;a!==k&&a._c()},a}(),H=function(){function a(a,b){this.type="startWith",this.ins=a,this.out=k,this.val=b}return a.prototype._start=function(a){this.out=a,this.out._n(this.val),this.ins._add(a)},a.prototype._stop=function(){this.ins._remove(this.out),this.out=k},a}(),I=function(){function a(a,b){this.type="take",this.ins=b,this.out=k,this.max=a,this.taken=0}return a.prototype._start=function(a){this.out=a,this.taken=0,this.max<=0?a._c():this.ins._add(this)},a.prototype._stop=function(){this.ins._remove(this),this.out=k},a.prototype._n=function(a){var b=this.out;if(b!==k){var c=++this.taken;c<this.max?b._n(a):c===this.max&&(b._n(a),b._c())}},a.prototype._e=function(a){var b=this.out;b!==k&&b._e(a)},a.prototype._c=function(){var a=this.out;a!==k&&a._c()},a}(),J=function(){function a(a){this._prod=a||k,this._ils=[],this._stopID=k,this._dl=k,this._d=!1,this._target=k,this._err=k}return a.prototype._n=function(a){var b=this._ils,c=b.length;if(this._d&&this._dl._n(a),1==c)b[0]._n(a);else{if(0==c)return;for(var d=e(b),f=0;f<c;f++)d[f]._n(a)}},a.prototype._e=function(a){if(this._err===k){this._err=a;var b=this._ils,c=b.length;if(this._x(),this._d&&this._dl._e(a),1==c)b[0]._e(a);else{if(0==c)return;for(var d=e(b),f=0;f<c;f++)d[f]._e(a)}if(!this._d&&0==c)throw this._err}},a.prototype._c=function(){var a=this._ils,b=a.length;if(this._x(),this._d&&this._dl._c(),1==b)a[0]._c();else{if(0==b)return;for(var c=e(a),d=0;d<b;d++)c[d]._c()}},a.prototype._x=function(){0!==this._ils.length&&(this._prod!==k&&this._prod._stop(),this._err=k,this._ils=[])},a.prototype._stopNow=function(){this._prod._stop(),this._err=k,this._stopID=k},a.prototype._add=function(a){var b=this._target;if(b!==k)return b._add(a);var c=this._ils;if(c.push(a),!(c.length>1))if(this._stopID!==k)clearTimeout(this._stopID),this._stopID=k;else{var d=this._prod;d!==k&&d._start(this)}},a.prototype._remove=function(a){var b=this,c=this._target;if(c!==k)return c._remove(a);var d=this._ils,e=d.indexOf(a);e>-1&&(d.splice(e,1),this._prod!==k&&d.length<=0?(this._err=k,this._stopID=setTimeout(function(){return b._stopNow()})):1===d.length&&this._pruneCycles())},a.prototype._pruneCycles=function(){this._hasNoSinks(this,[])&&this._remove(this._ils[0])},a.prototype._hasNoSinks=function(a,b){if(b.indexOf(a)!==-1)return!0;if(a.out===this)return!0;if(a.out&&a.out!==k)return this._hasNoSinks(a.out,b.concat(a));if(a._ils){for(var c=0,d=a._ils.length;c<d;c++)if(!this._hasNoSinks(a._ils[c],b.concat(a)))return!1;return!0}return!1},a.prototype.ctor=function(){return this instanceof K?K:a},a.prototype.addListener=function(a){a._n=a.next||d,a._e=a.error||d,a._c=a.complete||d,this._add(a)},a.prototype.removeListener=function(a){this._remove(a)},a.prototype.subscribe=function(a){return this.addListener(a),new m(this,a)},a.prototype[j.default]=function(){return this},a.create=function(b){if(b){if("function"!=typeof b.start||"function"!=typeof b.stop)throw new Error("producer requires both start and stop functions");h(b)}return new a(b)},a.createWithMemory=function(a){return a&&h(a),new K(a)},a.never=function(){return new a({_start:d,_stop:d})},a.empty=function(){return new a({_start:function(a){a._c()},_stop:d})},a.throw=function(b){return new a({_start:function(a){a._e(b)},_stop:d})},a.from=function(b){if("function"==typeof b[j.default])return a.fromObservable(b);if("function"==typeof b.then)return a.fromPromise(b);if(Array.isArray(b))return a.fromArray(b);throw new TypeError("Type of input to from() must be an Array, Promise, or Observable")},a.of=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return a.fromArray(b)},a.fromArray=function(b){return new a(new s(b))},a.fromPromise=function(b){return new a(new t(b))},a.fromObservable=function(b){if(b.endWhen)return b;var c="function"==typeof b[j.default]?b[j.default]():b;return new a(new o(c))},a.periodic=function(b){return new a(new u(b))},a.prototype._map=function(a){return new(this.ctor())(new E(a,this))},a.prototype.map=function(a){return this._map(a)},a.prototype.mapTo=function(a){var b=this.map(function(){return a}),c=b._prod;return c.type="mapTo",b},a.prototype.filter=function(b){var c=this._prod;return new a(c instanceof z?new z(f(c.f,b),c.ins):new z(b,this))},a.prototype.take=function(a){return new(this.ctor())(new I(a,this))},a.prototype.drop=function(b){return new a(new w(b,this))},a.prototype.last=function(){return new a(new D(this))},a.prototype.startWith=function(a){return new K(new H(this,a))},a.prototype.endWhen=function(a){return new(this.ctor())(new y(a,this))},a.prototype.fold=function(a,b){return new K(new C(a,b,this))},a.prototype.replaceError=function(a){return new(this.ctor())(new G(a,this))},a.prototype.flatten=function(){this._prod;return new a(new B(this))},a.prototype.compose=function(a){return a(this)},a.prototype.remember=function(){return new K(new F(this))},a.prototype.debug=function(a){return new(this.ctor())(new v(this,a))},a.prototype.imitate=function(a){if(a instanceof K)throw new Error("A MemoryStream was given to imitate(), but it only supports a Stream. Read more about this restriction here: https://github.com/staltz/xstream#faq");this._target=a;for(var b=this._ils,c=b.length,d=0;d<c;d++)a._add(b[d]);this._ils=[]},a.prototype.shamefullySendNext=function(a){this._n(a)},a.prototype.shamefullySendError=function(a){this._e(a)},a.prototype.shamefullySendComplete=function(){this._c()},a.prototype.setDebugListener=function(a){a?(this._d=!0,a._n=a.next||d,a._e=a.error||d,a._c=a.complete||d,this._dl=a):(this._d=!1,this._dl=k)},a.merge=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return new a(new p(b))},a.combine=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return new a(new r(b))},a}();b.Stream=J;var K=function(a){function b(b){var c=a.call(this,b)||this;return c._has=!1,c}return i(b,a),b.prototype._n=function(b){this._v=b,this._has=!0,a.prototype._n.call(this,b)},b.prototype._add=function(a){var b=this._target;if(b!==k)return b._add(a);var c=this._ils;if(c.push(a),c.length>1)return void(this._has&&a._n(this._v));if(this._stopID!==k)this._has&&a._n(this._v),clearTimeout(this._stopID),this._stopID=k;else if(this._has)a._n(this._v);else{var d=this._prod;d!==k&&d._start(this)}},b.prototype._stopNow=function(){this._has=!1,a.prototype._stopNow.call(this)},b.prototype._x=function(){this._has=!1,a.prototype._x.call(this)},b.prototype.map=function(a){return this._map(a)},b.prototype.mapTo=function(b){return a.prototype.mapTo.call(this,b)},b.prototype.take=function(b){return a.prototype.take.call(this,b)},b.prototype.endWhen=function(b){return a.prototype.endWhen.call(this,b)},b.prototype.replaceError=function(b){return a.prototype.replaceError.call(this,b)},b.prototype.remember=function(){return this},b.prototype.debug=function(b){return a.prototype.debug.call(this,b)},b}(J);b.MemoryStream=K;var L=J;b.default=L},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(16),e=c.n(d),f=c(49),g=c(94),h=c(101),i=c(43),j=c(115),k=function(){for(var a,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return(a=console).log.apply(a,[""].concat(c)),c[0]},l="https://dashboard-unti.examus.net/",m=function(a,b){return a.then(function(a){b.srcObject=a,b.play()})},n=function(a){k("Get camera stream: waiting");var b=Object(f.a)().then(function(a){return k(a,"Get camera stream: success.")}).catch(function(a){k("Get camera stream: failed",a)});return m(b,a).then(function(a){return"ok"}).catch(function(a){return"fail"}).then(function(a){return k("play camera stream on video element: "+a)}),b};window.Module={locateFile:function(a){return l+"wasm/"+a},preRun:[],postRun:[],print:function(a){return console.log("[cybert]",a)},printErr:function(a){return console.error("[cybert]",a)},setStatus:function(a){return console.log("[wasm]",a)}};var o=function(a,b,c){return Object(i.b)(function(){return"CyberTutor"in window.Module}).then(function(){var d=new window.Module.CyberTutor;if(d.init()){var f=d.version();k("CyberT version "+f+" started.");var h=function(a){return Object(g.a)(a).then(function(a){return a?d.process({inputImg:a}):{}})},l=Object(j.a)(f,c);Object(i.a)(function(){return h(a).then(l).then(e.a).then(b)}).run()}else k("CyberT: failed to start. (!cybert.init())")})},p=function(a){return function(b){return Object(h.a)(a)({role:"visitor",token:b,visit:"fbed8255-adba-4923-a986-6a264a1809bc"})}},q=function(a){var b=a.videoElement,c=a.ws,d=a.getCurrentTime,e=function(a){return a},f=c.send,g=e,h=function(){k("cyberT: mute."),g=e},i=function(){k("cyberT: unmute."),g=f};return o(b,function(a){return g(a)},d).then(function(){return{mute:h,unmute:i}})},r=function(a){var b=a.jwtToken,c=a.videoElementId,d=document.getElementById(c),e=n(d),f=!1,g=0;setInterval(function(){f&&(g+=1)},1e3);var h=function(){return g},i=function(a){var b=a.getCurrentTime,c=a.token;return e.then(function(a){return c}).then(p(l)).then(function(a){return q({videoElement:d,ws:a,getCurrentTime:b})})};return i({getCurrentTime:h,token:b}).then(function(a){var b=a.mute,c=a.unmute;return{start:function(){f=!0,c()},pause:function(){f=!1,b()}}})};window.faceNLZ={prepare:r}},function(a,b,c){var d=c(2),e=d.JSON||(d.JSON={stringify:JSON.stringify});a.exports=function(a){return e.stringify.apply(e,arguments)}},function(a,b,c){"use strict";function d(a){console.log(a);var b=a.name,c=void 0;c="NotFoundError"===b||"DevicesNotFoundError"===b?"No camera device found. Please, connect your camera.":"NotReadableError"===b||"TrackStartError"===b?"Webcam is already in use":"OverconstrainedError"===b||"ConstraintNotSatisfiedError"===b?"Constraints can not be satisfied by devices":"NotAllowedError"===b||"PermissionDeniedError"===b?"Please allow permission to the camera and reload the page":"TypeError"===b||"TypeError"===b?"Empty constraints object":"Camera error";try{Raven.captureMessage(a.message,{extra:a.name})}catch(b){console.error("Raven",a)}return f.a.reject(c)}c.d(b,"a",function(){return j});var e=c(17),f=c.n(e),g=c(82),h=(c.n(g),function(a){return navigator.mediaDevices.getUserMedia(a)}),i={audio:!1,video:{width:{min:640,ideal:640,max:640},framerate:15,facingMode:"user"}},j=function(){return h(i).catch(d)}},function(a,b,c){c(51),c(18),c(26),c(69),c(80),c(81),a.exports=c(2).Promise},function(a,b){},function(a,b,c){var d=c(19),e=c(20);a.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return i<0||i>=j?a?"":void 0:(f=h.charCodeAt(i),f<55296||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):(f-55296<<10)+(g-56320)+65536)}}},function(a,b,c){a.exports=!c(8)&&!c(30)(function(){return 7!=Object.defineProperty(c(22)("div"),"a",{get:function(){return 7}}).a})},function(a,b,c){var d=c(7);a.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},function(a,b,c){a.exports=c(5)},function(a,b,c){"use strict";var d=c(57),e=c(31),f=c(25),g={};c(5)(g,c(1)("iterator"),function(){return this}),a.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},function(a,b,c){var d=c(4),e=c(58),f=c(35),g=c(24)("IE_PROTO"),h=function(){},i="prototype",j=function(){var a,b=c(22)("iframe"),d=f.length,e="<",g=">";for(b.style.display="none",c(36).appendChild(b),b.src="javascript:",a=b.contentWindow.document,a.open(),a.write(e+"script"+g+"document.F=Object"+e+"/script"+g),a.close(),j=a.F;d--;)delete j[i][f[d]];return j()};a.exports=Object.create||function(a,b){var c;return null!==a?(h[i]=d(a),c=new h,h[i]=null,c[g]=a):c=j(),void 0===b?c:e(c,b)}},function(a,b,c){var d=c(13),e=c(4),f=c(59);a.exports=c(8)?Object.defineProperties:function(a,b){e(a);for(var c,g=f(b),h=g.length,i=0;h>i;)d.f(a,c=g[i++],b[c]);return a}},function(a,b,c){var d=c(60),e=c(35);a.exports=Object.keys||function(a){return d(a,e)}},function(a,b,c){var d=c(14),e=c(23),f=c(62)(!1),g=c(24)("IE_PROTO");a.exports=function(a,b){var c,h=e(a),i=0,j=[];for(c in h)c!=g&&d(h,c)&&j.push(c);for(;b.length>i;)d(h,c=b[i++])&&(~f(j,c)||j.push(c));return j}},function(a,b,c){var d=c(15);a.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},function(a,b,c){var d=c(23),e=c(32),f=c(63);a.exports=function(a){return function(b,c,g){var h,i=d(b),j=e(i.length),k=f(g,j);if(a&&c!=c){for(;j>k;)if(h=i[k++],h!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&&-1}}},function(a,b,c){var d=c(19),e=Math.max,f=Math.min;a.exports=function(a,b){return a=d(a),a<0?e(a+b,0):f(a,b)}},function(a,b,c){var d=c(14),e=c(65),f=c(24)("IE_PROTO"),g=Object.prototype;a.exports=Object.getPrototypeOf||function(a){return a=e(a),d(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},function(a,b,c){var d=c(20);a.exports=function(a){return Object(d(a))}},function(a,b,c){"use strict";var d=c(67),e=c(68),f=c(6),g=c(23);a.exports=c(29)(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},function(a,b){a.exports=function(){}},function(a,b){a.exports=function(a,b){return{value:b,done:!!a}}},function(a,b,c){"use strict";var d,e,f,g,h=c(21),i=c(0),j=c(11),k=c(27),l=c(10),m=c(7),n=c(12),o=c(70),p=c(71),q=c(38),r=c(39).set,s=c(75)(),t=c(28),u=c(40),v=c(76),w=c(41),x="Promise",y=i.TypeError,z=i.process,A=z&&z.versions,B=A&&A.v8||"",C=i[x],D="process"==k(z),E=function(){},F=e=t.f,G=!!function(){try{var a=C.resolve(1),b=(a.constructor={})[c(1)("species")]=function(a){a(E,E)};return(D||"function"==typeof PromiseRejectionEvent)&&a.then(E)instanceof b&&0!==B.indexOf("6.6")&&v.indexOf("Chrome/66")===-1}catch(a){}}(),H=function(a){var b;return!(!m(a)||"function"!=typeof(b=a.then))&&b},I=function(a,b){if(!a._n){a._n=!0;var c=a._c;s(function(){for(var d=a._v,e=1==a._s,f=0,g=function(b){var c,f,g,h=e?b.ok:b.fail,i=b.resolve,j=b.reject,k=b.domain;try{h?(e||(2==a._h&&L(a),a._h=1),h===!0?c=d:(k&&k.enter(),c=h(d),k&&(k.exit(),g=!0)),c===b.promise?j(y("Promise-chain cycle")):(f=H(c))?f.call(c,i,j):i(c)):j(d)}catch(a){k&&!g&&k.exit(),j(a)}};c.length>f;)g(c[f++]);a._c=[],a._n=!1,b&&!a._h&&J(a)})}},J=function(a){r.call(i,function(){var b,c,d,e=a._v,f=K(a);if(f&&(b=u(function(){D?z.emit("unhandledRejection",e,a):(c=i.onunhandledrejection)?c({promise:a,reason:e}):(d=i.console)&&d.error&&d.error("Unhandled promise rejection",e)}),a._h=D||K(a)?2:1),a._a=void 0,f&&b.e)throw b.v})},K=function(a){return 1!==a._h&&0===(a._a||a._c).length},L=function(a){r.call(i,function(){var b;D?z.emit("rejectionHandled",a):(b=i.onrejectionhandled)&&b({promise:a,reason:a._v})})},M=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),I(b,!0))},N=function(a){var b,c=this;if(!c._d){c._d=!0,c=c._w||c;try{if(c===a)throw y("Promise can't be resolved itself");(b=H(a))?s(function(){var d={_w:c,_d:!1};try{b.call(a,j(N,d,1),j(M,d,1))}catch(a){M.call(d,a)}}):(c._v=a,c._s=1,I(c,!1))}catch(a){M.call({_w:c,_d:!1},a)}}};G||(C=function(a){o(this,C,x,"_h"),n(a),d.call(this);try{a(j(N,this,1),j(M,this,1))}catch(a){M.call(this,a)}},d=function(a){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},d.prototype=c(77)(C.prototype,{then:function(a,b){var c=F(q(this,C));return c.ok="function"!=typeof a||a,c.fail="function"==typeof b&&b,c.domain=D?z.domain:void 0,this._c.push(c),this._a&&this._a.push(c),this._s&&I(this,!1),c.promise},catch:function(a){return this.then(void 0,a)}}),f=function(){var a=new d;this.promise=a,this.resolve=j(N,a,1),this.reject=j(M,a,1)},t.f=F=function(a){return a===C||a===g?new f(a):e(a)}),l(l.G+l.W+l.F*!G,{Promise:C}),c(25)(C,x),c(78)(x),g=c(2)[x],l(l.S+l.F*!G,x,{reject:function(a){var b=F(this),c=b.reject;return c(a),b.promise}}),l(l.S+l.F*(h||!G),x,{resolve:function(a){return w(h&&this===g?C:this,a)}}),l(l.S+l.F*!(G&&c(79)(function(a){C.all(a).catch(E)})),x,{all:function(a){var b=this,c=F(b),d=c.resolve,e=c.reject,f=u(function(){var c=[],f=0,g=1;p(a,!1,function(a){var h=f++,i=!1;c.push(void 0),g++,b.resolve(a).then(function(a){i||(i=!0,c[h]=a,--g||d(c))},e)}),--g||d(c)});return f.e&&e(f.v),c.promise},race:function(a){var b=this,c=F(b),d=c.reject,e=u(function(){p(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});return e.e&&d(e.v),c.promise}})},function(a,b){a.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},function(a,b,c){var d=c(11),e=c(72),f=c(73),g=c(4),h=c(32),i=c(37),j={},k={},b=a.exports=function(a,b,c,l,m){var n,o,p,q,r=m?function(){return a}:i(a),s=d(c,l,b?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(f(r)){for(n=h(a.length);n>t;t++)if(q=b?s(g(o=a[t])[0],o[1]):s(a[t]),q===j||q===k)return q}else for(p=r.call(a);!(o=p.next()).done;)if(q=e(p,s,o.value,b),q===j||q===k)return q};b.BREAK=j,b.RETURN=k},function(a,b,c){var d=c(4);a.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(b){var f=a.return;throw void 0!==f&&d(f.call(a)),b}}},function(a,b,c){var d=c(6),e=c(1)("iterator"),f=Array.prototype;a.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},function(a,b){a.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},function(a,b,c){var d=c(0),e=c(39).set,f=d.MutationObserver||d.WebKitMutationObserver,g=d.process,h=d.Promise,i="process"==c(15)(g);a.exports=function(){var a,b,c,j=function(){var d,e;for(i&&(d=g.domain)&&d.exit();a;){e=a.fn,a=a.next;try{e()}catch(d){throw a?c():b=void 0,d}}b=void 0,d&&d.enter()};if(i)c=function(){g.nextTick(j)};else if(!f||d.navigator&&d.navigator.standalone)if(h&&h.resolve){var k=h.resolve(void 0);c=function(){k.then(j)}}else c=function(){e.call(d,j)};else{var l=!0,m=document.createTextNode("");new f(j).observe(m,{characterData:!0}),c=function(){m.data=l=!l}}return function(d){var e={fn:d,next:void 0};b&&(b.next=e),a||(a=e,c()),b=e}}},function(a,b,c){var d=c(0),e=d.navigator;a.exports=e&&e.userAgent||""},function(a,b,c){var d=c(5);a.exports=function(a,b,c){for(var e in b)c&&a[e]?a[e]=b[e]:d(a,e,b[e]);return a}},function(a,b,c){"use strict";var d=c(0),e=c(2),f=c(13),g=c(8),h=c(1)("species");a.exports=function(a){var b="function"==typeof e[a]?e[a]:d[a];g&&b&&!b[h]&&f.f(b,h,{configurable:!0,get:function(){return this}})}},function(a,b,c){var d=c(1)("iterator"),e=!1;try{var f=[7][d]();f.return=function(){e=!0},Array.from(f,function(){throw 2})}catch(a){}a.exports=function(a,b){if(!b&&!e)return!1;var c=!1;try{var f=[7],g=f[d]();g.next=function(){return{done:c=!0}},f[d]=function(){return g},a(f)}catch(a){}return c}},function(a,b,c){"use strict";var d=c(10),e=c(2),f=c(0),g=c(38),h=c(41);d(d.P+d.R,"Promise",{finally:function(a){var b=g(this,e.Promise||f.Promise),c="function"==typeof a;return this.then(c?function(c){return h(b,a()).then(function(){return c})}:a,c?function(c){return h(b,a()).then(function(){throw c})}:a)}})},function(a,b,c){"use strict";var d=c(10),e=c(28),f=c(40);d(d.S,"Promise",{try:function(a){var b=e.f(this),c=f(a);return(c.e?b.reject:b.resolve)(c.v),b.promise}})},function(a,b,c){"use strict";(function(b){var d=c(83);a.exports=d({window:b.window})}).call(b,c(9))},function(a,b,c){"use strict";var d=c(3);a.exports=function(a,b){var e=a&&a.window,f={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var g in b)hasOwnProperty.call(b,g)&&(f[g]=b[g]);var h=d.log,i=d.detectBrowser(e),j=c(84)||null,k=c(86)||null,l=c(90)||null,m=c(92)||null,n=c(93)||null,o={browserDetails:i,commonShim:n,extractVersion:d.extractVersion,disableLog:d.disableLog,disableWarnings:d.disableWarnings};switch(i.browser){case"chrome":if(!j||!j.shimPeerConnection||!f.shimChrome)return h("Chrome shim is not included in this adapter release."),o;h("adapter.js shimming chrome."),o.browserShim=j,n.shimCreateObjectURL(e),j.shimGetUserMedia(e),j.shimMediaStream(e),j.shimSourceObject(e),j.shimPeerConnection(e),j.shimOnTrack(e),j.shimAddTrackRemoveTrack(e),j.shimGetSendersWithDtmf(e),j.shimSenderReceiverGetStats(e),j.fixNegotiationNeeded(e),n.shimRTCIceCandidate(e),n.shimMaxMessageSize(e),n.shimSendThrowTypeError(e);break;case"firefox":if(!l||!l.shimPeerConnection||!f.shimFirefox)return h("Firefox shim is not included in this adapter release."),o;h("adapter.js shimming firefox."),o.browserShim=l,n.shimCreateObjectURL(e),l.shimGetUserMedia(e),l.shimSourceObject(e),l.shimPeerConnection(e),l.shimOnTrack(e),l.shimRemoveStream(e),l.shimSenderGetStats(e),l.shimReceiverGetStats(e),l.shimRTCDataChannel(e),n.shimRTCIceCandidate(e),n.shimMaxMessageSize(e),n.shimSendThrowTypeError(e);break;case"edge":if(!k||!k.shimPeerConnection||!f.shimEdge)return h("MS edge shim is not included in this adapter release."),o;h("adapter.js shimming edge."),o.browserShim=k,n.shimCreateObjectURL(e),k.shimGetUserMedia(e),k.shimPeerConnection(e),k.shimReplaceTrack(e),n.shimMaxMessageSize(e),n.shimSendThrowTypeError(e);break;case"safari":if(!m||!f.shimSafari)return h("Safari shim is not included in this adapter release."),
o;h("adapter.js shimming safari."),o.browserShim=m,n.shimCreateObjectURL(e),m.shimRTCIceServerUrls(e),m.shimCreateOfferLegacy(e),m.shimCallbacksAPI(e),m.shimLocalStreamsAPI(e),m.shimRemoteStreamsAPI(e),m.shimTrackEventTransceiver(e),m.shimGetUserMedia(e),n.shimRTCIceCandidate(e),n.shimMaxMessageSize(e),n.shimSendThrowTypeError(e);break;default:h("Unsupported browser!")}return o}},function(a,b,c){"use strict";function d(a,b,c){b&&!c.has(b.id)&&(c.set(b.id,b),Object.keys(b).forEach(function(e){e.endsWith("Id")?d(a,a.get(b[e]),c):e.endsWith("Ids")&&b[e].forEach(function(b){d(a,a.get(b),c)})}))}function e(a,b,c){var e=c?"outbound-rtp":"inbound-rtp",f=new Map;if(null===b)return f;var g=[];return a.forEach(function(a){"track"===a.type&&a.trackIdentifier===b.id&&g.push(a)}),g.forEach(function(b){a.forEach(function(c){c.type===e&&c.trackId===b.id&&d(a,c,f)})}),f}var f=c(3),g=f.log;a.exports={shimGetUserMedia:c(85),shimMediaStream:function(a){a.MediaStream=a.MediaStream||a.webkitMediaStream},shimOnTrack:function(a){if("object"!=typeof a||!a.RTCPeerConnection||"ontrack"in a.RTCPeerConnection.prototype)"RTCRtpTransceiver"in a||f.wrapPeerConnectionEvent(a,"track",function(a){return a.transceiver||(a.transceiver={receiver:a.receiver}),a});else{Object.defineProperty(a.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(a){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=a)},enumerable:!0,configurable:!0});var b=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){var c=this;return c._ontrackpoly||(c._ontrackpoly=function(b){b.stream.addEventListener("addtrack",function(d){var e;e=a.RTCPeerConnection.prototype.getReceivers?c.getReceivers().find(function(a){return a.track&&a.track.id===d.track.id}):{track:d.track};var f=new Event("track");f.track=d.track,f.receiver=e,f.transceiver={receiver:e},f.streams=[b.stream],c.dispatchEvent(f)}),b.stream.getTracks().forEach(function(d){var e;e=a.RTCPeerConnection.prototype.getReceivers?c.getReceivers().find(function(a){return a.track&&a.track.id===d.id}):{track:d};var f=new Event("track");f.track=d,f.receiver=e,f.transceiver={receiver:e},f.streams=[b.stream],c.dispatchEvent(f)})},c.addEventListener("addstream",c._ontrackpoly)),b.apply(c,arguments)}}},shimGetSendersWithDtmf:function(a){if("object"==typeof a&&a.RTCPeerConnection&&!("getSenders"in a.RTCPeerConnection.prototype)&&"createDTMFSender"in a.RTCPeerConnection.prototype){var b=function(a,b){return{track:b,get dtmf(){return void 0===this._dtmf&&("audio"===b.kind?this._dtmf=a.createDTMFSender(b):this._dtmf=null),this._dtmf},_pc:a}};if(!a.RTCPeerConnection.prototype.getSenders){a.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var c=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function(a,d){var e=this,f=c.apply(e,arguments);return f||(f=b(e,a),e._senders.push(f)),f};var d=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function(a){var b=this;d.apply(b,arguments);var c=b._senders.indexOf(a);c!==-1&&b._senders.splice(c,1)}}var e=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(a){var c=this;c._senders=c._senders||[],e.apply(c,[a]),a.getTracks().forEach(function(a){c._senders.push(b(c,a))})};var f=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(a){var b=this;b._senders=b._senders||[],f.apply(b,[a]),a.getTracks().forEach(function(a){var c=b._senders.find(function(b){return b.track===a});c&&b._senders.splice(b._senders.indexOf(c),1)})}}else if("object"==typeof a&&a.RTCPeerConnection&&"getSenders"in a.RTCPeerConnection.prototype&&"createDTMFSender"in a.RTCPeerConnection.prototype&&a.RTCRtpSender&&!("dtmf"in a.RTCRtpSender.prototype)){var g=a.RTCPeerConnection.prototype.getSenders;a.RTCPeerConnection.prototype.getSenders=function(){var a=this,b=g.apply(a,[]);return b.forEach(function(b){b._pc=a}),b},Object.defineProperty(a.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(a){if("object"==typeof a&&a.RTCPeerConnection&&a.RTCRtpSender&&a.RTCRtpReceiver){if(!("getStats"in a.RTCRtpSender.prototype)){var b=a.RTCPeerConnection.prototype.getSenders;b&&(a.RTCPeerConnection.prototype.getSenders=function(){var a=this,c=b.apply(a,[]);return c.forEach(function(b){b._pc=a}),c});var c=a.RTCPeerConnection.prototype.addTrack;c&&(a.RTCPeerConnection.prototype.addTrack=function(){var a=c.apply(this,arguments);return a._pc=this,a}),a.RTCRtpSender.prototype.getStats=function(){var a=this;return this._pc.getStats().then(function(b){return e(b,a.track,!0)})}}if(!("getStats"in a.RTCRtpReceiver.prototype)){var d=a.RTCPeerConnection.prototype.getReceivers;d&&(a.RTCPeerConnection.prototype.getReceivers=function(){var a=this,b=d.apply(a,[]);return b.forEach(function(b){b._pc=a}),b}),f.wrapPeerConnectionEvent(a,"track",function(a){return a.receiver._pc=a.srcElement,a}),a.RTCRtpReceiver.prototype.getStats=function(){var a=this;return this._pc.getStats().then(function(b){return e(b,a.track,!1)})}}if("getStats"in a.RTCRtpSender.prototype&&"getStats"in a.RTCRtpReceiver.prototype){var g=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){var b=this;if(arguments.length>0&&arguments[0]instanceof a.MediaStreamTrack){var c,d,e,f=arguments[0];return b.getSenders().forEach(function(a){a.track===f&&(c?e=!0:c=a)}),b.getReceivers().forEach(function(a){return a.track===f&&(d?e=!0:d=a),a.track===f}),e||c&&d?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):c?c.getStats():d?d.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return g.apply(b,arguments)}}}},shimSourceObject:function(a){var b=a&&a.URL;"object"==typeof a&&(!a.HTMLMediaElement||"srcObject"in a.HTMLMediaElement.prototype||Object.defineProperty(a.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(a){var c=this;return this._srcObject=a,this.src&&b.revokeObjectURL(this.src),a?(this.src=b.createObjectURL(a),a.addEventListener("addtrack",function(){c.src&&b.revokeObjectURL(c.src),c.src=b.createObjectURL(a)}),void a.addEventListener("removetrack",function(){c.src&&b.revokeObjectURL(c.src),c.src=b.createObjectURL(a)})):void(this.src="")}}))},shimAddTrackRemoveTrackWithNative:function(a){a.RTCPeerConnection.prototype.getLocalStreams=function(){var a=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(b){return a._shimmedLocalStreams[b][0]})};var b=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function(a,c){if(!c)return b.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var d=b.apply(this,arguments);return this._shimmedLocalStreams[c.id]?this._shimmedLocalStreams[c.id].indexOf(d)===-1&&this._shimmedLocalStreams[c.id].push(d):this._shimmedLocalStreams[c.id]=[c,d],d};var c=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(a){var b=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},a.getTracks().forEach(function(a){var c=b.getSenders().find(function(b){return b.track===a});if(c)throw new DOMException("Track already exists.","InvalidAccessError")});var d=b.getSenders();c.apply(this,arguments);var e=b.getSenders().filter(function(a){return d.indexOf(a)===-1});this._shimmedLocalStreams[a.id]=[a].concat(e)};var d=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[a.id],d.apply(this,arguments)};var e=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function(a){var b=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},a&&Object.keys(this._shimmedLocalStreams).forEach(function(c){var d=b._shimmedLocalStreams[c].indexOf(a);d!==-1&&b._shimmedLocalStreams[c].splice(d,1),1===b._shimmedLocalStreams[c].length&&delete b._shimmedLocalStreams[c]}),e.apply(this,arguments)}},shimAddTrackRemoveTrack:function(a){function b(a,b){var c=b.sdp;return Object.keys(a._reverseStreams||[]).forEach(function(b){var d=a._reverseStreams[b],e=a._streams[d.id];c=c.replace(new RegExp(e.id,"g"),d.id)}),new RTCSessionDescription({type:b.type,sdp:c})}function c(a,b){var c=b.sdp;return Object.keys(a._reverseStreams||[]).forEach(function(b){var d=a._reverseStreams[b],e=a._streams[d.id];c=c.replace(new RegExp(d.id,"g"),e.id)}),new RTCSessionDescription({type:b.type,sdp:c})}var d=f.detectBrowser(a);if(a.RTCPeerConnection.prototype.addTrack&&d.version>=65)return this.shimAddTrackRemoveTrackWithNative(a);var e=a.RTCPeerConnection.prototype.getLocalStreams;a.RTCPeerConnection.prototype.getLocalStreams=function(){var a=this,b=e.apply(this);return a._reverseStreams=a._reverseStreams||{},b.map(function(b){return a._reverseStreams[b.id]})};var g=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(b){var c=this;if(c._streams=c._streams||{},c._reverseStreams=c._reverseStreams||{},b.getTracks().forEach(function(a){var b=c.getSenders().find(function(b){return b.track===a});if(b)throw new DOMException("Track already exists.","InvalidAccessError")}),!c._reverseStreams[b.id]){var d=new a.MediaStream(b.getTracks());c._streams[b.id]=d,c._reverseStreams[d.id]=b,b=d}g.apply(c,[b])};var h=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(a){var b=this;b._streams=b._streams||{},b._reverseStreams=b._reverseStreams||{},h.apply(b,[b._streams[a.id]||a]),delete b._reverseStreams[b._streams[a.id]?b._streams[a.id].id:a.id],delete b._streams[a.id]},a.RTCPeerConnection.prototype.addTrack=function(b,c){var d=this;if("closed"===d.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var e=[].slice.call(arguments,1);if(1!==e.length||!e[0].getTracks().find(function(a){return a===b}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var f=d.getSenders().find(function(a){return a.track===b});if(f)throw new DOMException("Track already exists.","InvalidAccessError");d._streams=d._streams||{},d._reverseStreams=d._reverseStreams||{};var g=d._streams[c.id];if(g)g.addTrack(b),Promise.resolve().then(function(){d.dispatchEvent(new Event("negotiationneeded"))});else{var h=new a.MediaStream([b]);d._streams[c.id]=h,d._reverseStreams[h.id]=c,d.addStream(h)}return d.getSenders().find(function(a){return a.track===b})},["createOffer","createAnswer"].forEach(function(c){var d=a.RTCPeerConnection.prototype[c];a.RTCPeerConnection.prototype[c]=function(){var a=this,c=arguments,e=arguments.length&&"function"==typeof arguments[0];return e?d.apply(a,[function(d){var e=b(a,d);c[0].apply(null,[e])},function(a){c[1]&&c[1].apply(null,a)},arguments[2]]):d.apply(a,arguments).then(function(c){return b(a,c)})}});var i=a.RTCPeerConnection.prototype.setLocalDescription;a.RTCPeerConnection.prototype.setLocalDescription=function(){var a=this;return arguments.length&&arguments[0].type?(arguments[0]=c(a,arguments[0]),i.apply(a,arguments)):i.apply(a,arguments)};var j=Object.getOwnPropertyDescriptor(a.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(a.RTCPeerConnection.prototype,"localDescription",{get:function(){var a=this,c=j.get.apply(this);return""===c.type?c:b(a,c)}}),a.RTCPeerConnection.prototype.removeTrack=function(a){var b=this;if("closed"===b.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!a._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");var c=a._pc===b;if(!c)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");b._streams=b._streams||{};var d;Object.keys(b._streams).forEach(function(c){var e=b._streams[c].getTracks().find(function(b){return a.track===b});e&&(d=b._streams[c])}),d&&(1===d.getTracks().length?b.removeStream(b._reverseStreams[d.id]):d.removeTrack(a.track),b.dispatchEvent(new Event("negotiationneeded")))}},shimPeerConnection:function(a){var b=f.detectBrowser(a);if(!a.RTCPeerConnection&&a.webkitRTCPeerConnection)a.RTCPeerConnection=function(b,c){return g("PeerConnection"),b&&b.iceTransportPolicy&&(b.iceTransports=b.iceTransportPolicy),new a.webkitRTCPeerConnection(b,c)},a.RTCPeerConnection.prototype=a.webkitRTCPeerConnection.prototype,a.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get:function(){return a.webkitRTCPeerConnection.generateCertificate}});else{var c=a.RTCPeerConnection;a.RTCPeerConnection=function(a,b){if(a&&a.iceServers){for(var d=[],e=0;e<a.iceServers.length;e++){var g=a.iceServers[e];!g.hasOwnProperty("urls")&&g.hasOwnProperty("url")?(f.deprecated("RTCIceServer.url","RTCIceServer.urls"),g=JSON.parse(JSON.stringify(g)),g.urls=g.url,d.push(g)):d.push(a.iceServers[e])}a.iceServers=d}return new c(a,b)},a.RTCPeerConnection.prototype=c.prototype,Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get:function(){return c.generateCertificate}})}var d=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(a,b,c){var e=this,f=arguments;if(arguments.length>0&&"function"==typeof a)return d.apply(this,arguments);if(0===d.length&&(0===arguments.length||"function"!=typeof arguments[0]))return d.apply(this,[]);var g=function(a){var b={},c=a.result();return c.forEach(function(a){var c={id:a.id,timestamp:a.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[a.type]||a.type};a.names().forEach(function(b){c[b]=a.stat(b)}),b[c.id]=c}),b},h=function(a){return new Map(Object.keys(a).map(function(b){return[b,a[b]]}))};if(arguments.length>=2){var i=function(a){f[1](h(g(a)))};return d.apply(this,[i,arguments[0]])}return new Promise(function(a,b){d.apply(e,[function(b){a(h(g(b)))},b])}).then(b,c)},b.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(b){var c=a.RTCPeerConnection.prototype[b];a.RTCPeerConnection.prototype[b]=function(){var a=arguments,b=this,d=new Promise(function(d,e){c.apply(b,[a[0],d,e])});return a.length<2?d:d.then(function(){a[1].apply(null,[])},function(b){a.length>=3&&a[2].apply(null,[b])})}}),b.version<52&&["createOffer","createAnswer"].forEach(function(b){var c=a.RTCPeerConnection.prototype[b];a.RTCPeerConnection.prototype[b]=function(){var a=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var b=1===arguments.length?arguments[0]:void 0;return new Promise(function(d,e){c.apply(a,[d,e,b])})}return c.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(b){var c=a.RTCPeerConnection.prototype[b];a.RTCPeerConnection.prototype[b]=function(){return arguments[0]=new("addIceCandidate"===b?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}});var e=a.RTCPeerConnection.prototype.addIceCandidate;a.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}},fixNegotiationNeeded:function(a){f.wrapPeerConnectionEvent(a,"negotiationneeded",function(a){var b=a.target;if("stable"===b.signalingState)return a})},shimGetDisplayMedia:function(a,b){if(!("getDisplayMedia"in a.navigator))return"function"!=typeof b?void console.error("shimGetDisplayMedia: getSourceId argument is not a function"):void(navigator.getDisplayMedia=function(a){return b(a).then(function(b){return a.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:b,maxFrameRate:a.video.frameRate||3}},navigator.mediaDevices.getUserMedia(a)})})}}},function(a,b,c){"use strict";var d=c(3),e=d.log;a.exports=function(a){var b=d.detectBrowser(a),c=a&&a.navigator,f=function(a){if("object"!=typeof a||a.mandatory||a.optional)return a;var b={};return Object.keys(a).forEach(function(c){if("require"!==c&&"advanced"!==c&&"mediaSource"!==c){var d="object"==typeof a[c]?a[c]:{ideal:a[c]};void 0!==d.exact&&"number"==typeof d.exact&&(d.min=d.max=d.exact);var e=function(a,b){return a?a+b.charAt(0).toUpperCase()+b.slice(1):"deviceId"===b?"sourceId":b};if(void 0!==d.ideal){b.optional=b.optional||[];var f={};"number"==typeof d.ideal?(f[e("min",c)]=d.ideal,b.optional.push(f),f={},f[e("max",c)]=d.ideal,b.optional.push(f)):(f[e("",c)]=d.ideal,b.optional.push(f))}void 0!==d.exact&&"number"!=typeof d.exact?(b.mandatory=b.mandatory||{},b.mandatory[e("",c)]=d.exact):["min","max"].forEach(function(a){void 0!==d[a]&&(b.mandatory=b.mandatory||{},b.mandatory[e(a,c)]=d[a])})}}),a.advanced&&(b.optional=(b.optional||[]).concat(a.advanced)),b},g=function(a,d){if(b.version>=61)return d(a);if(a=JSON.parse(JSON.stringify(a)),a&&"object"==typeof a.audio){var g=function(a,b,c){b in a&&!(c in a)&&(a[c]=a[b],delete a[b])};a=JSON.parse(JSON.stringify(a)),g(a.audio,"autoGainControl","googAutoGainControl"),g(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=f(a.audio)}if(a&&"object"==typeof a.video){var h=a.video.facingMode;h=h&&("object"==typeof h?h:{ideal:h});var i=b.version<66;if(h&&("user"===h.exact||"environment"===h.exact||"user"===h.ideal||"environment"===h.ideal)&&(!c.mediaDevices.getSupportedConstraints||!c.mediaDevices.getSupportedConstraints().facingMode||i)){delete a.video.facingMode;var j;if("environment"===h.exact||"environment"===h.ideal?j=["back","rear"]:"user"!==h.exact&&"user"!==h.ideal||(j=["front"]),j)return c.mediaDevices.enumerateDevices().then(function(b){b=b.filter(function(a){return"videoinput"===a.kind});var c=b.find(function(a){return j.some(function(b){return a.label.toLowerCase().indexOf(b)!==-1})});return!c&&b.length&&j.indexOf("back")!==-1&&(c=b[b.length-1]),c&&(a.video.deviceId=h.exact?{exact:c.deviceId}:{ideal:c.deviceId}),a.video=f(a.video),e("chrome: "+JSON.stringify(a)),d(a)})}a.video=f(a.video)}return e("chrome: "+JSON.stringify(a)),d(a)},h=function(a){return b.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},i=function(a,b,d){g(a,function(a){c.webkitGetUserMedia(a,b,function(a){d&&d(h(a))})})};c.getUserMedia=i;var j=function(a){return new Promise(function(b,d){c.getUserMedia(a,b,d)})};if(c.mediaDevices||(c.mediaDevices={getUserMedia:j,enumerateDevices:function(){return new Promise(function(b){var c={audio:"audioinput",video:"videoinput"};return a.MediaStreamTrack.getSources(function(a){b(a.map(function(a){return{label:a.label,kind:c[a.kind],deviceId:a.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),c.mediaDevices.getUserMedia){var k=c.mediaDevices.getUserMedia.bind(c.mediaDevices);c.mediaDevices.getUserMedia=function(a){return g(a,function(a){return k(a).then(function(b){if(a.audio&&!b.getAudioTracks().length||a.video&&!b.getVideoTracks().length)throw b.getTracks().forEach(function(a){a.stop()}),new DOMException("","NotFoundError");return b},function(a){return Promise.reject(h(a))})})}}else c.mediaDevices.getUserMedia=function(a){return j(a)};"undefined"==typeof c.mediaDevices.addEventListener&&(c.mediaDevices.addEventListener=function(){e("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof c.mediaDevices.removeEventListener&&(c.mediaDevices.removeEventListener=function(){e("Dummy mediaDevices.removeEventListener called.")})}},function(a,b,c){"use strict";var d=c(3),e=c(87),f=c(88);a.exports={shimGetUserMedia:c(89),shimPeerConnection:function(a){var b=d.detectBrowser(a);if(a.RTCIceGatherer&&(a.RTCIceCandidate||(a.RTCIceCandidate=function(a){return a}),a.RTCSessionDescription||(a.RTCSessionDescription=function(a){return a}),b.version<15025)){var c=Object.getOwnPropertyDescriptor(a.MediaStreamTrack.prototype,"enabled");Object.defineProperty(a.MediaStreamTrack.prototype,"enabled",{set:function(a){c.set.call(this,a);var b=new Event("enabled");b.enabled=a,this.dispatchEvent(b)}})}!a.RTCRtpSender||"dtmf"in a.RTCRtpSender.prototype||Object.defineProperty(a.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new a.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),a.RTCDtmfSender&&!a.RTCDTMFSender&&(a.RTCDTMFSender=a.RTCDtmfSender);var g=f(a,b.version);a.RTCPeerConnection=function(a){return a&&a.iceServers&&(a.iceServers=e(a.iceServers)),new g(a)},a.RTCPeerConnection.prototype=g.prototype},shimReplaceTrack:function(a){!a.RTCRtpSender||"replaceTrack"in a.RTCRtpSender.prototype||(a.RTCRtpSender.prototype.replaceTrack=a.RTCRtpSender.prototype.setTrack)}}},function(a,b,c){"use strict";var d=c(3);a.exports=function(a,b){var c=!1;return a=JSON.parse(JSON.stringify(a)),a.filter(function(a){if(a&&(a.urls||a.url)){var e=a.urls||a.url;a.url&&!a.urls&&d.deprecated("RTCIceServer.url","RTCIceServer.urls");var f="string"==typeof e;return f&&(e=[e]),e=e.filter(function(a){var d=0===a.indexOf("turn:")&&a.indexOf("transport=udp")!==-1&&a.indexOf("turn:[")===-1&&!c;return d?(c=!0,!0):0===a.indexOf("stun:")&&b>=14393&&a.indexOf("?transport=udp")===-1}),delete a.url,a.urls=f?e[0]:e,!!e.length}})}},function(a,b,c){"use strict";function d(a){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[a.type]||a.type}function e(a,b,c,d,e){var f=k.writeRtpDescription(a.kind,b);if(f+=k.writeIceParameters(a.iceGatherer.getLocalParameters()),f+=k.writeDtlsParameters(a.dtlsTransport.getLocalParameters(),"offer"===c?"actpass":e||"active"),f+="a=mid:"+a.mid+"\r\n",f+=a.rtpSender&&a.rtpReceiver?"a=sendrecv\r\n":a.rtpSender?"a=sendonly\r\n":a.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",a.rtpSender){var g=a.rtpSender._initialTrackId||a.rtpSender.track.id;a.rtpSender._initialTrackId=g;var h="msid:"+(d?d.id:"-")+" "+g+"\r\n";f+="a="+h,f+="a=ssrc:"+a.sendEncodingParameters[0].ssrc+" "+h,a.sendEncodingParameters[0].rtx&&(f+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" "+h,f+="a=ssrc-group:FID "+a.sendEncodingParameters[0].ssrc+" "+a.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return f+="a=ssrc:"+a.sendEncodingParameters[0].ssrc+" cname:"+k.localCName+"\r\n",a.rtpSender&&a.sendEncodingParameters[0].rtx&&(f+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" cname:"+k.localCName+"\r\n"),f}function f(a,b){var c=!1;return a=JSON.parse(JSON.stringify(a)),a.filter(function(a){if(a&&(a.urls||a.url)){var d=a.urls||a.url;a.url&&!a.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var e="string"==typeof d;return e&&(d=[d]),d=d.filter(function(a){var d=0===a.indexOf("turn:")&&a.indexOf("transport=udp")!==-1&&a.indexOf("turn:[")===-1&&!c;return d?(c=!0,!0):0===a.indexOf("stun:")&&b>=14393&&a.indexOf("?transport=udp")===-1}),delete a.url,a.urls=e?d[0]:d,!!d.length}})}function g(a,b){var c={codecs:[],headerExtensions:[],fecMechanisms:[]},d=function(a,b){a=parseInt(a,10);for(var c=0;c<b.length;c++)if(b[c].payloadType===a||b[c].preferredPayloadType===a)return b[c]},e=function(a,b,c,e){var f=d(a.parameters.apt,c),g=d(b.parameters.apt,e);return f&&g&&f.name.toLowerCase()===g.name.toLowerCase()};return a.codecs.forEach(function(d){for(var f=0;f<b.codecs.length;f++){var g=b.codecs[f];if(d.name.toLowerCase()===g.name.toLowerCase()&&d.clockRate===g.clockRate){if("rtx"===d.name.toLowerCase()&&d.parameters&&g.parameters.apt&&!e(d,g,a.codecs,b.codecs))continue;g=JSON.parse(JSON.stringify(g)),g.numChannels=Math.min(d.numChannels,g.numChannels),c.codecs.push(g),g.rtcpFeedback=g.rtcpFeedback.filter(function(a){for(var b=0;b<d.rtcpFeedback.length;b++)if(d.rtcpFeedback[b].type===a.type&&d.rtcpFeedback[b].parameter===a.parameter)return!0;return!1});break}}}),a.headerExtensions.forEach(function(a){for(var d=0;d<b.headerExtensions.length;d++){var e=b.headerExtensions[d];if(a.uri===e.uri){c.headerExtensions.push(e);break}}}),c}function h(a,b,c){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[b][a].indexOf(c)!==-1}function i(a,b){var c=a.getRemoteCandidates().find(function(a){return b.foundation===a.foundation&&b.ip===a.ip&&b.port===a.port&&b.priority===a.priority&&b.protocol===a.protocol&&b.type===a.type});return c||a.addRemoteCandidate(b),!c}function j(a,b){var c=new Error(b);return c.name=a,c.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[a],c}var k=c(42);a.exports=function(a,b){function c(b,c){c.addTrack(b),c.dispatchEvent(new a.MediaStreamTrackEvent("addtrack",{track:b}))}function l(b,c){c.removeTrack(b),c.dispatchEvent(new a.MediaStreamTrackEvent("removetrack",{track:b}))}function m(b,c,d,e){var f=new Event("track");f.track=c,f.receiver=d,f.transceiver={receiver:d},f.streams=e,a.setTimeout(function(){b._dispatchEvent("track",f)})}var n=function(c){var d=this,e=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(a){d[a]=e[a].bind(e)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",c=JSON.parse(JSON.stringify(c||{})),this.usingBundle="max-bundle"===c.bundlePolicy,"negotiate"===c.rtcpMuxPolicy)throw j("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(c.rtcpMuxPolicy||(c.rtcpMuxPolicy="require"),c.iceTransportPolicy){case"all":case"relay":break;default:c.iceTransportPolicy="all"}switch(c.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:c.bundlePolicy="balanced"}if(c.iceServers=f(c.iceServers||[],b),this._iceGatherers=[],c.iceCandidatePoolSize)for(var g=c.iceCandidatePoolSize;g>0;g--)this._iceGatherers.push(new a.RTCIceGatherer({iceServers:c.iceServers,gatherPolicy:c.iceTransportPolicy}));else c.iceCandidatePoolSize=0;this._config=c,this.transceivers=[],this._sdpSessionId=k.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(n.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(n.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),n.prototype.onicecandidate=null,n.prototype.onaddstream=null,n.prototype.ontrack=null,n.prototype.onremovestream=null,n.prototype.onsignalingstatechange=null,n.prototype.oniceconnectionstatechange=null,n.prototype.onconnectionstatechange=null,n.prototype.onicegatheringstatechange=null,n.prototype.onnegotiationneeded=null,n.prototype.ondatachannel=null,n.prototype._dispatchEvent=function(a,b){this._isClosed||(this.dispatchEvent(b),"function"==typeof this["on"+a]&&this["on"+a](b))},n.prototype._emitGatheringStateChange=function(){var a=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",a)},n.prototype.getConfiguration=function(){return this._config},n.prototype.getLocalStreams=function(){return this.localStreams},n.prototype.getRemoteStreams=function(){return this.remoteStreams},n.prototype._createTransceiver=function(a,b){var c=this.transceivers.length>0,d={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:a,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&c)d.iceTransport=this.transceivers[0].iceTransport,d.dtlsTransport=this.transceivers[0].dtlsTransport;else{var e=this._createIceAndDtlsTransports();d.iceTransport=e.iceTransport,d.dtlsTransport=e.dtlsTransport}return b||this.transceivers.push(d),d},n.prototype.addTrack=function(b,c){if(this._isClosed)throw j("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var d=this.transceivers.find(function(a){return a.track===b});if(d)throw j("InvalidAccessError","Track already exists.");for(var e,f=0;f<this.transceivers.length;f++)this.transceivers[f].track||this.transceivers[f].kind!==b.kind||(e=this.transceivers[f]);return e||(e=this._createTransceiver(b.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(c)===-1&&this.localStreams.push(c),e.track=b,e.stream=c,e.rtpSender=new a.RTCRtpSender(b,e.dtlsTransport),e.rtpSender},n.prototype.addStream=function(a){var c=this;if(b>=15025)a.getTracks().forEach(function(b){c.addTrack(b,a)});else{var d=a.clone();a.getTracks().forEach(function(a,b){var c=d.getTracks()[b];a.addEventListener("enabled",function(a){c.enabled=a.enabled})}),d.getTracks().forEach(function(a){c.addTrack(a,d)})}},n.prototype.removeTrack=function(b){if(this._isClosed)throw j("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(b instanceof a.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var c=this.transceivers.find(function(a){return a.rtpSender===b});if(!c)throw j("InvalidAccessError","Sender was not created by this connection.");var d=c.stream;c.rtpSender.stop(),c.rtpSender=null,c.track=null,c.stream=null;var e=this.transceivers.map(function(a){return a.stream});e.indexOf(d)===-1&&this.localStreams.indexOf(d)>-1&&this.localStreams.splice(this.localStreams.indexOf(d),1),this._maybeFireNegotiationNeeded()},n.prototype.removeStream=function(a){var b=this;a.getTracks().forEach(function(a){var c=b.getSenders().find(function(b){return b.track===a});c&&b.removeTrack(c)})},n.prototype.getSenders=function(){return this.transceivers.filter(function(a){return!!a.rtpSender}).map(function(a){return a.rtpSender})},n.prototype.getReceivers=function(){return this.transceivers.filter(function(a){return!!a.rtpReceiver}).map(function(a){return a.rtpReceiver})},n.prototype._createIceGatherer=function(b,c){var d=this;if(c&&b>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var e=new a.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(e,"state",{value:"new",writable:!0}),this.transceivers[b].bufferedCandidateEvents=[],this.transceivers[b].bufferCandidates=function(a){var c=!a.candidate||0===Object.keys(a.candidate).length;e.state=c?"completed":"gathering",null!==d.transceivers[b].bufferedCandidateEvents&&d.transceivers[b].bufferedCandidateEvents.push(a)},e.addEventListener("localcandidate",this.transceivers[b].bufferCandidates),e},n.prototype._gather=function(b,c){var d=this,e=this.transceivers[c].iceGatherer;
if(!e.onlocalcandidate){var f=this.transceivers[c].bufferedCandidateEvents;this.transceivers[c].bufferedCandidateEvents=null,e.removeEventListener("localcandidate",this.transceivers[c].bufferCandidates),e.onlocalcandidate=function(a){if(!(d.usingBundle&&c>0)){var f=new Event("icecandidate");f.candidate={sdpMid:b,sdpMLineIndex:c};var g=a.candidate,h=!g||0===Object.keys(g).length;if(h)"new"!==e.state&&"gathering"!==e.state||(e.state="completed");else{"new"===e.state&&(e.state="gathering"),g.component=1,g.ufrag=e.getLocalParameters().usernameFragment;var i=k.writeCandidate(g);f.candidate=Object.assign(f.candidate,k.parseCandidate(i)),f.candidate.candidate=i,f.candidate.toJSON=function(){return{candidate:f.candidate.candidate,sdpMid:f.candidate.sdpMid,sdpMLineIndex:f.candidate.sdpMLineIndex,usernameFragment:f.candidate.usernameFragment}}}var j=k.getMediaSections(d._localDescription.sdp);h?j[f.candidate.sdpMLineIndex]+="a=end-of-candidates\r\n":j[f.candidate.sdpMLineIndex]+="a="+f.candidate.candidate+"\r\n",d._localDescription.sdp=k.getDescription(d._localDescription.sdp)+j.join("");var l=d.transceivers.every(function(a){return a.iceGatherer&&"completed"===a.iceGatherer.state});"gathering"!==d.iceGatheringState&&(d.iceGatheringState="gathering",d._emitGatheringStateChange()),h||d._dispatchEvent("icecandidate",f),l&&(d._dispatchEvent("icecandidate",new Event("icecandidate")),d.iceGatheringState="complete",d._emitGatheringStateChange())}},a.setTimeout(function(){f.forEach(function(a){e.onlocalcandidate(a)})},0)}},n.prototype._createIceAndDtlsTransports=function(){var b=this,c=new a.RTCIceTransport(null);c.onicestatechange=function(){b._updateIceConnectionState(),b._updateConnectionState()};var d=new a.RTCDtlsTransport(c);return d.ondtlsstatechange=function(){b._updateConnectionState()},d.onerror=function(){Object.defineProperty(d,"state",{value:"failed",writable:!0}),b._updateConnectionState()},{iceTransport:c,dtlsTransport:d}},n.prototype._disposeIceAndDtlsTransports=function(a){var b=this.transceivers[a].iceGatherer;b&&(delete b.onlocalcandidate,delete this.transceivers[a].iceGatherer);var c=this.transceivers[a].iceTransport;c&&(delete c.onicestatechange,delete this.transceivers[a].iceTransport);var d=this.transceivers[a].dtlsTransport;d&&(delete d.ondtlsstatechange,delete d.onerror,delete this.transceivers[a].dtlsTransport)},n.prototype._transceive=function(a,c,d){var e=g(a.localCapabilities,a.remoteCapabilities);c&&a.rtpSender&&(e.encodings=a.sendEncodingParameters,e.rtcp={cname:k.localCName,compound:a.rtcpParameters.compound},a.recvEncodingParameters.length&&(e.rtcp.ssrc=a.recvEncodingParameters[0].ssrc),a.rtpSender.send(e)),d&&a.rtpReceiver&&e.codecs.length>0&&("video"===a.kind&&a.recvEncodingParameters&&b<15019&&a.recvEncodingParameters.forEach(function(a){delete a.rtx}),a.recvEncodingParameters.length?e.encodings=a.recvEncodingParameters:e.encodings=[{}],e.rtcp={compound:a.rtcpParameters.compound},a.rtcpParameters.cname&&(e.rtcp.cname=a.rtcpParameters.cname),a.sendEncodingParameters.length&&(e.rtcp.ssrc=a.sendEncodingParameters[0].ssrc),a.rtpReceiver.receive(e))},n.prototype.setLocalDescription=function(a){var b=this;if(["offer","answer"].indexOf(a.type)===-1)return Promise.reject(j("TypeError",'Unsupported type "'+a.type+'"'));if(!h("setLocalDescription",a.type,b.signalingState)||b._isClosed)return Promise.reject(j("InvalidStateError","Can not set local "+a.type+" in state "+b.signalingState));var c,d;if("offer"===a.type)c=k.splitSections(a.sdp),d=c.shift(),c.forEach(function(a,c){var d=k.parseRtpParameters(a);b.transceivers[c].localCapabilities=d}),b.transceivers.forEach(function(a,c){b._gather(a.mid,c)});else if("answer"===a.type){c=k.splitSections(b._remoteDescription.sdp),d=c.shift();var e=k.matchPrefix(d,"a=ice-lite").length>0;c.forEach(function(a,c){var f=b.transceivers[c],h=f.iceGatherer,i=f.iceTransport,j=f.dtlsTransport,l=f.localCapabilities,m=f.remoteCapabilities,n=k.isRejected(a)&&0===k.matchPrefix(a,"a=bundle-only").length;if(!n&&!f.rejected){var o=k.getIceParameters(a,d),p=k.getDtlsParameters(a,d);e&&(p.role="server"),b.usingBundle&&0!==c||(b._gather(f.mid,c),"new"===i.state&&i.start(h,o,e?"controlling":"controlled"),"new"===j.state&&j.start(p));var q=g(l,m);b._transceive(f,q.codecs.length>0,!1)}})}return b._localDescription={type:a.type,sdp:a.sdp},"offer"===a.type?b._updateSignalingState("have-local-offer"):b._updateSignalingState("stable"),Promise.resolve()},n.prototype.setRemoteDescription=function(d){var e=this;if(["offer","answer"].indexOf(d.type)===-1)return Promise.reject(j("TypeError",'Unsupported type "'+d.type+'"'));if(!h("setRemoteDescription",d.type,e.signalingState)||e._isClosed)return Promise.reject(j("InvalidStateError","Can not set remote "+d.type+" in state "+e.signalingState));var f={};e.remoteStreams.forEach(function(a){f[a.id]=a});var g=[],n=k.splitSections(d.sdp),o=n.shift(),p=k.matchPrefix(o,"a=ice-lite").length>0,q=k.matchPrefix(o,"a=group:BUNDLE ").length>0;e.usingBundle=q;var r=k.matchPrefix(o,"a=ice-options:")[0];return r?e.canTrickleIceCandidates=r.substr(14).split(" ").indexOf("trickle")>=0:e.canTrickleIceCandidates=!1,n.forEach(function(h,j){var m=k.splitLines(h),n=k.getKind(h),r=k.isRejected(h)&&0===k.matchPrefix(h,"a=bundle-only").length,s=m[0].substr(2).split(" ")[2],t=k.getDirection(h,o),u=k.parseMsid(h),v=k.getMid(h)||k.generateIdentifier();if(r||"application"===n&&("DTLS/SCTP"===s||"UDP/DTLS/SCTP"===s))return void(e.transceivers[j]={mid:v,kind:n,protocol:s,rejected:!0});!r&&e.transceivers[j]&&e.transceivers[j].rejected&&(e.transceivers[j]=e._createTransceiver(n,!0));var w,x,y,z,A,B,C,D,E,F,G,H=k.parseRtpParameters(h);r||(F=k.getIceParameters(h,o),G=k.getDtlsParameters(h,o),G.role="client"),C=k.parseRtpEncodingParameters(h);var I=k.parseRtcpParameters(h),J=k.matchPrefix(h,"a=end-of-candidates",o).length>0,K=k.matchPrefix(h,"a=candidate:").map(function(a){return k.parseCandidate(a)}).filter(function(a){return 1===a.component});if(("offer"===d.type||"answer"===d.type)&&!r&&q&&j>0&&e.transceivers[j]&&(e._disposeIceAndDtlsTransports(j),e.transceivers[j].iceGatherer=e.transceivers[0].iceGatherer,e.transceivers[j].iceTransport=e.transceivers[0].iceTransport,e.transceivers[j].dtlsTransport=e.transceivers[0].dtlsTransport,e.transceivers[j].rtpSender&&e.transceivers[j].rtpSender.setTransport(e.transceivers[0].dtlsTransport),e.transceivers[j].rtpReceiver&&e.transceivers[j].rtpReceiver.setTransport(e.transceivers[0].dtlsTransport)),"offer"!==d.type||r)"answer"!==d.type||r||(w=e.transceivers[j],x=w.iceGatherer,y=w.iceTransport,z=w.dtlsTransport,A=w.rtpReceiver,B=w.sendEncodingParameters,D=w.localCapabilities,e.transceivers[j].recvEncodingParameters=C,e.transceivers[j].remoteCapabilities=H,e.transceivers[j].rtcpParameters=I,K.length&&"new"===y.state&&(!p&&!J||q&&0!==j?K.forEach(function(a){i(w.iceTransport,a)}):y.setRemoteCandidates(K)),q&&0!==j||("new"===y.state&&y.start(x,F,"controlling"),"new"===z.state&&z.start(G)),e._transceive(w,"sendrecv"===t||"recvonly"===t,"sendrecv"===t||"sendonly"===t),!A||"sendrecv"!==t&&"sendonly"!==t?delete w.rtpReceiver:(E=A.track,u?(f[u.stream]||(f[u.stream]=new a.MediaStream),c(E,f[u.stream]),g.push([E,A,f[u.stream]])):(f.default||(f.default=new a.MediaStream),c(E,f.default),g.push([E,A,f.default]))));else{w=e.transceivers[j]||e._createTransceiver(n),w.mid=v,w.iceGatherer||(w.iceGatherer=e._createIceGatherer(j,q)),K.length&&"new"===w.iceTransport.state&&(!J||q&&0!==j?K.forEach(function(a){i(w.iceTransport,a)}):w.iceTransport.setRemoteCandidates(K)),D=a.RTCRtpReceiver.getCapabilities(n),b<15019&&(D.codecs=D.codecs.filter(function(a){return"rtx"!==a.name})),B=w.sendEncodingParameters||[{ssrc:1001*(2*j+2)}];var L=!1;if("sendrecv"===t||"sendonly"===t){if(L=!w.rtpReceiver,A=w.rtpReceiver||new a.RTCRtpReceiver(w.dtlsTransport,n),L){var M;E=A.track,u&&"-"===u.stream||(u?(f[u.stream]||(f[u.stream]=new a.MediaStream,Object.defineProperty(f[u.stream],"id",{get:function(){return u.stream}})),Object.defineProperty(E,"id",{get:function(){return u.track}}),M=f[u.stream]):(f.default||(f.default=new a.MediaStream),M=f.default)),M&&(c(E,M),w.associatedRemoteMediaStreams.push(M)),g.push([E,A,M])}}else w.rtpReceiver&&w.rtpReceiver.track&&(w.associatedRemoteMediaStreams.forEach(function(a){var b=a.getTracks().find(function(a){return a.id===w.rtpReceiver.track.id});b&&l(b,a)}),w.associatedRemoteMediaStreams=[]);w.localCapabilities=D,w.remoteCapabilities=H,w.rtpReceiver=A,w.rtcpParameters=I,w.sendEncodingParameters=B,w.recvEncodingParameters=C,e._transceive(e.transceivers[j],!1,L)}}),void 0===e._dtlsRole&&(e._dtlsRole="offer"===d.type?"active":"passive"),e._remoteDescription={type:d.type,sdp:d.sdp},"offer"===d.type?e._updateSignalingState("have-remote-offer"):e._updateSignalingState("stable"),Object.keys(f).forEach(function(b){var c=f[b];if(c.getTracks().length){if(e.remoteStreams.indexOf(c)===-1){e.remoteStreams.push(c);var d=new Event("addstream");d.stream=c,a.setTimeout(function(){e._dispatchEvent("addstream",d)})}g.forEach(function(a){var b=a[0],d=a[1];c.id===a[2].id&&m(e,b,d,[c])})}}),g.forEach(function(a){a[2]||m(e,a[0],a[1],[])}),a.setTimeout(function(){e&&e.transceivers&&e.transceivers.forEach(function(a){a.iceTransport&&"new"===a.iceTransport.state&&a.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),a.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},n.prototype.close=function(){this.transceivers.forEach(function(a){a.iceTransport&&a.iceTransport.stop(),a.dtlsTransport&&a.dtlsTransport.stop(),a.rtpSender&&a.rtpSender.stop(),a.rtpReceiver&&a.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},n.prototype._updateSignalingState=function(a){this.signalingState=a;var b=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",b)},n.prototype._maybeFireNegotiationNeeded=function(){var b=this;"stable"===this.signalingState&&this.needNegotiation!==!0&&(this.needNegotiation=!0,a.setTimeout(function(){if(b.needNegotiation){b.needNegotiation=!1;var a=new Event("negotiationneeded");b._dispatchEvent("negotiationneeded",a)}},0))},n.prototype._updateIceConnectionState=function(){var a,b={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(a){b[a.iceTransport.state]++}),a="new",b.failed>0?a="failed":b.checking>0?a="checking":b.disconnected>0?a="disconnected":b.new>0?a="new":b.connected>0?a="connected":b.completed>0&&(a="completed"),a!==this.iceConnectionState){this.iceConnectionState=a;var c=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",c)}},n.prototype._updateConnectionState=function(){var a,b={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(a){b[a.iceTransport.state]++,b[a.dtlsTransport.state]++}),b.connected+=b.completed,a="new",b.failed>0?a="failed":b.connecting>0?a="connecting":b.disconnected>0?a="disconnected":b.new>0?a="new":b.connected>0&&(a="connected"),a!==this.connectionState){this.connectionState=a;var c=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",c)}},n.prototype.createOffer=function(){var c=this;if(c._isClosed)return Promise.reject(j("InvalidStateError","Can not call createOffer after close"));var d=c.transceivers.filter(function(a){return"audio"===a.kind}).length,f=c.transceivers.filter(function(a){return"video"===a.kind}).length,g=arguments[0];if(g){if(g.mandatory||g.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==g.offerToReceiveAudio&&(d=g.offerToReceiveAudio===!0?1:g.offerToReceiveAudio===!1?0:g.offerToReceiveAudio),void 0!==g.offerToReceiveVideo&&(f=g.offerToReceiveVideo===!0?1:g.offerToReceiveVideo===!1?0:g.offerToReceiveVideo)}for(c.transceivers.forEach(function(a){"audio"===a.kind?(d--,d<0&&(a.wantReceive=!1)):"video"===a.kind&&(f--,f<0&&(a.wantReceive=!1))});d>0||f>0;)d>0&&(c._createTransceiver("audio"),d--),f>0&&(c._createTransceiver("video"),f--);var h=k.writeSessionBoilerplate(c._sdpSessionId,c._sdpSessionVersion++);c.transceivers.forEach(function(d,e){var f=d.track,g=d.kind,h=d.mid||k.generateIdentifier();d.mid=h,d.iceGatherer||(d.iceGatherer=c._createIceGatherer(e,c.usingBundle));var i=a.RTCRtpSender.getCapabilities(g);b<15019&&(i.codecs=i.codecs.filter(function(a){return"rtx"!==a.name})),i.codecs.forEach(function(a){"H264"===a.name&&void 0===a.parameters["level-asymmetry-allowed"]&&(a.parameters["level-asymmetry-allowed"]="1"),d.remoteCapabilities&&d.remoteCapabilities.codecs&&d.remoteCapabilities.codecs.forEach(function(b){a.name.toLowerCase()===b.name.toLowerCase()&&a.clockRate===b.clockRate&&(a.preferredPayloadType=b.payloadType)})}),i.headerExtensions.forEach(function(a){var b=d.remoteCapabilities&&d.remoteCapabilities.headerExtensions||[];b.forEach(function(b){a.uri===b.uri&&(a.id=b.id)})});var j=d.sendEncodingParameters||[{ssrc:1001*(2*e+1)}];f&&b>=15019&&"video"===g&&!j[0].rtx&&(j[0].rtx={ssrc:j[0].ssrc+1}),d.wantReceive&&(d.rtpReceiver=new a.RTCRtpReceiver(d.dtlsTransport,g)),d.localCapabilities=i,d.sendEncodingParameters=j}),"max-compat"!==c._config.bundlePolicy&&(h+="a=group:BUNDLE "+c.transceivers.map(function(a){return a.mid}).join(" ")+"\r\n"),h+="a=ice-options:trickle\r\n",c.transceivers.forEach(function(a,b){h+=e(a,a.localCapabilities,"offer",a.stream,c._dtlsRole),h+="a=rtcp-rsize\r\n",!a.iceGatherer||"new"===c.iceGatheringState||0!==b&&c.usingBundle||(a.iceGatherer.getLocalCandidates().forEach(function(a){a.component=1,h+="a="+k.writeCandidate(a)+"\r\n"}),"completed"===a.iceGatherer.state&&(h+="a=end-of-candidates\r\n"))});var i=new a.RTCSessionDescription({type:"offer",sdp:h});return Promise.resolve(i)},n.prototype.createAnswer=function(){var c=this;if(c._isClosed)return Promise.reject(j("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==c.signalingState&&"have-local-pranswer"!==c.signalingState)return Promise.reject(j("InvalidStateError","Can not call createAnswer in signalingState "+c.signalingState));var d=k.writeSessionBoilerplate(c._sdpSessionId,c._sdpSessionVersion++);c.usingBundle&&(d+="a=group:BUNDLE "+c.transceivers.map(function(a){return a.mid}).join(" ")+"\r\n");var f=k.getMediaSections(c._remoteDescription.sdp).length;c.transceivers.forEach(function(a,h){if(!(h+1>f)){if(a.rejected)return"application"===a.kind?d+="DTLS/SCTP"===a.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+a.protocol+" webrtc-datachannel\r\n":"audio"===a.kind?d+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===a.kind&&(d+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(d+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+a.mid+"\r\n");if(a.stream){var i;"audio"===a.kind?i=a.stream.getAudioTracks()[0]:"video"===a.kind&&(i=a.stream.getVideoTracks()[0]),i&&b>=15019&&"video"===a.kind&&!a.sendEncodingParameters[0].rtx&&(a.sendEncodingParameters[0].rtx={ssrc:a.sendEncodingParameters[0].ssrc+1})}var j=g(a.localCapabilities,a.remoteCapabilities),k=j.codecs.filter(function(a){return"rtx"===a.name.toLowerCase()}).length;!k&&a.sendEncodingParameters[0].rtx&&delete a.sendEncodingParameters[0].rtx,d+=e(a,j,"answer",a.stream,c._dtlsRole),a.rtcpParameters&&a.rtcpParameters.reducedSize&&(d+="a=rtcp-rsize\r\n")}});var h=new a.RTCSessionDescription({type:"answer",sdp:d});return Promise.resolve(h)},n.prototype.addIceCandidate=function(a){var b,c=this;return a&&void 0===a.sdpMLineIndex&&!a.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(d,e){if(!c._remoteDescription)return e(j("InvalidStateError","Can not add ICE candidate without a remote description"));if(a&&""!==a.candidate){var f=a.sdpMLineIndex;if(a.sdpMid)for(var g=0;g<c.transceivers.length;g++)if(c.transceivers[g].mid===a.sdpMid){f=g;break}var h=c.transceivers[f];if(!h)return e(j("OperationError","Can not add ICE candidate"));if(h.rejected)return d();var l=Object.keys(a.candidate).length>0?k.parseCandidate(a.candidate):{};if("tcp"===l.protocol&&(0===l.port||9===l.port))return d();if(l.component&&1!==l.component)return d();if((0===f||f>0&&h.iceTransport!==c.transceivers[0].iceTransport)&&!i(h.iceTransport,l))return e(j("OperationError","Can not add ICE candidate"));var m=a.candidate.trim();0===m.indexOf("a=")&&(m=m.substr(2)),b=k.getMediaSections(c._remoteDescription.sdp),b[f]+="a="+(l.type?m:"end-of-candidates")+"\r\n",c._remoteDescription.sdp=k.getDescription(c._remoteDescription.sdp)+b.join("")}else for(var n=0;n<c.transceivers.length&&(c.transceivers[n].rejected||(c.transceivers[n].iceTransport.addRemoteCandidate({}),b=k.getMediaSections(c._remoteDescription.sdp),b[n]+="a=end-of-candidates\r\n",c._remoteDescription.sdp=k.getDescription(c._remoteDescription.sdp)+b.join(""),!c.usingBundle));n++);d()})},n.prototype.getStats=function(b){if(b&&b instanceof a.MediaStreamTrack){var c=null;if(this.transceivers.forEach(function(a){a.rtpSender&&a.rtpSender.track===b?c=a.rtpSender:a.rtpReceiver&&a.rtpReceiver.track===b&&(c=a.rtpReceiver)}),!c)throw j("InvalidAccessError","Invalid selector.");return c.getStats()}var d=[];return this.transceivers.forEach(function(a){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(b){a[b]&&d.push(a[b].getStats())})}),Promise.all(d).then(function(a){var b=new Map;return a.forEach(function(a){a.forEach(function(a){b.set(a.id,a)})}),b})};var o=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];o.forEach(function(b){var c=a[b];if(c&&c.prototype&&c.prototype.getStats){var e=c.prototype.getStats;c.prototype.getStats=function(){return e.apply(this).then(function(a){var b=new Map;return Object.keys(a).forEach(function(c){a[c].type=d(a[c]),b.set(c,a[c])}),b})}}});var p=["createOffer","createAnswer"];return p.forEach(function(a){var b=n.prototype[a];n.prototype[a]=function(){var a=arguments;return"function"==typeof a[0]||"function"==typeof a[1]?b.apply(this,[arguments[2]]).then(function(b){"function"==typeof a[0]&&a[0].apply(null,[b])},function(b){"function"==typeof a[1]&&a[1].apply(null,[b])}):b.apply(this,arguments)}}),p=["setLocalDescription","setRemoteDescription","addIceCandidate"],p.forEach(function(a){var b=n.prototype[a];n.prototype[a]=function(){var a=arguments;return"function"==typeof a[1]||"function"==typeof a[2]?b.apply(this,arguments).then(function(){"function"==typeof a[1]&&a[1].apply(null)},function(b){"function"==typeof a[2]&&a[2].apply(null,[b])}):b.apply(this,arguments)}}),["getStats"].forEach(function(a){var b=n.prototype[a];n.prototype[a]=function(){var a=arguments;return"function"==typeof a[1]?b.apply(this,arguments).then(function(){"function"==typeof a[1]&&a[1].apply(null)}):b.apply(this,arguments)}}),n}},function(a,b,c){"use strict";a.exports=function(a){var b=a&&a.navigator,c=function(a){return{name:{PermissionDeniedError:"NotAllowedError"}[a.name]||a.name,message:a.message,constraint:a.constraint,toString:function(){return this.name}}},d=b.mediaDevices.getUserMedia.bind(b.mediaDevices);b.mediaDevices.getUserMedia=function(a){return d(a).catch(function(a){return Promise.reject(c(a))})}}},function(a,b,c){"use strict";var d=c(3);a.exports={shimGetUserMedia:c(91),shimOnTrack:function(a){"object"!=typeof a||!a.RTCPeerConnection||"ontrack"in a.RTCPeerConnection.prototype||Object.defineProperty(a.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(a){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=a),this.addEventListener("addstream",this._ontrackpoly=function(a){a.stream.getTracks().forEach(function(b){var c=new Event("track");c.track=b,c.receiver={track:b},c.transceiver={receiver:c.receiver},c.streams=[a.stream],this.dispatchEvent(c)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),"object"==typeof a&&a.RTCTrackEvent&&"receiver"in a.RTCTrackEvent.prototype&&!("transceiver"in a.RTCTrackEvent.prototype)&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(a){"object"==typeof a&&(!a.HTMLMediaElement||"srcObject"in a.HTMLMediaElement.prototype||Object.defineProperty(a.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(a){this.mozSrcObject=a}}))},shimPeerConnection:function(a){var b=d.detectBrowser(a);if("object"==typeof a&&(a.RTCPeerConnection||a.mozRTCPeerConnection)){a.RTCPeerConnection||(a.RTCPeerConnection=function(c,d){if(b.version<38&&c&&c.iceServers){for(var e=[],f=0;f<c.iceServers.length;f++){var g=c.iceServers[f];if(g.hasOwnProperty("urls"))for(var h=0;h<g.urls.length;h++){var i={url:g.urls[h]};0===g.urls[h].indexOf("turn")&&(i.username=g.username,i.credential=g.credential),e.push(i)}else e.push(c.iceServers[f])}c.iceServers=e}return new a.mozRTCPeerConnection(c,d)},a.RTCPeerConnection.prototype=a.mozRTCPeerConnection.prototype,a.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get:function(){return a.mozRTCPeerConnection.generateCertificate}}),a.RTCSessionDescription=a.mozRTCSessionDescription,a.RTCIceCandidate=a.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(b){var c=a.RTCPeerConnection.prototype[b];a.RTCPeerConnection.prototype[b]=function(){return arguments[0]=new("addIceCandidate"===b?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}});var c=a.RTCPeerConnection.prototype.addIceCandidate;a.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?c.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var e=function(a){var b=new Map;return Object.keys(a).forEach(function(c){b.set(c,a[c]),b[c]=a[c]}),b},f={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},g=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(a,c,d){return g.apply(this,[a||null]).then(function(a){if(b.version<48&&(a=e(a)),b.version<53&&!c)try{a.forEach(function(a){a.type=f[a.type]||a.type})}catch(b){if("TypeError"!==b.name)throw b;a.forEach(function(b,c){a.set(c,Object.assign({},b,{type:f[b.type]||b.type}))})}return a}).then(c,d)}}},shimSenderGetStats:function(a){if("object"==typeof a&&a.RTCPeerConnection&&a.RTCRtpSender&&!(a.RTCRtpSender&&"getStats"in a.RTCRtpSender.prototype)){var b=a.RTCPeerConnection.prototype.getSenders;b&&(a.RTCPeerConnection.prototype.getSenders=function(){var a=this,c=b.apply(a,[]);return c.forEach(function(b){b._pc=a}),c});var c=a.RTCPeerConnection.prototype.addTrack;c&&(a.RTCPeerConnection.prototype.addTrack=function(){var a=c.apply(this,arguments);return a._pc=this,a}),a.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},shimReceiverGetStats:function(a){if("object"==typeof a&&a.RTCPeerConnection&&a.RTCRtpSender&&!(a.RTCRtpSender&&"getStats"in a.RTCRtpReceiver.prototype)){var b=a.RTCPeerConnection.prototype.getReceivers;b&&(a.RTCPeerConnection.prototype.getReceivers=function(){var a=this,c=b.apply(a,[]);return c.forEach(function(b){b._pc=a}),c}),d.wrapPeerConnectionEvent(a,"track",function(a){return a.receiver._pc=a.srcElement,a}),a.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(a){!a.RTCPeerConnection||"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(a){var b=this;d.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(c){c.track&&a.getTracks().indexOf(c.track)!==-1&&b.removeTrack(c)})})},shimRTCDataChannel:function(a){a.DataChannel&&!a.RTCDataChannel&&(a.RTCDataChannel=a.DataChannel)},shimGetDisplayMedia:function(a,b){"getDisplayMedia"in a.navigator||(navigator.getDisplayMedia=function(a){if(!a||!a.video){var c=new DOMException("getDisplayMedia without video constraints is undefined");return c.name="NotFoundError",c.code=8,Promise.reject(c)}return a.video===!0?a.video={mediaSource:b}:a.video.mediaSource=b,navigator.mediaDevices.getUserMedia(a)})}}},function(a,b,c){"use strict";var d=c(3),e=d.log;a.exports=function(a){var b=d.detectBrowser(a),c=a&&a.navigator,f=a&&a.MediaStreamTrack,g=function(a){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[a.name]||a.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[a.message]||a.message,constraint:a.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},h=function(a,d,f){var h=function(a){if("object"!=typeof a||a.require)return a;var b=[];return Object.keys(a).forEach(function(c){if("require"!==c&&"advanced"!==c&&"mediaSource"!==c){var d=a[c]="object"==typeof a[c]?a[c]:{ideal:a[c]};if(void 0===d.min&&void 0===d.max&&void 0===d.exact||b.push(c),void 0!==d.exact&&("number"==typeof d.exact?d.min=d.max=d.exact:a[c]=d.exact,delete d.exact),void 0!==d.ideal){a.advanced=a.advanced||[];var e={};"number"==typeof d.ideal?e[c]={min:d.ideal,max:d.ideal}:e[c]=d.ideal,a.advanced.push(e),delete d.ideal,Object.keys(d).length||delete a[c]}}}),b.length&&(a.require=b),a};return a=JSON.parse(JSON.stringify(a)),b.version<38&&(e("spec: "+JSON.stringify(a)),a.audio&&(a.audio=h(a.audio)),a.video&&(a.video=h(a.video)),e("ff37: "+JSON.stringify(a))),c.mozGetUserMedia(a,d,function(a){f(g(a))})},i=function(a){return new Promise(function(b,c){h(a,b,c)})};if(c.mediaDevices||(c.mediaDevices={getUserMedia:i,addEventListener:function(){},removeEventListener:function(){}}),c.mediaDevices.enumerateDevices=c.mediaDevices.enumerateDevices||function(){return new Promise(function(a){var b=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];a(b)})},b.version<41){var j=c.mediaDevices.enumerateDevices.bind(c.mediaDevices);c.mediaDevices.enumerateDevices=function(){return j().then(void 0,function(a){if("NotFoundError"===a.name)return[];throw a})}}if(b.version<49){var k=c.mediaDevices.getUserMedia.bind(c.mediaDevices);c.mediaDevices.getUserMedia=function(a){return k(a).then(function(b){if(a.audio&&!b.getAudioTracks().length||a.video&&!b.getVideoTracks().length)throw b.getTracks().forEach(function(a){a.stop()}),new DOMException("The object can not be found here.","NotFoundError");return b},function(a){return Promise.reject(g(a))})}}if(!(b.version>55&&"autoGainControl"in c.mediaDevices.getSupportedConstraints())){var l=function(a,b,c){b in a&&!(c in a)&&(a[c]=a[b],delete a[b])},m=c.mediaDevices.getUserMedia.bind(c.mediaDevices);if(c.mediaDevices.getUserMedia=function(a){return"object"==typeof a&&"object"==typeof a.audio&&(a=JSON.parse(JSON.stringify(a)),l(a.audio,"autoGainControl","mozAutoGainControl"),l(a.audio,"noiseSuppression","mozNoiseSuppression")),m(a)},f&&f.prototype.getSettings){var n=f.prototype.getSettings;f.prototype.getSettings=function(){var a=n.apply(this,arguments);return l(a,"mozAutoGainControl","autoGainControl"),l(a,"mozNoiseSuppression","noiseSuppression"),a}}if(f&&f.prototype.applyConstraints){var o=f.prototype.applyConstraints;f.prototype.applyConstraints=function(a){return"audio"===this.kind&&"object"==typeof a&&(a=JSON.parse(JSON.stringify(a)),l(a,"autoGainControl","mozAutoGainControl"),l(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}c.getUserMedia=function(a,e,f){return b.version<44?h(a,e,f):(d.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),void c.mediaDevices.getUserMedia(a).then(e,f))}}},function(a,b,c){"use strict";var d=c(3);a.exports={shimLocalStreamsAPI:function(a){if("object"==typeof a&&a.RTCPeerConnection){if("getLocalStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getStreamById=function(a){var b=null;return this._localStreams&&this._localStreams.forEach(function(c){c.id===a&&(b=c)}),this._remoteStreams&&this._remoteStreams.forEach(function(c){c.id===a&&(b=c)}),b}),!("addStream"in a.RTCPeerConnection.prototype)){var b=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addStream=function(a){this._localStreams||(this._localStreams=[]),this._localStreams.indexOf(a)===-1&&this._localStreams.push(a);var c=this;a.getTracks().forEach(function(d){b.call(c,d,a)})},a.RTCPeerConnection.prototype.addTrack=function(a,c){return c&&(this._localStreams?this._localStreams.indexOf(c)===-1&&this._localStreams.push(c):this._localStreams=[c]),b.call(this,a,c)}}"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(a){this._localStreams||(this._localStreams=[]);var b=this._localStreams.indexOf(a);if(b!==-1){this._localStreams.splice(b,1);var c=this,d=a.getTracks();this.getSenders().forEach(function(a){d.indexOf(a.track)!==-1&&c.removeTrack(a)})}})}},shimRemoteStreamsAPI:function(a){if("object"==typeof a&&a.RTCPeerConnection&&("getRemoteStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in a.RTCPeerConnection.prototype))){Object.defineProperty(a.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(a){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=a)}});var b=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){var a=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(b){b.streams.forEach(function(b){if(a._remoteStreams||(a._remoteStreams=[]),!(a._remoteStreams.indexOf(b)>=0)){a._remoteStreams.push(b);var c=new Event("addstream");c.stream=b,a.dispatchEvent(c)}})}),b.apply(a,arguments)}}},shimCallbacksAPI:function(a){if("object"==typeof a&&a.RTCPeerConnection){var b=a.RTCPeerConnection.prototype,c=b.createOffer,d=b.createAnswer,e=b.setLocalDescription,f=b.setRemoteDescription,g=b.addIceCandidate;b.createOffer=function(a,b){var d=arguments.length>=2?arguments[2]:arguments[0],e=c.apply(this,[d]);return b?(e.then(a,b),Promise.resolve()):e},b.createAnswer=function(a,b){var c=arguments.length>=2?arguments[2]:arguments[0],e=d.apply(this,[c]);return b?(e.then(a,b),Promise.resolve()):e};var h=function(a,b,c){var d=e.apply(this,[a]);return c?(d.then(b,c),Promise.resolve()):d};b.setLocalDescription=h,h=function(a,b,c){var d=f.apply(this,[a]);return c?(d.then(b,c),Promise.resolve()):d},b.setRemoteDescription=h,h=function(a,b,c){var d=g.apply(this,[a]);return c?(d.then(b,c),Promise.resolve()):d},b.addIceCandidate=h}},shimGetUserMedia:function(a){var b=a&&a.navigator;b.getUserMedia||(b.webkitGetUserMedia?b.getUserMedia=b.webkitGetUserMedia.bind(b):b.mediaDevices&&b.mediaDevices.getUserMedia&&(b.getUserMedia=function(a,c,d){b.mediaDevices.getUserMedia(a).then(c,d)}.bind(b)))},shimRTCIceServerUrls:function(a){var b=a.RTCPeerConnection;a.RTCPeerConnection=function(a,c){if(a&&a.iceServers){for(var e=[],f=0;f<a.iceServers.length;f++){var g=a.iceServers[f];!g.hasOwnProperty("urls")&&g.hasOwnProperty("url")?(d.deprecated("RTCIceServer.url","RTCIceServer.urls"),g=JSON.parse(JSON.stringify(g)),g.urls=g.url,delete g.url,e.push(g)):e.push(a.iceServers[f])}a.iceServers=e}return new b(a,c)},a.RTCPeerConnection.prototype=b.prototype,
"generateCertificate"in a.RTCPeerConnection&&Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get:function(){return b.generateCertificate}})},shimTrackEventTransceiver:function(a){"object"==typeof a&&a.RTCPeerConnection&&"receiver"in a.RTCTrackEvent.prototype&&!a.RTCTransceiver&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(a){var b=a.RTCPeerConnection.prototype.createOffer;a.RTCPeerConnection.prototype.createOffer=function(a){var c=this;if(a){"undefined"!=typeof a.offerToReceiveAudio&&(a.offerToReceiveAudio=!!a.offerToReceiveAudio);var d=c.getTransceivers().find(function(a){return a.sender.track&&"audio"===a.sender.track.kind});a.offerToReceiveAudio===!1&&d?"sendrecv"===d.direction?d.setDirection?d.setDirection("sendonly"):d.direction="sendonly":"recvonly"===d.direction&&(d.setDirection?d.setDirection("inactive"):d.direction="inactive"):a.offerToReceiveAudio!==!0||d||c.addTransceiver("audio"),"undefined"!=typeof a.offerToReceiveVideo&&(a.offerToReceiveVideo=!!a.offerToReceiveVideo);var e=c.getTransceivers().find(function(a){return a.sender.track&&"video"===a.sender.track.kind});a.offerToReceiveVideo===!1&&e?"sendrecv"===e.direction?e.setDirection("sendonly"):"recvonly"===e.direction&&e.setDirection("inactive"):a.offerToReceiveVideo!==!0||e||c.addTransceiver("video")}return b.apply(c,arguments)}}}},function(a,b,c){"use strict";var d=c(42),e=c(3);a.exports={shimRTCIceCandidate:function(a){if(a.RTCIceCandidate&&!(a.RTCIceCandidate&&"foundation"in a.RTCIceCandidate.prototype)){var b=a.RTCIceCandidate;a.RTCIceCandidate=function(a){if("object"==typeof a&&a.candidate&&0===a.candidate.indexOf("a=")&&(a=JSON.parse(JSON.stringify(a)),a.candidate=a.candidate.substr(2)),a.candidate&&a.candidate.length){var c=new b(a),e=d.parseCandidate(a.candidate),f=Object.assign(c,e);return f.toJSON=function(){return{candidate:f.candidate,sdpMid:f.sdpMid,sdpMLineIndex:f.sdpMLineIndex,usernameFragment:f.usernameFragment}},f}return new b(a)},a.RTCIceCandidate.prototype=b.prototype,e.wrapPeerConnectionEvent(a,"icecandidate",function(b){return b.candidate&&Object.defineProperty(b,"candidate",{value:new a.RTCIceCandidate(b.candidate),writable:"false"}),b})}},shimCreateObjectURL:function(a){var b=a&&a.URL;if("object"==typeof a&&a.HTMLMediaElement&&"srcObject"in a.HTMLMediaElement.prototype&&b.createObjectURL&&b.revokeObjectURL){var c=b.createObjectURL.bind(b),d=b.revokeObjectURL.bind(b),f=new Map,g=0;b.createObjectURL=function(a){if("getTracks"in a){var b="polyblob:"+ ++g;return f.set(b,a),e.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),b}return c(a)},b.revokeObjectURL=function(a){d(a),f.delete(a)};var h=Object.getOwnPropertyDescriptor(a.HTMLMediaElement.prototype,"src");Object.defineProperty(a.HTMLMediaElement.prototype,"src",{get:function(){return h.get.apply(this)},set:function(a){return this.srcObject=f.get(a)||null,h.set.apply(this,[a])}});var i=a.HTMLMediaElement.prototype.setAttribute;a.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=f.get(arguments[1])||null),i.apply(this,arguments)}}},shimMaxMessageSize:function(a){if(!a.RTCSctpTransport&&a.RTCPeerConnection){var b=e.detectBrowser(a);"sctp"in a.RTCPeerConnection.prototype||Object.defineProperty(a.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"==typeof this._sctp?null:this._sctp}});var c=function(a){var b=d.splitSections(a.sdp);return b.shift(),b.some(function(a){var b=d.parseMLine(a);return b&&"application"===b.kind&&b.protocol.indexOf("SCTP")!==-1})},f=function(a){var b=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===b||b.length<2)return-1;var c=parseInt(b[1],10);return c!==c?-1:c},g=function(a){var c=65536;return"firefox"===b.browser&&(c=b.version<57?a===-1?16384:2147483637:b.version<60?57===b.version?65535:65536:2147483637),c},h=function(a,c){var e=65536;"firefox"===b.browser&&57===b.version&&(e=65535);var f=d.matchPrefix(a.sdp,"a=max-message-size:");return f.length>0?e=parseInt(f[0].substr(19),10):"firefox"===b.browser&&c!==-1&&(e=2147483637),e},i=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){var a=this;if(a._sctp=null,c(arguments[0])){var b,d=f(arguments[0]),e=g(d),j=h(arguments[0],d);b=0===e&&0===j?Number.POSITIVE_INFINITY:0===e||0===j?Math.max(e,j):Math.min(e,j);var k={};Object.defineProperty(k,"maxMessageSize",{get:function(){return b}}),a._sctp=k}return i.apply(a,arguments)}}},shimSendThrowTypeError:function(a){function b(a,b){var c=a.send;a.send=function(){var d=arguments[0],e=d.length||d.size||d.byteLength;if("open"===a.readyState&&b.sctp&&e>b.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+b.sctp.maxMessageSize+" bytes)");return c.apply(a,arguments)}}if(a.RTCPeerConnection&&"createDataChannel"in a.RTCPeerConnection.prototype){var c=a.RTCPeerConnection.prototype.createDataChannel;a.RTCPeerConnection.prototype.createDataChannel=function(){var a=this,d=c.apply(a,arguments);return b(d,a),d},e.wrapPeerConnectionEvent(a,"datachannel",function(a){return b(a.channel,a.target),a})}}}},function(a,b,c){"use strict";function d(a){return Object(f.b)(function(){return 0!==a.videoWidth}).then(function(){return e(a)})}function e(a){var b=a.videoWidth,c=a.videoHeight,d=document.createElement("canvas");d.width=b,d.height=c;var e=d.getContext("2d");e.drawImage(a,0,0);var f=e.getImageData(0,0,b,c);return{width:b,height:c,data:f.data.buffer}}b.a=d;var f=c(43)},function(a,b,c){a.exports={default:c(96),__esModule:!0}},function(a,b,c){c(26),c(18),a.exports=c(97)},function(a,b,c){var d=c(27),e=c(1)("iterator"),f=c(6);a.exports=c(2).isIterable=function(a){var b=Object(a);return void 0!==b[e]||"@@iterator"in b||f.hasOwnProperty(d(b))}},function(a,b,c){a.exports={default:c(99),__esModule:!0}},function(a,b,c){c(26),c(18),a.exports=c(100)},function(a,b,c){var d=c(4),e=c(37);a.exports=c(2).getIterator=function(a){var b=e(a);if("function"!=typeof b)throw TypeError(a+" is not iterable!");return d(b.call(a))}},function(a,b,c){"use strict";c.d(b,"a",function(){return I});var d=c(102),e=c.n(d),f=c(105),g=c.n(f),h=c(16),i=c.n(h),j=c(44),k=c.n(j),l=c(106),m=c.n(l),n=c(46),o=c.n(n),p=c(112),q=c.n(p),r=c(113),s=this,t=2e3,u=function(a){return function(b){return console.debug(a,b),b}},v=function(a){return o.a.periodic(a).take(1)},w=function(a){return function(b){return q()(b,a)}},x=function(a,b){a.addListener({next:b,error:function(a){return console.error(a)},complete:function(a){return console.error(a)}})},y=function(){var a=void 0,b=new m.a(function(b){a=b});return[b,a]},z=function(a,b){var c=a.protocol,d=a.host;return c="https:"===c?"wss":"ws",c+"://"+d+"/"+b},A=[],B=function(a){var b=a.role,c=a.visit;u("WS: refresh token",{role:b,visit:c}),A.push({timestamp:Date.now(),message:"Reconnecting websocket"});var d={meta:{events:A}};return r.a({visit:c,patch:d}).then(function(a){return{token:a,user_id:c,role:b}}).then(u("WS: got new token"))},C=function(a){console.debug("WS connect url",a);var b=void 0,c=function(a){try{b.close()}finally{b=null}},d=function c(d){b=new WebSocket(a);var e=function(a){return d.next(["open",b])},f=function(a){return d.next(["close",a])},g=function(a){return c(d)};b.addEventListener("open",e),b.addEventListener("close",f),b.addEventListener("close",g)},e=o.a.create({start:d,stop:c}),f=function(a){return function(b){var c=k()(b,1),d=c[0];return a===d}},g=function(a){var b=k()(a,2),c=(b[0],b[1]);return c},h=function(a){return function(b){return b.filter(f(a)).map(g).debug("WS "+a)}},i=h("open")(e),j=h("close")(e);return{open$:i,closed$:j}},D=function(a,b){var c=a.role,d=a.visit,e=a.token,f=b.open$,g=b.closed$,h=e?function(a){return m.a.resolve({token:e,user_id:d,role:c})}:function(a){return B({role:c,visit:d})},j="WS: authorization timeout. Terminating webSocket.",k=f.map(function(a){var b=q()(a,"message").map(function(a){return a.data}).map(function(a){return JSON.parse(a)}).replaceError(o.a.never),c=b.filter(function(a){return"OK"===a.status}).debug("WS: auth success.").mapTo("ok"),d=b.filter(function(a){return"error"in a}).map(function(b){return a.close()}).debug("WS: auth failed.").mapTo("fail"),e=v(t).endWhen(c).map(function(b){console.error(j),a.close()}),f=o.a.merge(c,d,e).filter(function(a){return"ok"===a}).mapTo(a);return h().then(function(b){return a.send(i()(b))}),f}).flatten().debug("WS authorized: authorized$");return{authorized$:k,closed$:g}},E=function(a){var b=a.ready$,c=a.closed$,d="WS: failed to send message: ws is closed.",e=b.map(w("message")).flatten(),f=function(a){return m.a.reject(Error("WS: send failed: not ready."))},g=b.map(function(a){return function(b){return a.send(b)}}),h=c.map(function(a){return function(a){throw Error(d)}}),i=o.a.merge(g,h),j=i.map(function(a){f=a});return x(j,function(a){return a}),{incoming$:e,send:function(){return f.apply(void 0,arguments)}}},F=function(a){var b=a.ready$,c=a.closed$,d=a.send,e=K(),f=e.addTask,g=e.suspend,h=e.resume;return x(c,g),x(b,h),function(a){return f(function(b){return d(a)})}},G=function(a){return function(b){var c=b.role,d=b.visit,e=b.token,f=D({role:c,visit:d,token:e},C(a)),g=f.authorized$,h=f.closed$,i=E({ready$:g,closed$:h}),j=i.incoming$,k=i.send,l=F({ready$:g,closed$:h,send:k});return{incoming$:j,send:l}}},H=z(location,"dashboard/ws"),I=(G(H),function(a){var b=z(new URL(a),"ws");return G(b)}),J=m.a.delay,K=function(){var a=m.a.resolve(),b=function(a){return g()(e.a.mark(function b(){return e.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,a();case 3:b.next=9;break;case 5:b.prev=5,b.t0=b.catch(0),console.debug("Task failed",b.t0),c(a);case 9:case"end":return b.stop()}},b,s,[[0,5]])}))},c=function(c){a=a.then(b(c))};c(function(a){return J(1)});var d=!1,f=function(a){return a},h=function(){if(d)return void console.debug("Task queue: skip suspend, already suspended.");d=!0,console.debug("Task queue: suspend.");var a=y(),b=k()(a,2),e=b[0],g=b[1];c(function(a){return e}),f=function(){g(),d=!1,console.debug("Task queue: resume.")}};return{addTask:c,_queue:a,suspend:h,resume:function(){return f()}}}},function(a,b,c){a.exports=c(103)},function(a,b,c){var d=function(){return this}()||Function("return this")(),e=d.regeneratorRuntime&&Object.getOwnPropertyNames(d).indexOf("regeneratorRuntime")>=0,f=e&&d.regeneratorRuntime;if(d.regeneratorRuntime=void 0,a.exports=c(104),e)d.regeneratorRuntime=f;else try{delete d.regeneratorRuntime}catch(a){d.regeneratorRuntime=void 0}},function(a,b){!function(b){"use strict";function c(a,b,c,d){var f=b&&b.prototype instanceof e?b:e,g=Object.create(f.prototype),h=new n(d||[]);return g._invoke=j(a,c,h),g}function d(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}function e(){}function f(){}function g(){}function h(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function i(a){function b(c,e,f,g){var h=d(a[c],a,e);if("throw"!==h.type){var i=h.arg,j=i.value;return j&&"object"==typeof j&&s.call(j,"__await")?Promise.resolve(j.__await).then(function(a){b("next",a,f,g)},function(a){b("throw",a,f,g)}):Promise.resolve(j).then(function(a){i.value=a,f(i)},g)}g(h.arg)}function c(a,c){function d(){return new Promise(function(d,e){b(a,c,d,e)})}return e=e?e.then(d,d):d()}var e;this._invoke=c}function j(a,b,c){var e=z;return function(f,g){if(e===B)throw new Error("Generator is already running");if(e===C){if("throw"===f)throw g;return p()}for(c.method=f,c.arg=g;;){var h=c.delegate;if(h){var i=k(h,c);if(i){if(i===D)continue;return i}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(e===z)throw e=C,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);e=B;var j=d(a,b,c);if("normal"===j.type){if(e=c.done?C:A,j.arg===D)continue;return{value:j.arg,done:c.done}}"throw"===j.type&&(e=C,c.method="throw",c.arg=j.arg)}}}function k(a,b){var c=a.iterator[b.method];if(c===q){if(b.delegate=null,"throw"===b.method){if(a.iterator.return&&(b.method="return",b.arg=q,k(a,b),"throw"===b.method))return D;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var e=d(c,a.iterator,b.arg);if("throw"===e.type)return b.method="throw",b.arg=e.arg,b.delegate=null,D;var f=e.arg;return f?f.done?(b[a.resultName]=f.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=q),b.delegate=null,D):f:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,D)}function l(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function m(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function n(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(l,this),this.reset(!0)}function o(a){if(a){var b=a[u];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function b(){for(;++c<a.length;)if(s.call(a,c))return b.value=a[c],b.done=!1,b;return b.value=q,b.done=!0,b};return d.next=d}}return{next:p}}function p(){return{value:q,done:!0}}var q,r=Object.prototype,s=r.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},u=t.iterator||"@@iterator",v=t.asyncIterator||"@@asyncIterator",w=t.toStringTag||"@@toStringTag",x="object"==typeof a,y=b.regeneratorRuntime;if(y)return void(x&&(a.exports=y));y=b.regeneratorRuntime=x?a.exports:{},y.wrap=c;var z="suspendedStart",A="suspendedYield",B="executing",C="completed",D={},E={};E[u]=function(){return this};var F=Object.getPrototypeOf,G=F&&F(F(o([])));G&&G!==r&&s.call(G,u)&&(E=G);var H=g.prototype=e.prototype=Object.create(E);f.prototype=H.constructor=g,g.constructor=f,g[w]=f.displayName="GeneratorFunction",y.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===f||"GeneratorFunction"===(b.displayName||b.name))},y.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,g):(a.__proto__=g,w in a||(a[w]="GeneratorFunction")),a.prototype=Object.create(H),a},y.awrap=function(a){return{__await:a}},h(i.prototype),i.prototype[v]=function(){return this},y.AsyncIterator=i,y.async=function(a,b,d,e){var f=new i(c(a,b,d,e));return y.isGeneratorFunction(b)?f:f.next().then(function(a){return a.done?a.value:f.next()})},h(H),H[w]="Generator",H[u]=function(){return this},H.toString=function(){return"[object Generator]"},y.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function c(){for(;b.length;){var d=b.pop();if(d in a)return c.value=d,c.done=!1,c}return c.done=!0,c}},y.values=o,n.prototype={constructor:n,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(m),!a)for(var b in this)"t"===b.charAt(0)&&s.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=q)},stop:function(){this.done=!0;var a=this.tryEntries[0],b=a.completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(a){function b(b,d){return f.type="throw",f.arg=a,c.next=b,d&&(c.method="next",c.arg=q),!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=s.call(e,"catchLoc"),h=s.call(e,"finallyLoc");if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&s.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?(this.method="next",this.next=e.finallyLoc,D):this.complete(f)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),D},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),m(c),D}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;m(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:o(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=q),D}}}(function(){return this}()||Function("return this")())},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}b.__esModule=!0;var e=c(17),f=d(e);b.default=function(a){return function(){var b=a.apply(this,arguments);return new f.default(function(a,c){function d(e,g){try{var h=b[e](g),i=h.value}catch(a){return void c(a)}return h.done?void a(i):f.default.resolve(i).then(function(a){d("next",a)},function(a){d("throw",a)})}return d("next")})}}},function(a,b,c){(function(b,c,d){!function(b){a.exports=b()}(function(){var a,e,f;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof _dereq_&&_dereq_;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof _dereq_&&_dereq_,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";b.exports=function(a){function b(a){var b=new c(a),d=b.promise();return b.setHowMany(1),b.setUnwrap(),b.init(),d}var c=a._SomePromiseArray;a.any=function(a){return b(a)},a.prototype.any=function(){return b(this)}}},{}],2:[function(a,c,d){"use strict";function e(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new k(16),this._normalQueue=new k(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var a=this;this.drainQueues=function(){a._drainQueues()},this._schedule=j}function f(a,b,c){this._lateQueue.push(a,b,c),this._queueTick()}function g(a,b,c){this._normalQueue.push(a,b,c),this._queueTick()}function h(a){this._normalQueue._pushOne(a),this._queueTick()}var i;try{throw new Error}catch(a){i=a}var j=a("./schedule"),k=a("./queue"),l=a("./util");e.prototype.setScheduler=function(a){var b=this._schedule;return this._schedule=a,this._customScheduler=!0,b},e.prototype.hasCustomScheduler=function(){return this._customScheduler},e.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},e.prototype.disableTrampolineIfNecessary=function(){l.hasDevTools&&(this._trampolineEnabled=!1)},e.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},e.prototype.fatalError=function(a,c){c?(b.stderr.write("Fatal "+(a instanceof Error?a.stack:a)+"\n"),b.exit(2)):this.throwLater(a)},e.prototype.throwLater=function(a,b){if(1===arguments.length&&(b=a,a=function(){throw b}),"undefined"!=typeof setTimeout)setTimeout(function(){a(b)},0);else try{this._schedule(function(){a(b)})}catch(a){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},l.hasDevTools?(e.prototype.invokeLater=function(a,b,c){this._trampolineEnabled?f.call(this,a,b,c):this._schedule(function(){setTimeout(function(){a.call(b,c)},100)})},e.prototype.invoke=function(a,b,c){this._trampolineEnabled?g.call(this,a,b,c):this._schedule(function(){a.call(b,c)})},e.prototype.settlePromises=function(a){this._trampolineEnabled?h.call(this,a):this._schedule(function(){a._settlePromises()})}):(e.prototype.invokeLater=f,e.prototype.invoke=g,e.prototype.settlePromises=h),e.prototype._drainQueue=function(a){for(;a.length()>0;){var b=a.shift();if("function"==typeof b){var c=a.shift(),d=a.shift();b.call(c,d)}else b._settlePromises()}},e.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},e.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},e.prototype._reset=function(){this._isTickUsed=!1},c.exports=e,c.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){var e=!1,f=function(a,b){this._reject(b)},g=function(a,b){b.promiseRejectionQueued=!0,b.bindingPromise._then(f,f,null,this,a)},h=function(a,b){0===(50397184&this._bitField)&&this._resolveCallback(b.target)},i=function(a,b){b.promiseRejectionQueued||this._reject(a)};a.prototype.bind=function(f){e||(e=!0,a.prototype._propagateFrom=d.propagateFromFunction(),a.prototype._boundValue=d.boundValueFunction());var j=c(f),k=new a(b);k._propagateFrom(this,1);var l=this._target();if(k._setBoundTo(j),j instanceof a){var m={promiseRejectionQueued:!1,promise:k,target:l,bindingPromise:j};l._then(b,g,void 0,k,m),j._then(h,i,void 0,k,m),k._setOnCancel(j)}else k._resolveCallback(l);return k},a.prototype._setBoundTo=function(a){void 0!==a?(this._bitField=2097152|this._bitField,this._boundTo=a):this._bitField=this._bitField&-2097153},a.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},a.bind=function(b,c){return a.resolve(c).bind(b)}}},{}],4:[function(a,b,c){"use strict";function d(){try{Promise===f&&(Promise=e)}catch(a){}return f}var e;"undefined"!=typeof Promise&&(e=Promise);var f=a("./promise")();f.noConflict=d,b.exports=f},{"./promise":22}],5:[function(a,b,c){"use strict";var d=Object.create;if(d){var e=d(null),f=d(null);e[" size"]=f[" size"]=0}b.exports=function(b){function c(a,c){var d;if(null!=a&&(d=a[c]),"function"!=typeof d){var e="Object "+h.classString(a)+" has no method '"+h.toString(c)+"'";throw new b.TypeError(e)}return d}function d(a){var b=this.pop(),d=c(a,b);return d.apply(a,this)}function e(a){return a[this]}function f(a){var b=+this;return b<0&&(b=Math.max(0,b+a.length)),a[b]}var g,h=a("./util"),i=h.canEvaluate;h.isIdentifier;b.prototype.call=function(a){var b=[].slice.call(arguments,1);return b.push(a),this._then(d,void 0,void 0,b,void 0)},b.prototype.get=function(a){var b,c="number"==typeof a;if(c)b=f;else if(i){var d=g(a);b=null!==d?d:e}else b=e;return this._then(b,void 0,void 0,a,void 0)}}},{"./util":36}],6:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){var f=a("./util"),g=f.tryCatch,h=f.errorObj,i=b._async;b.prototype.break=b.prototype.cancel=function(){if(!e.cancellation())return this._warn("cancellation is disabled");for(var a=this,b=a;a._isCancellable();){if(!a._cancelBy(b)){b._isFollowing()?b._followee().cancel():b._cancelBranched();break}var c=a._cancellationParent;if(null==c||!c._isCancellable()){a._isFollowing()?a._followee().cancel():a._cancelBranched();break}a._isFollowing()&&a._followee().cancel(),a._setWillBeCancelled(),b=a,a=c}},b.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},b.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},b.prototype._cancelBy=function(a){return a===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},b.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},b.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),i.invoke(this._cancelPromises,this,void 0))},b.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},b.prototype._unsetOnCancel=function(){this._onCancelField=void 0},b.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},b.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},b.prototype._doInvokeOnCancel=function(a,b){if(f.isArray(a))for(var c=0;c<a.length;++c)this._doInvokeOnCancel(a[c],b);else if(void 0!==a)if("function"==typeof a){if(!b){var d=g(a).call(this._boundValue());d===h&&(this._attachExtraTrace(d.e),i.throwLater(d.e))}}else a._resultCancelled(this)},b.prototype._invokeOnCancel=function(){var a=this._onCancel();this._unsetOnCancel(),i.invoke(this._doInvokeOnCancel,this,a)},b.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},b.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(a,b,c){"use strict";b.exports=function(b){function c(a,c,h){return function(i){var j=h._boundValue();a:for(var k=0;k<a.length;++k){var l=a[k];if(l===Error||null!=l&&l.prototype instanceof Error){if(i instanceof l)return f(c).call(j,i)}else if("function"==typeof l){var m=f(l).call(j,i);if(m===g)return m;if(m)return f(c).call(j,i)}else if(d.isObject(i)){for(var n=e(l),o=0;o<n.length;++o){var p=n[o];if(l[p]!=i[p])continue a}return f(c).call(j,i)}}return b}}var d=a("./util"),e=a("./es5").keys,f=d.tryCatch,g=d.errorObj;return c}},{"./es5":13,"./util":36}],8:[function(a,b,c){"use strict";b.exports=function(a){function b(){this._trace=new b.CapturedTrace(d())}function c(){if(e)return new b}function d(){var a=f.length-1;if(a>=0)return f[a]}var e=!1,f=[];return a.prototype._promiseCreated=function(){},a.prototype._pushContext=function(){},a.prototype._popContext=function(){return null},a._peekContext=a.prototype._peekContext=function(){},b.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,f.push(this._trace))},b.prototype._popContext=function(){if(void 0!==this._trace){var a=f.pop(),b=a._promiseCreated;return a._promiseCreated=null,b}return null},b.CapturedTrace=null,b.create=c,b.deactivateLongStackTraces=function(){},b.activateLongStackTraces=function(){var c=a.prototype._pushContext,f=a.prototype._popContext,g=a._peekContext,h=a.prototype._peekContext,i=a.prototype._promiseCreated;b.deactivateLongStackTraces=function(){a.prototype._pushContext=c,a.prototype._popContext=f,a._peekContext=g,a.prototype._peekContext=h,a.prototype._promiseCreated=i,e=!1},e=!0,a.prototype._pushContext=b.prototype._pushContext,a.prototype._popContext=b.prototype._popContext,a._peekContext=a.prototype._peekContext=d,a.prototype._promiseCreated=function(){var a=this._peekContext();a&&null==a._promiseCreated&&(a._promiseCreated=this)}},b}},{}],9:[function(a,c,d){"use strict";c.exports=function(c,d){function e(a,b){return{promise:b}}function f(){return!1}function g(a,b,c){var d=this;try{a(b,c,function(a){if("function"!=typeof a)throw new TypeError("onCancel must be a function, got: "+N.toString(a));d._attachCancellationCallback(a)})}catch(a){return a}}function h(a){if(!this._isCancellable())return this;var b=this._onCancel();void 0!==b?N.isArray(b)?b.push(a):this._setOnCancel([b,a]):this._setOnCancel(a)}function i(){return this._onCancelField}function j(a){this._onCancelField=a}function k(){this._cancellationParent=void 0,this._onCancelField=void 0}function l(a,b){if(0!==(1&b)){this._cancellationParent=a;var c=a._branchesRemainingToCancel;void 0===c&&(c=0),a._branchesRemainingToCancel=c+1}0!==(2&b)&&a._isBound()&&this._setBoundTo(a._boundTo)}function m(a,b){0!==(2&b)&&a._isBound()&&this._setBoundTo(a._boundTo)}function n(){var a=this._boundTo;return void 0!==a&&a instanceof c?a.isFulfilled()?a.value():void 0:a}function o(){this._trace=new G(this._peekContext())}function p(a,b){if(O(a)){var c=this._trace;if(void 0!==c&&b&&(c=c._parent),void 0!==c)c.attachExtraTrace(a);else if(!a.__stackCleaned__){var d=y(a);N.notEnumerableProp(a,"stack",d.message+"\n"+d.stack.join("\n")),N.notEnumerableProp(a,"__stackCleaned__",!0)}}}function q(a,b,c,d,e){if(void 0===a&&null!==b&&Y){if(void 0!==e&&e._returnedNonUndefined())return;if(0===(65535&d._bitField))return;c&&(c+=" ");var f="",g="";if(b._trace){for(var h=b._trace.stack.split("\n"),i=w(h),j=i.length-1;j>=0;--j){var k=i[j];if(!Q.test(k)){var l=k.match(R);l&&(f="at "+l[1]+":"+l[2]+":"+l[3]+" ");break}}if(i.length>0)for(var m=i[0],j=0;j<h.length;++j)if(h[j]===m){j>0&&(g="\n"+h[j-1]);break}}var n="a promise was created in a "+c+"handler "+f+"but was not returned from it, see http://goo.gl/rRqMUw"+g;d._warn(n,!0,b)}}function r(a,b){var c=a+" is deprecated and will be removed in a future version.";return b&&(c+=" Use "+b+" instead."),s(c)}function s(a,b,d){if(ga.warnings){var e,f=new M(a);if(b)d._attachExtraTrace(f);else if(ga.longStackTraces&&(e=c._peekContext()))e.attachExtraTrace(f);else{var g=y(f);f.stack=g.message+"\n"+g.stack.join("\n")}ba("warning",f)||z(f,"",!0)}}function t(a,b){for(var c=0;c<b.length-1;++c)b[c].push("From previous event:"),b[c]=b[c].join("\n");return c<b.length&&(b[c]=b[c].join("\n")),a+"\n"+b.join("\n")}function u(a){for(var b=0;b<a.length;++b)(0===a[b].length||b+1<a.length&&a[b][0]===a[b+1][0])&&(a.splice(b,1),b--)}function v(a){for(var b=a[0],c=1;c<a.length;++c){for(var d=a[c],e=b.length-1,f=b[e],g=-1,h=d.length-1;h>=0;--h)if(d[h]===f){g=h;break}for(var h=g;h>=0;--h){var i=d[h];if(b[e]!==i)break;b.pop(),e--}b=d}}function w(a){for(var b=[],c=0;c<a.length;++c){var d=a[c],e="    (No stack trace)"===d||S.test(d),f=e&&da(d);e&&!f&&(U&&" "!==d.charAt(0)&&(d="    "+d),b.push(d))}return b}function x(a){for(var b=a.stack.replace(/\s+$/g,"").split("\n"),c=0;c<b.length;++c){var d=b[c];if("    (No stack trace)"===d||S.test(d))break}return c>0&&"SyntaxError"!=a.name&&(b=b.slice(c)),b}function y(a){var b=a.stack,c=a.toString();return b="string"==typeof b&&b.length>0?x(a):["    (No stack trace)"],{message:c,stack:"SyntaxError"==a.name?b:w(b)}}function z(a,b,c){if("undefined"!=typeof console){var d;if(N.isObject(a)){var e=a.stack;d=b+T(e,a)}else d=b+String(a);"function"==typeof J?J(d,c):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(d)}}function A(a,b,c,d){var e=!1;try{"function"==typeof b&&(e=!0,"rejectionHandled"===a?b(d):b(c,d))}catch(a){L.throwLater(a)}"unhandledRejection"===a?ba(a,c,d)||e||z(c,"Unhandled rejection "):ba(a,d)}function B(a){var b;if("function"==typeof a)b="[function "+(a.name||"anonymous")+"]";else{b=a&&"function"==typeof a.toString?a.toString():N.toString(a);var c=/\[object [a-zA-Z0-9$_]+\]/;if(c.test(b))try{var d=JSON.stringify(a);b=d}catch(a){}0===b.length&&(b="(empty array)")}return"(<"+C(b)+">, no stack trace)"}function C(a){var b=41;return a.length<b?a:a.substr(0,b-3)+"..."}function D(){return"function"==typeof fa}function E(a){var b=a.match(ea);if(b)return{fileName:b[1],line:parseInt(b[2],10)}}function F(a,b){if(D()){for(var c,d,e=a.stack.split("\n"),f=b.stack.split("\n"),g=-1,h=-1,i=0;i<e.length;++i){var j=E(e[i]);if(j){c=j.fileName,g=j.line;break}}for(var i=0;i<f.length;++i){var j=E(f[i]);if(j){d=j.fileName,h=j.line;break}}g<0||h<0||!c||!d||c!==d||g>=h||(da=function(a){if(P.test(a))return!0;var b=E(a);return!!(b&&b.fileName===c&&g<=b.line&&b.line<=h)})}}function G(a){this._parent=a,this._promisesCreated=0;var b=this._length=1+(void 0===a?0:a._length);fa(this,G),b>32&&this.uncycle()}var H,I,J,K=c._getDomain,L=c._async,M=a("./errors").Warning,N=a("./util"),O=N.canAttachTrace,P=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,Q=/\((?:timers\.js):\d+:\d+\)/,R=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,S=null,T=null,U=!1,V=!(0==N.env("BLUEBIRD_DEBUG")),W=!(0==N.env("BLUEBIRD_WARNINGS")||!V&&!N.env("BLUEBIRD_WARNINGS")),X=!(0==N.env("BLUEBIRD_LONG_STACK_TRACES")||!V&&!N.env("BLUEBIRD_LONG_STACK_TRACES")),Y=0!=N.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(W||!!N.env("BLUEBIRD_W_FORGOTTEN_RETURN"));c.prototype.suppressUnhandledRejections=function(){var a=this._target();a._bitField=a._bitField&-1048577|524288},c.prototype._ensurePossibleRejectionHandled=function(){if(0===(524288&this._bitField)){this._setRejectionIsUnhandled();var a=this;setTimeout(function(){
a._notifyUnhandledRejection()},1)}},c.prototype._notifyUnhandledRejectionIsHandled=function(){A("rejectionHandled",H,void 0,this)},c.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},c.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},c.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var a=this._settledValue();this._setUnhandledRejectionIsNotified(),A("unhandledRejection",I,a,this)}},c.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},c.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},c.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},c.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},c.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},c.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},c.prototype._warn=function(a,b,c){return s(a,b,c||this)},c.onPossiblyUnhandledRejection=function(a){var b=K();I="function"==typeof a?null===b?a:N.domainBind(b,a):void 0},c.onUnhandledRejectionHandled=function(a){var b=K();H="function"==typeof a?null===b?a:N.domainBind(b,a):void 0};var Z=function(){};c.longStackTraces=function(){if(L.haveItemsQueued()&&!ga.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ga.longStackTraces&&D()){var a=c.prototype._captureStackTrace,b=c.prototype._attachExtraTrace;ga.longStackTraces=!0,Z=function(){if(L.haveItemsQueued()&&!ga.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");c.prototype._captureStackTrace=a,c.prototype._attachExtraTrace=b,d.deactivateLongStackTraces(),L.enableTrampoline(),ga.longStackTraces=!1},c.prototype._captureStackTrace=o,c.prototype._attachExtraTrace=p,d.activateLongStackTraces(),L.disableTrampolineIfNecessary()}},c.hasLongStackTraces=function(){return ga.longStackTraces&&D()};var $=function(){try{if("function"==typeof CustomEvent){var a=new CustomEvent("CustomEvent");return N.global.dispatchEvent(a),function(a,b){var c=new CustomEvent(a.toLowerCase(),{detail:b,cancelable:!0});return!N.global.dispatchEvent(c)}}if("function"==typeof Event){var a=new Event("CustomEvent");return N.global.dispatchEvent(a),function(a,b){var c=new Event(a.toLowerCase(),{cancelable:!0});return c.detail=b,!N.global.dispatchEvent(c)}}var a=document.createEvent("CustomEvent");return a.initCustomEvent("testingtheevent",!1,!0,{}),N.global.dispatchEvent(a),function(a,b){var c=document.createEvent("CustomEvent");return c.initCustomEvent(a.toLowerCase(),!1,!0,b),!N.global.dispatchEvent(c)}}catch(a){}return function(){return!1}}(),_=function(){return N.isNode?function(){return b.emit.apply(b,arguments)}:N.global?function(a){var b="on"+a.toLowerCase(),c=N.global[b];return!!c&&(c.apply(N.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),aa={promiseCreated:e,promiseFulfilled:e,promiseRejected:e,promiseResolved:e,promiseCancelled:e,promiseChained:function(a,b,c){return{promise:b,child:c}},warning:function(a,b){return{warning:b}},unhandledRejection:function(a,b,c){return{reason:b,promise:c}},rejectionHandled:e},ba=function(a){var b=!1;try{b=_.apply(null,arguments)}catch(a){L.throwLater(a),b=!0}var c=!1;try{c=$(a,aa[a].apply(null,arguments))}catch(a){L.throwLater(a),c=!0}return c||b};c.config=function(a){if(a=Object(a),"longStackTraces"in a&&(a.longStackTraces?c.longStackTraces():!a.longStackTraces&&c.hasLongStackTraces()&&Z()),"warnings"in a){var b=a.warnings;ga.warnings=!!b,Y=ga.warnings,N.isObject(b)&&"wForgottenReturn"in b&&(Y=!!b.wForgottenReturn)}if("cancellation"in a&&a.cancellation&&!ga.cancellation){if(L.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");c.prototype._clearCancellationData=k,c.prototype._propagateFrom=l,c.prototype._onCancel=i,c.prototype._setOnCancel=j,c.prototype._attachCancellationCallback=h,c.prototype._execute=g,ca=l,ga.cancellation=!0}return"monitoring"in a&&(a.monitoring&&!ga.monitoring?(ga.monitoring=!0,c.prototype._fireEvent=ba):!a.monitoring&&ga.monitoring&&(ga.monitoring=!1,c.prototype._fireEvent=f)),c},c.prototype._fireEvent=f,c.prototype._execute=function(a,b,c){try{a(b,c)}catch(a){return a}},c.prototype._onCancel=function(){},c.prototype._setOnCancel=function(a){},c.prototype._attachCancellationCallback=function(a){},c.prototype._captureStackTrace=function(){},c.prototype._attachExtraTrace=function(){},c.prototype._clearCancellationData=function(){},c.prototype._propagateFrom=function(a,b){};var ca=m,da=function(){return!1},ea=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;N.inherits(G,Error),d.CapturedTrace=G,G.prototype.uncycle=function(){var a=this._length;if(!(a<2)){for(var b=[],c={},d=0,e=this;void 0!==e;++d)b.push(e),e=e._parent;a=this._length=d;for(var d=a-1;d>=0;--d){var f=b[d].stack;void 0===c[f]&&(c[f]=d)}for(var d=0;d<a;++d){var g=b[d].stack,h=c[g];if(void 0!==h&&h!==d){h>0&&(b[h-1]._parent=void 0,b[h-1]._length=1),b[d]._parent=void 0,b[d]._length=1;var i=d>0?b[d-1]:this;h<a-1?(i._parent=b[h+1],i._parent.uncycle(),i._length=i._parent._length+1):(i._parent=void 0,i._length=1);for(var j=i._length+1,k=d-2;k>=0;--k)b[k]._length=j,j++;return}}}},G.prototype.attachExtraTrace=function(a){if(!a.__stackCleaned__){this.uncycle();for(var b=y(a),c=b.message,d=[b.stack],e=this;void 0!==e;)d.push(w(e.stack.split("\n"))),e=e._parent;v(d),u(d),N.notEnumerableProp(a,"stack",t(c,d)),N.notEnumerableProp(a,"__stackCleaned__",!0)}};var fa=function(){var a=/^\s*at\s*/,b=function(a,b){return"string"==typeof a?a:void 0!==b.name&&void 0!==b.message?b.toString():B(b)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,S=a,T=b;var c=Error.captureStackTrace;return da=function(a){return P.test(a)},function(a,b){Error.stackTraceLimit+=6,c(a,b),Error.stackTraceLimit-=6}}var d=new Error;if("string"==typeof d.stack&&d.stack.split("\n")[0].indexOf("stackDetection@")>=0)return S=/@/,T=b,U=!0,function(a){a.stack=(new Error).stack};var e;try{throw new Error}catch(a){e="stack"in a}return"stack"in d||!e||"number"!=typeof Error.stackTraceLimit?(T=function(a,b){return"string"==typeof a?a:"object"!=typeof b&&"function"!=typeof b||void 0===b.name||void 0===b.message?B(b):b.toString()},null):(S=a,T=b,function(a){Error.stackTraceLimit+=6;try{throw new Error}catch(b){a.stack=b.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(J=function(a){console.warn(a)},N.isNode&&b.stderr.isTTY?J=function(a,b){var c=b?"[33m":"[31m";console.warn(c+a+"[0m\n")}:N.isNode||"string"!=typeof(new Error).stack||(J=function(a,b){console.warn("%c"+a,b?"color: darkorange":"color: red")}));var ga={warnings:W,longStackTraces:!1,cancellation:!1,monitoring:!1};return X&&c.longStackTraces(),{longStackTraces:function(){return ga.longStackTraces},warnings:function(){return ga.warnings},cancellation:function(){return ga.cancellation},monitoring:function(){return ga.monitoring},propagateFromFunction:function(){return ca},boundValueFunction:function(){return n},checkForgottenReturns:q,setBounds:F,warn:s,deprecated:r,CapturedTrace:G,fireDomEvent:$,fireGlobalEvent:_}}},{"./errors":12,"./util":36}],10:[function(a,b,c){"use strict";b.exports=function(a){function b(){return this.value}function c(){throw this.reason}a.prototype.return=a.prototype.thenReturn=function(c){return c instanceof a&&c.suppressUnhandledRejections(),this._then(b,void 0,void 0,{value:c},void 0)},a.prototype.throw=a.prototype.thenThrow=function(a){return this._then(c,void 0,void 0,{reason:a},void 0)},a.prototype.catchThrow=function(a){if(arguments.length<=1)return this._then(void 0,c,void 0,{reason:a},void 0);var b=arguments[1],d=function(){throw b};return this.caught(a,d)},a.prototype.catchReturn=function(c){if(arguments.length<=1)return c instanceof a&&c.suppressUnhandledRejections(),this._then(void 0,b,void 0,{value:c},void 0);var d=arguments[1];d instanceof a&&d.suppressUnhandledRejections();var e=function(){return d};return this.caught(c,e)}}},{}],11:[function(a,b,c){"use strict";b.exports=function(a,b){function c(){return f(this)}function d(a,c){return e(a,c,b,b)}var e=a.reduce,f=a.all;a.prototype.each=function(a){return e(this,a,b,0)._then(c,void 0,void 0,this,void 0)},a.prototype.mapSeries=function(a){return e(this,a,b,b)},a.each=function(a,d){return e(a,d,b,0)._then(c,void 0,void 0,a,void 0)},a.mapSeries=d}},{}],12:[function(a,b,c){"use strict";function d(a,b){function c(d){return this instanceof c?(l(this,"message","string"==typeof d?d:b),l(this,"name",a),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new c(d)}return k(c,Error),c}function e(a){return this instanceof e?(l(this,"name","OperationalError"),l(this,"message",a),this.cause=a,this.isOperational=!0,void(a instanceof Error?(l(this,"message",a.message),l(this,"stack",a.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new e(a)}var f,g,h=a("./es5"),i=h.freeze,j=a("./util"),k=j.inherits,l=j.notEnumerableProp,m=d("Warning","warning"),n=d("CancellationError","cancellation error"),o=d("TimeoutError","timeout error"),p=d("AggregateError","aggregate error");try{f=TypeError,g=RangeError}catch(a){f=d("TypeError","type error"),g=d("RangeError","range error")}for(var q="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),r=0;r<q.length;++r)"function"==typeof Array.prototype[q[r]]&&(p.prototype[q[r]]=Array.prototype[q[r]]);h.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var s=0;p.prototype.toString=function(){var a=Array(4*s+1).join(" "),b="\n"+a+"AggregateError of:\n";s++,a=Array(4*s+1).join(" ");for(var c=0;c<this.length;++c){for(var d=this[c]===this?"[Circular AggregateError]":this[c]+"",e=d.split("\n"),f=0;f<e.length;++f)e[f]=a+e[f];d=e.join("\n"),b+=d+"\n"}return s--,b},k(e,Error);var t=Error.__BluebirdErrorTypes__;t||(t=i({CancellationError:n,TimeoutError:o,OperationalError:e,RejectionError:e,AggregateError:p}),h.defineProperty(Error,"__BluebirdErrorTypes__",{value:t,writable:!1,enumerable:!1,configurable:!1})),b.exports={Error:Error,TypeError:f,RangeError:g,CancellationError:t.CancellationError,OperationalError:t.OperationalError,TimeoutError:t.TimeoutError,AggregateError:t.AggregateError,Warning:m}},{"./es5":13,"./util":36}],13:[function(a,b,c){var d=function(){"use strict";return void 0===this}();if(d)b.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:d,propertyIsWritable:function(a,b){var c=Object.getOwnPropertyDescriptor(a,b);return!(c&&!c.writable&&!c.set)}};else{var e={}.hasOwnProperty,f={}.toString,g={}.constructor.prototype,h=function(a){var b=[];for(var c in a)e.call(a,c)&&b.push(c);return b},i=function(a,b){return{value:a[b]}},j=function(a,b,c){return a[b]=c.value,a},k=function(a){return a},l=function(a){try{return Object(a).constructor.prototype}catch(a){return g}},m=function(a){try{return"[object Array]"===f.call(a)}catch(a){return!1}};b.exports={isArray:m,keys:h,names:h,defineProperty:j,getDescriptor:i,freeze:k,getPrototypeOf:l,isES5:d,propertyIsWritable:function(){return!0}}}},{}],14:[function(a,b,c){"use strict";b.exports=function(a,b){var c=a.map;a.prototype.filter=function(a,d){return c(this,a,d,b)},a.filter=function(a,d,e){return c(a,d,e,b)}}},{}],15:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a,b,c){this.promise=a,this.type=b,this.handler=c,this.called=!1,this.cancelPromise=null}function f(a){this.finallyHandler=a}function g(a,b){return null!=a.cancelPromise&&(arguments.length>1?a.cancelPromise._reject(b):a.cancelPromise._cancel(),a.cancelPromise=null,!0)}function h(){return j.call(this,this.promise._target()._settledValue())}function i(a){if(!g(this,a))return m.e=a,m}function j(a){var e=this.promise,j=this.handler;if(!this.called){this.called=!0;var k=this.isFinallyHandler()?j.call(e._boundValue()):j.call(e._boundValue(),a);if(k===d)return k;if(void 0!==k){e._setReturnedNonUndefined();var n=c(k,e);if(n instanceof b){if(null!=this.cancelPromise){if(n._isCancelled()){var o=new l("late cancellation observer");return e._attachExtraTrace(o),m.e=o,m}n.isPending()&&n._attachCancellationCallback(new f(this))}return n._then(h,i,void 0,this,void 0)}}}return e.isRejected()?(g(this),m.e=a,m):(g(this),a)}var k=a("./util"),l=b.CancellationError,m=k.errorObj,n=a("./catch_filter")(d);return e.prototype.isFinallyHandler=function(){return 0===this.type},f.prototype._resultCancelled=function(){g(this.finallyHandler)},b.prototype._passThrough=function(a,b,c,d){return"function"!=typeof a?this.then():this._then(c,d,void 0,new e(this,b,a),void 0)},b.prototype.lastly=b.prototype.finally=function(a){return this._passThrough(a,0,j,j)},b.prototype.tap=function(a){return this._passThrough(a,1,j)},b.prototype.tapCatch=function(a){var c=arguments.length;if(1===c)return this._passThrough(a,1,void 0,j);var d,e=new Array(c-1),f=0;for(d=0;d<c-1;++d){var g=arguments[d];if(!k.isObject(g))return b.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+k.classString(g)));e[f++]=g}e.length=f;var h=arguments[d];return this._passThrough(n(e,h,this),1,void 0,j)},e}},{"./catch_filter":7,"./util":36}],16:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){function h(a,c,d){for(var f=0;f<c.length;++f){d._pushContext();var g=n(c[f])(a);if(d._popContext(),g===m){d._pushContext();var h=b.reject(m.e);return d._popContext(),h}var i=e(g,d);if(i instanceof b)return i}return null}function i(a,c,e,f){if(g.cancellation()){var h=new b(d),i=this._finallyPromise=new b(d);this._promise=h.lastly(function(){return i}),h._captureStackTrace(),h._setOnCancel(this)}else{var j=this._promise=new b(d);j._captureStackTrace()}this._stack=f,this._generatorFunction=a,this._receiver=c,this._generator=void 0,this._yieldHandlers="function"==typeof e?[e].concat(o):o,this._yieldedPromise=null,this._cancellationPhase=!1}var j=a("./errors"),k=j.TypeError,l=a("./util"),m=l.errorObj,n=l.tryCatch,o=[];l.inherits(i,f),i.prototype._isResolved=function(){return null===this._promise},i.prototype._cleanup=function(){this._promise=this._generator=null,g.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},i.prototype._promiseCancelled=function(){if(!this._isResolved()){var a,c="undefined"!=typeof this._generator.return;if(c)this._promise._pushContext(),a=n(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var d=new b.CancellationError("generator .return() sentinel");b.coroutine.returnSentinel=d,this._promise._attachExtraTrace(d),this._promise._pushContext(),a=n(this._generator.throw).call(this._generator,d),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(a)}},i.prototype._promiseFulfilled=function(a){this._yieldedPromise=null,this._promise._pushContext();var b=n(this._generator.next).call(this._generator,a);this._promise._popContext(),this._continue(b)},i.prototype._promiseRejected=function(a){this._yieldedPromise=null,this._promise._attachExtraTrace(a),this._promise._pushContext();var b=n(this._generator.throw).call(this._generator,a);this._promise._popContext(),this._continue(b)},i.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof b){var a=this._yieldedPromise;this._yieldedPromise=null,a.cancel()}},i.prototype.promise=function(){return this._promise},i.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},i.prototype._continue=function(a){var c=this._promise;if(a===m)return this._cleanup(),this._cancellationPhase?c.cancel():c._rejectCallback(a.e,!1);var d=a.value;if(a.done===!0)return this._cleanup(),this._cancellationPhase?c.cancel():c._resolveCallback(d);var f=e(d,this._promise);if(!(f instanceof b)&&(f=h(f,this._yieldHandlers,this._promise),null===f))return void this._promiseRejected(new k("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(d))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));f=f._target();var g=f._bitField;0===(50397184&g)?(this._yieldedPromise=f,f._proxy(this,null)):0!==(33554432&g)?b._async.invoke(this._promiseFulfilled,this,f._value()):0!==(16777216&g)?b._async.invoke(this._promiseRejected,this,f._reason()):this._promiseCancelled()},b.coroutine=function(a,b){if("function"!=typeof a)throw new k("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var c=Object(b).yieldHandler,d=i,e=(new Error).stack;return function(){var b=a.apply(this,arguments),f=new d(void 0,void 0,c,e),g=f.promise();return f._generator=b,f._promiseFulfilled(void 0),g}},b.coroutine.addYieldHandler=function(a){if("function"!=typeof a)throw new k("expecting a function but got "+l.classString(a));o.push(a)},b.spawn=function(a){if(g.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof a)return c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var d=new i(a,this),e=d.promise();return d._run(b.spawn),e}}},{"./errors":12,"./util":36}],17:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){var h=a("./util");h.canEvaluate,h.tryCatch,h.errorObj;b.join=function(){var a,b=arguments.length-1;if(b>0&&"function"==typeof arguments[b]){a=arguments[b];var d}var e=[].slice.call(arguments);a&&e.pop();var d=new c(e).promise();return void 0!==a?d.spread(a):d}}},{"./util":36}],18:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){function h(a,b,c,d){this.constructor$(a),this._promise._captureStackTrace();var e=j();this._callback=null===e?b:k.domainBind(e,b),this._preservedValues=d===f?new Array(this.length()):null,this._limit=c,this._inFlight=0,this._queue=[],n.invoke(this._asyncInit,this,void 0)}function i(a,c,e,f){if("function"!=typeof c)return d("expecting a function but got "+k.classString(c));var g=0;if(void 0!==e){if("object"!=typeof e||null===e)return b.reject(new TypeError("options argument must be an object but it is "+k.classString(e)));if("number"!=typeof e.concurrency)return b.reject(new TypeError("'concurrency' must be a number but it is "+k.classString(e.concurrency)));g=e.concurrency}return g="number"==typeof g&&isFinite(g)&&g>=1?g:0,new h(a,c,g,f).promise()}var j=b._getDomain,k=a("./util"),l=k.tryCatch,m=k.errorObj,n=b._async;k.inherits(h,c),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(a,c){var d=this._values,f=this.length(),h=this._preservedValues,i=this._limit;if(c<0){if(c=c*-1-1,d[c]=a,i>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(i>=1&&this._inFlight>=i)return d[c]=a,this._queue.push(c),!1;null!==h&&(h[c]=a);var j=this._promise,k=this._callback,n=j._boundValue();j._pushContext();var o=l(k).call(n,a,c,f),p=j._popContext();if(g.checkForgottenReturns(o,p,null!==h?"Promise.filter":"Promise.map",j),o===m)return this._reject(o.e),!0;var q=e(o,this._promise);if(q instanceof b){q=q._target();var r=q._bitField;if(0===(50397184&r))return i>=1&&this._inFlight++,d[c]=q,q._proxy(this,(c+1)*-1),!1;if(0===(33554432&r))return 0!==(16777216&r)?(this._reject(q._reason()),!0):(this._cancel(),!0);o=q._value()}d[c]=o}var s=++this._totalResolved;return s>=f&&(null!==h?this._filter(d,h):this._resolve(d),!0)},h.prototype._drainQueue=function(){for(var a=this._queue,b=this._limit,c=this._values;a.length>0&&this._inFlight<b;){if(this._isResolved())return;var d=a.pop();this._promiseFulfilled(c[d],d)}},h.prototype._filter=function(a,b){for(var c=b.length,d=new Array(c),e=0,f=0;f<c;++f)a[f]&&(d[e++]=b[f]);d.length=e,this._resolve(d)},h.prototype.preservedValues=function(){return this._preservedValues},b.prototype.map=function(a,b){return i(this,a,b,null)},b.map=function(a,b,c,d){return i(a,b,c,d)}}},{"./util":36}],19:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f){var g=a("./util"),h=g.tryCatch;b.method=function(a){if("function"!=typeof a)throw new b.TypeError("expecting a function but got "+g.classString(a));return function(){var d=new b(c);d._captureStackTrace(),d._pushContext();var e=h(a).apply(this,arguments),g=d._popContext();return f.checkForgottenReturns(e,g,"Promise.method",d),d._resolveFromSyncValue(e),d}},b.attempt=b.try=function(a){if("function"!=typeof a)return e("expecting a function but got "+g.classString(a));var d=new b(c);d._captureStackTrace(),d._pushContext();var i;if(arguments.length>1){f.deprecated("calling Promise.try with more than 1 argument");var j=arguments[1],k=arguments[2];i=g.isArray(j)?h(a).apply(k,j):h(a).call(k,j)}else i=h(a)();var l=d._popContext();return f.checkForgottenReturns(i,l,"Promise.try",d),d._resolveFromSyncValue(i),d},b.prototype._resolveFromSyncValue=function(a){a===g.errorObj?this._rejectCallback(a.e,!1):this._resolveCallback(a,!0)}}},{"./util":36}],20:[function(a,b,c){"use strict";function d(a){return a instanceof Error&&k.getPrototypeOf(a)===Error.prototype}function e(a){var b;if(d(a)){b=new j(a),b.name=a.name,b.message=a.message,b.stack=a.stack;for(var c=k.keys(a),e=0;e<c.length;++e){var f=c[e];l.test(f)||(b[f]=a[f])}return b}return g.markAsOriginatingFromRejection(a),a}function f(a,b){return function(c,d){if(null!==a){if(c){var f=e(h(c));a._attachExtraTrace(f),a._reject(f)}else if(b){var g=[].slice.call(arguments,1);a._fulfill(g)}else a._fulfill(d);a=null}}}var g=a("./util"),h=g.maybeWrapAsError,i=a("./errors"),j=i.OperationalError,k=a("./es5"),l=/^(?:name|message|stack|cause)$/;b.exports=f},{"./errors":12,"./es5":13,"./util":36}],21:[function(a,b,c){"use strict";b.exports=function(b){function c(a,b){var c=this;if(!f.isArray(a))return d.call(c,a,b);var e=h(b).apply(c._boundValue(),[null].concat(a));e===i&&g.throwLater(e.e)}function d(a,b){var c=this,d=c._boundValue(),e=void 0===a?h(b).call(d,null):h(b).call(d,null,a);e===i&&g.throwLater(e.e)}function e(a,b){var c=this;if(!a){var d=new Error(a+"");d.cause=a,a=d}var e=h(b).call(c._boundValue(),a);e===i&&g.throwLater(e.e)}var f=a("./util"),g=b._async,h=f.tryCatch,i=f.errorObj;b.prototype.asCallback=b.prototype.nodeify=function(a,b){if("function"==typeof a){var f=d;void 0!==b&&Object(b).spread&&(f=c),this._then(f,e,void 0,this,a)}return this}}},{"./util":36}],22:[function(a,c,d){"use strict";c.exports=function(){function d(){}function e(a,b){if(null==a||a.constructor!==f)throw new t("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof b)throw new t("expecting a function but got "+o.classString(b))}function f(a){a!==v&&e(this,a),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(a),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function g(a){this.promise._resolveCallback(a)}function h(a){this.promise._rejectCallback(a,!1)}function i(a){var b=new f(v);b._fulfillmentHandler0=a,b._rejectionHandler0=a,b._promise0=a,b._receiver0=a}var j,k=function(){return new t("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},l=function(){return new f.PromiseInspection(this._target())},m=function(a){return f.reject(new t(a))},n={},o=a("./util");j=o.isNode?function(){var a=b.domain;return void 0===a&&(a=null),a}:function(){return null},o.notEnumerableProp(f,"_getDomain",j);var p=a("./es5"),q=a("./async"),r=new q;p.defineProperty(f,"_async",{value:r});var s=a("./errors"),t=f.TypeError=s.TypeError;f.RangeError=s.RangeError;var u=f.CancellationError=s.CancellationError;f.TimeoutError=s.TimeoutError,f.OperationalError=s.OperationalError,f.RejectionError=s.OperationalError,f.AggregateError=s.AggregateError;var v=function(){},w={},x={},y=a("./thenables")(f,v),z=a("./promise_array")(f,v,y,m,d),A=a("./context")(f),B=A.create,C=a("./debuggability")(f,A),D=(C.CapturedTrace,a("./finally")(f,y,x)),E=a("./catch_filter")(x),F=a("./nodeback"),G=o.errorObj,H=o.tryCatch;return f.prototype.toString=function(){return"[object Promise]"},f.prototype.caught=f.prototype.catch=function(a){var b=arguments.length;if(b>1){var c,d=new Array(b-1),e=0;for(c=0;c<b-1;++c){var f=arguments[c];if(!o.isObject(f))return m("Catch statement predicate: expecting an object but got "+o.classString(f));d[e++]=f}return d.length=e,a=arguments[c],this.then(void 0,E(d,a,this))}return this.then(void 0,a)},f.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)},f.prototype.then=function(a,b){if(C.warnings()&&arguments.length>0&&"function"!=typeof a&&"function"!=typeof b){var c=".then() only accepts functions but was passed: "+o.classString(a);arguments.length>1&&(c+=", "+o.classString(b)),this._warn(c)}return this._then(a,b,void 0,void 0,void 0)},f.prototype.done=function(a,b){var c=this._then(a,b,void 0,void 0,void 0);c._setIsFinal()},f.prototype.spread=function(a){return"function"!=typeof a?m("expecting a function but got "+o.classString(a)):this.all()._then(a,void 0,void 0,w,void 0)},f.prototype.toJSON=function(){var a={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(a.fulfillmentValue=this.value(),a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this.reason(),a.isRejected=!0),a},f.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new z(this).promise()},f.prototype.error=function(a){return this.caught(o.originatesFromRejection,a)},f.getNewLibraryCopy=c.exports,f.is=function(a){return a instanceof f},f.fromNode=f.fromCallback=function(a){var b=new f(v);b._captureStackTrace();var c=arguments.length>1&&!!Object(arguments[1]).multiArgs,d=H(a)(F(b,c));return d===G&&b._rejectCallback(d.e,!0),b._isFateSealed()||b._setAsyncGuaranteed(),b},f.all=function(a){return new z(a).promise()},f.cast=function(a){var b=y(a);return b instanceof f||(b=new f(v),b._captureStackTrace(),b._setFulfilled(),b._rejectionHandler0=a),b},f.resolve=f.fulfilled=f.cast,f.reject=f.rejected=function(a){var b=new f(v);return b._captureStackTrace(),b._rejectCallback(a,!0),b},f.setScheduler=function(a){if("function"!=typeof a)throw new t("expecting a function but got "+o.classString(a));return r.setScheduler(a)},f.prototype._then=function(a,b,c,d,e){var g=void 0!==e,h=g?e:new f(v),i=this._target(),k=i._bitField;g||(h._propagateFrom(this,3),h._captureStackTrace(),void 0===d&&0!==(2097152&this._bitField)&&(d=0!==(50397184&k)?this._boundValue():i===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,h));var l=j();if(0!==(50397184&k)){var m,n,p=i._settlePromiseCtx;0!==(33554432&k)?(n=i._rejectionHandler0,m=a):0!==(16777216&k)?(n=i._fulfillmentHandler0,m=b,i._unsetRejectionIsUnhandled()):(p=i._settlePromiseLateCancellationObserver,n=new u("late cancellation observer"),i._attachExtraTrace(n),m=b),r.invoke(p,i,{handler:null===l?m:"function"==typeof m&&o.domainBind(l,m),promise:h,receiver:d,value:n})}else i._addCallbacks(a,b,h,d,l);return h},f.prototype._length=function(){return 65535&this._bitField},f.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},f.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},f.prototype._setLength=function(a){this._bitField=this._bitField&-65536|65535&a},f.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},f.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},f.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},f.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},f.prototype._isFinal=function(){return(4194304&this._bitField)>0},f.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},f.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},f.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},f.prototype._setAsyncGuaranteed=function(){r.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},f.prototype._receiverAt=function(a){var b=0===a?this._receiver0:this[4*a-4+3];if(b!==n)return void 0===b&&this._isBound()?this._boundValue():b},f.prototype._promiseAt=function(a){return this[4*a-4+2]},f.prototype._fulfillmentHandlerAt=function(a){return this[4*a-4+0]},f.prototype._rejectionHandlerAt=function(a){return this[4*a-4+1]},f.prototype._boundValue=function(){},f.prototype._migrateCallback0=function(a){var b=(a._bitField,a._fulfillmentHandler0),c=a._rejectionHandler0,d=a._promise0,e=a._receiverAt(0);void 0===e&&(e=n),this._addCallbacks(b,c,d,e,null)},f.prototype._migrateCallbackAt=function(a,b){var c=a._fulfillmentHandlerAt(b),d=a._rejectionHandlerAt(b),e=a._promiseAt(b),f=a._receiverAt(b);void 0===f&&(f=n),this._addCallbacks(c,d,e,f,null)},f.prototype._addCallbacks=function(a,b,c,d,e){var f=this._length();if(f>=65531&&(f=0,this._setLength(0)),0===f)this._promise0=c,this._receiver0=d,"function"==typeof a&&(this._fulfillmentHandler0=null===e?a:o.domainBind(e,a)),"function"==typeof b&&(this._rejectionHandler0=null===e?b:o.domainBind(e,b));else{var g=4*f-4;this[g+2]=c,this[g+3]=d,"function"==typeof a&&(this[g+0]=null===e?a:o.domainBind(e,a)),"function"==typeof b&&(this[g+1]=null===e?b:o.domainBind(e,b))}return this._setLength(f+1),f},f.prototype._proxy=function(a,b){this._addCallbacks(void 0,void 0,b,a,null)},f.prototype._resolveCallback=function(a,b){if(0===(117506048&this._bitField)){if(a===this)return this._rejectCallback(k(),!1);var c=y(a,this);if(!(c instanceof f))return this._fulfill(a);b&&this._propagateFrom(c,2);var d=c._target();if(d===this)return void this._reject(k());var e=d._bitField;if(0===(50397184&e)){var g=this._length();g>0&&d._migrateCallback0(this);for(var h=1;h<g;++h)d._migrateCallbackAt(this,h);this._setFollowing(),this._setLength(0),this._setFollowee(d)}else if(0!==(33554432&e))this._fulfill(d._value());else if(0!==(16777216&e))this._reject(d._reason());else{var i=new u("late cancellation observer");d._attachExtraTrace(i),this._reject(i)}}},f.prototype._rejectCallback=function(a,b,c){var d=o.ensureErrorObject(a),e=d===a;if(!e&&!c&&C.warnings()){var f="a promise was rejected with a non-error: "+o.classString(a);this._warn(f,!0)}this._attachExtraTrace(d,!!b&&e),this._reject(a)},f.prototype._resolveFromExecutor=function(a){if(a!==v){var b=this;this._captureStackTrace(),this._pushContext();var c=!0,d=this._execute(a,function(a){b._resolveCallback(a)},function(a){b._rejectCallback(a,c)});c=!1,this._popContext(),void 0!==d&&b._rejectCallback(d,!0)}},f.prototype._settlePromiseFromHandler=function(a,b,c,d){var e=d._bitField;if(0===(65536&e)){d._pushContext();var f;b===w?c&&"number"==typeof c.length?f=H(a).apply(this._boundValue(),c):(f=G,f.e=new t("cannot .spread() a non-array: "+o.classString(c))):f=H(a).call(b,c);var g=d._popContext();e=d._bitField,0===(65536&e)&&(f===x?d._reject(c):f===G?d._rejectCallback(f.e,!1):(C.checkForgottenReturns(f,g,"",d,this),d._resolveCallback(f)))}},f.prototype._target=function(){for(var a=this;a._isFollowing();)a=a._followee();return a},f.prototype._followee=function(){return this._rejectionHandler0},f.prototype._setFollowee=function(a){
this._rejectionHandler0=a},f.prototype._settlePromise=function(a,b,c,e){var g=a instanceof f,h=this._bitField,i=0!==(134217728&h);0!==(65536&h)?(g&&a._invokeInternalOnCancel(),c instanceof D&&c.isFinallyHandler()?(c.cancelPromise=a,H(b).call(c,e)===G&&a._reject(G.e)):b===l?a._fulfill(l.call(c)):c instanceof d?c._promiseCancelled(a):g||a instanceof z?a._cancel():c.cancel()):"function"==typeof b?g?(i&&a._setAsyncGuaranteed(),this._settlePromiseFromHandler(b,c,e,a)):b.call(c,e,a):c instanceof d?c._isResolved()||(0!==(33554432&h)?c._promiseFulfilled(e,a):c._promiseRejected(e,a)):g&&(i&&a._setAsyncGuaranteed(),0!==(33554432&h)?a._fulfill(e):a._reject(e))},f.prototype._settlePromiseLateCancellationObserver=function(a){var b=a.handler,c=a.promise,d=a.receiver,e=a.value;"function"==typeof b?c instanceof f?this._settlePromiseFromHandler(b,d,e,c):b.call(d,e,c):c instanceof f&&c._reject(e)},f.prototype._settlePromiseCtx=function(a){this._settlePromise(a.promise,a.handler,a.receiver,a.value)},f.prototype._settlePromise0=function(a,b,c){var d=this._promise0,e=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(d,a,e,b)},f.prototype._clearCallbackDataAtIndex=function(a){var b=4*a-4;this[b+2]=this[b+3]=this[b+0]=this[b+1]=void 0},f.prototype._fulfill=function(a){var b=this._bitField;if(!((117506048&b)>>>16)){if(a===this){var c=k();return this._attachExtraTrace(c),this._reject(c)}this._setFulfilled(),this._rejectionHandler0=a,(65535&b)>0&&(0!==(134217728&b)?this._settlePromises():r.settlePromises(this))}},f.prototype._reject=function(a){var b=this._bitField;if(!((117506048&b)>>>16))return this._setRejected(),this._fulfillmentHandler0=a,this._isFinal()?r.fatalError(a,o.isNode):void((65535&b)>0?r.settlePromises(this):this._ensurePossibleRejectionHandled())},f.prototype._fulfillPromises=function(a,b){for(var c=1;c<a;c++){var d=this._fulfillmentHandlerAt(c),e=this._promiseAt(c),f=this._receiverAt(c);this._clearCallbackDataAtIndex(c),this._settlePromise(e,d,f,b)}},f.prototype._rejectPromises=function(a,b){for(var c=1;c<a;c++){var d=this._rejectionHandlerAt(c),e=this._promiseAt(c),f=this._receiverAt(c);this._clearCallbackDataAtIndex(c),this._settlePromise(e,d,f,b)}},f.prototype._settlePromises=function(){var a=this._bitField,b=65535&a;if(b>0){if(0!==(16842752&a)){var c=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,c,a),this._rejectPromises(b,c)}else{var d=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,d,a),this._fulfillPromises(b,d)}this._setLength(0)}this._clearCancellationData()},f.prototype._settledValue=function(){var a=this._bitField;return 0!==(33554432&a)?this._rejectionHandler0:0!==(16777216&a)?this._fulfillmentHandler0:void 0},f.defer=f.pending=function(){C.deprecated("Promise.defer","new Promise");var a=new f(v);return{promise:a,resolve:g,reject:h}},o.notEnumerableProp(f,"_makeSelfResolutionError",k),a("./method")(f,v,y,m,C),a("./bind")(f,v,y,C),a("./cancel")(f,z,m,C),a("./direct_resolve")(f),a("./synchronous_inspection")(f),a("./join")(f,z,y,v,r,j),f.Promise=f,f.version="3.5.1",a("./map.js")(f,z,m,y,v,C),a("./call_get.js")(f),a("./using.js")(f,m,y,B,v,C),a("./timers.js")(f,v,C),a("./generators.js")(f,m,v,y,d,C),a("./nodeify.js")(f),a("./promisify.js")(f,v),a("./props.js")(f,z,y,m),a("./race.js")(f,v,y,m),a("./reduce.js")(f,z,m,y,v,C),a("./settle.js")(f,z,C),a("./some.js")(f,z,m),a("./filter.js")(f,v),a("./each.js")(f,v),a("./any.js")(f),o.toFastProperties(f),o.toFastProperties(f.prototype),i({a:1}),i({b:2}),i({c:3}),i(1),i(function(){}),i(void 0),i(!1),i(new f(v)),C.setBounds(q.firstLineError,o.lastLineError),f}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f){function g(a){switch(a){case-2:return[];case-3:return{};case-6:return new Map}}function h(a){var d=this._promise=new b(c);a instanceof b&&d._propagateFrom(a,3),d._setOnCancel(this),this._values=a,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var i=a("./util");i.isArray;return i.inherits(h,f),h.prototype.length=function(){return this._length},h.prototype.promise=function(){return this._promise},h.prototype._init=function a(c,f){var h=d(this._values,this._promise);if(h instanceof b){h=h._target();var j=h._bitField;if(this._values=h,0===(50397184&j))return this._promise._setAsyncGuaranteed(),h._then(a,this._reject,void 0,this,f);if(0===(33554432&j))return 0!==(16777216&j)?this._reject(h._reason()):this._cancel();h=h._value()}if(h=i.asArray(h),null===h){var k=e("expecting an array or an iterable object but got "+i.classString(h)).reason();return void this._promise._rejectCallback(k,!1)}return 0===h.length?void(f===-5?this._resolveEmptyArray():this._resolve(g(f))):void this._iterate(h)},h.prototype._iterate=function(a){var c=this.getActualLength(a.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var e=this._promise,f=!1,g=null,h=0;h<c;++h){var i=d(a[h],e);i instanceof b?(i=i._target(),g=i._bitField):g=null,f?null!==g&&i.suppressUnhandledRejections():null!==g?0===(50397184&g)?(i._proxy(this,h),this._values[h]=i):f=0!==(33554432&g)?this._promiseFulfilled(i._value(),h):0!==(16777216&g)?this._promiseRejected(i._reason(),h):this._promiseCancelled(h):f=this._promiseFulfilled(i,h)}f||e._setAsyncGuaranteed()},h.prototype._isResolved=function(){return null===this._values},h.prototype._resolve=function(a){this._values=null,this._promise._fulfill(a)},h.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},h.prototype._reject=function(a){this._values=null,this._promise._rejectCallback(a,!1)},h.prototype._promiseFulfilled=function(a,b){this._values[b]=a;var c=++this._totalResolved;return c>=this._length&&(this._resolve(this._values),!0)},h.prototype._promiseCancelled=function(){return this._cancel(),!0},h.prototype._promiseRejected=function(a){return this._totalResolved++,this._reject(a),!0},h.prototype._resultCancelled=function(){if(!this._isResolved()){var a=this._values;if(this._cancel(),a instanceof b)a.cancel();else for(var c=0;c<a.length;++c)a[c]instanceof b&&a[c].cancel()}},h.prototype.shouldCopyValues=function(){return!0},h.prototype.getActualLength=function(a){return a},h}},{"./util":36}],24:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a){return!w.test(a)}function e(a){try{return a.__isPromisified__===!0}catch(a){return!1}}function f(a,b,c){var d=n.getDataPropertyOrDefault(a,b+c,u);return!!d&&e(d)}function g(a,b,c){for(var d=0;d<a.length;d+=2){var e=a[d];if(c.test(e))for(var f=e.replace(c,""),g=0;g<a.length;g+=2)if(a[g]===f)throw new s("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",b))}}function h(a,b,c,d){for(var h=n.inheritedDataKeys(a),i=[],j=0;j<h.length;++j){var k=h[j],l=a[k],m=d===x||x(k,l,a);"function"!=typeof l||e(l)||f(a,k,b)||!d(k,l,a,m)||i.push(k,l)}return g(i,b,c),i}function i(a,d,e,f,g,h){function i(){var e=d;d===m&&(e=this);var f=new b(c);f._captureStackTrace();var g="string"==typeof k&&this!==j?this[k]:a,i=o(f,h);try{g.apply(e,p(arguments,i))}catch(a){f._rejectCallback(q(a),!0,!0)}return f._isFateSealed()||f._setAsyncGuaranteed(),f}var j=function(){return this}(),k=a;return"string"==typeof k&&(a=f),n.notEnumerableProp(i,"__isPromisified__",!0),i}function j(a,b,c,d,e){for(var f=new RegExp(y(b)+"$"),g=h(a,b,f,c),i=0,j=g.length;i<j;i+=2){var k=g[i],l=g[i+1],o=k+b;if(d===z)a[o]=z(k,m,k,l,b,e);else{var p=d(l,function(){return z(k,m,k,l,b,e)});n.notEnumerableProp(p,"__isPromisified__",!0),a[o]=p}}return n.toFastProperties(a),a}function k(a,b,c){return z(a,b,void 0,a,null,c)}var l,m={},n=a("./util"),o=a("./nodeback"),p=n.withAppended,q=n.maybeWrapAsError,r=n.canEvaluate,s=a("./errors").TypeError,t="Async",u={__isPromisified__:!0},v=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],w=new RegExp("^(?:"+v.join("|")+")$"),x=function(a){return n.isIdentifier(a)&&"_"!==a.charAt(0)&&"constructor"!==a},y=function(a){return a.replace(/([$])/,"\\$")},z=r?l:i;b.promisify=function(a,b){if("function"!=typeof a)throw new s("expecting a function but got "+n.classString(a));if(e(a))return a;b=Object(b);var c=void 0===b.context?m:b.context,f=!!b.multiArgs,g=k(a,c,f);return n.copyDescriptors(a,g,d),g},b.promisifyAll=function(a,b){if("function"!=typeof a&&"object"!=typeof a)throw new s("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");b=Object(b);var c=!!b.multiArgs,d=b.suffix;"string"!=typeof d&&(d=t);var e=b.filter;"function"!=typeof e&&(e=x);var f=b.promisifier;if("function"!=typeof f&&(f=z),!n.isIdentifier(d))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var g=n.inheritedDataKeys(a),h=0;h<g.length;++h){var i=a[g[h]];"constructor"!==g[h]&&n.isClass(i)&&(j(i.prototype,d,e,f,c),j(i,d,e,f,c))}return j(a,d,e,f,c)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a){var b,c=!1;if(void 0!==h&&a instanceof h)b=l(a),c=!0;else{var d=k.keys(a),e=d.length;b=new Array(2*e);for(var f=0;f<e;++f){var g=d[f];b[f]=a[g],b[f+e]=g}}this.constructor$(b),this._isMap=c,this._init$(void 0,c?-6:-3)}function g(a){var c,g=d(a);return j(g)?(c=g instanceof b?g._then(b.props,void 0,void 0,void 0,void 0):new f(g).promise(),g instanceof b&&c._propagateFrom(g,2),c):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var h,i=a("./util"),j=i.isObject,k=a("./es5");"function"==typeof Map&&(h=Map);var l=function(){function a(a,d){this[b]=a,this[b+c]=d,b++}var b=0,c=0;return function(d){c=d.size,b=0;var e=new Array(2*d.size);return d.forEach(a,e),e}}(),m=function(a){for(var b=new h,c=a.length/2|0,d=0;d<c;++d){var e=a[c+d],f=a[d];b.set(e,f)}return b};i.inherits(f,c),f.prototype._init=function(){},f.prototype._promiseFulfilled=function(a,b){this._values[b]=a;var c=++this._totalResolved;if(c>=this._length){var d;if(this._isMap)d=m(this._values);else{d={};for(var e=this.length(),f=0,g=this.length();f<g;++f)d[this._values[f+e]]=this._values[f]}return this._resolve(d),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(a){return a>>1},b.prototype.props=function(){return g(this)},b.props=function(a){return g(a)}}},{"./es5":13,"./util":36}],26:[function(a,b,c){"use strict";function d(a,b,c,d,e){for(var f=0;f<e;++f)c[f+d]=a[f+b],a[f+b]=void 0}function e(a){this._capacity=a,this._length=0,this._front=0}e.prototype._willBeOverCapacity=function(a){return this._capacity<a},e.prototype._pushOne=function(a){var b=this.length();this._checkCapacity(b+1);var c=this._front+b&this._capacity-1;this[c]=a,this._length=b+1},e.prototype.push=function(a,b,c){var d=this.length()+3;if(this._willBeOverCapacity(d))return this._pushOne(a),this._pushOne(b),void this._pushOne(c);var e=this._front+d-3;this._checkCapacity(d);var f=this._capacity-1;this[e+0&f]=a,this[e+1&f]=b,this[e+2&f]=c,this._length=d},e.prototype.shift=function(){var a=this._front,b=this[a];return this[a]=void 0,this._front=a+1&this._capacity-1,this._length--,b},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(a){var b=this._capacity;this._capacity=a;var c=this._front,e=this._length,f=c+e&b-1;d(this,0,this,b,f)},b.exports=e},{}],27:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a,f){var i=d(a);if(i instanceof b)return h(i);if(a=g.asArray(a),null===a)return e("expecting an array or an iterable object but got "+g.classString(a));var j=new b(c);void 0!==f&&j._propagateFrom(f,3);for(var k=j._fulfill,l=j._reject,m=0,n=a.length;m<n;++m){var o=a[m];(void 0!==o||m in a)&&b.cast(o)._then(k,l,void 0,j,null)}return j}var g=a("./util"),h=function(a){return a.then(function(b){return f(b,a)})};b.race=function(a){return f(a,void 0)},b.prototype.race=function(){return f(this,void 0)}}},{"./util":36}],28:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){function h(a,c,d,e){this.constructor$(a);var g=m();this._fn=null===g?c:n.domainBind(g,c),void 0!==d&&(d=b.resolve(d),d._attachCancellationCallback(this)),this._initialValue=d,this._currentCancellable=null,e===f?this._eachValues=Array(this._length):0===e?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function i(a,b){this.isFulfilled()?b._resolve(a):b._reject(a)}function j(a,b,c,e){if("function"!=typeof b)return d("expecting a function but got "+n.classString(b));var f=new h(a,b,c,e);return f.promise()}function k(a){this.accum=a,this.array._gotAccum(a);var c=e(this.value,this.array._promise);return c instanceof b?(this.array._currentCancellable=c,c._then(l,void 0,void 0,this,void 0)):l.call(this,c)}function l(a){var c=this.array,d=c._promise,e=o(c._fn);d._pushContext();var f;f=void 0!==c._eachValues?e.call(d._boundValue(),a,this.index,this.length):e.call(d._boundValue(),this.accum,a,this.index,this.length),f instanceof b&&(c._currentCancellable=f);var h=d._popContext();return g.checkForgottenReturns(f,h,void 0!==c._eachValues?"Promise.each":"Promise.reduce",d),f}var m=b._getDomain,n=a("./util"),o=n.tryCatch;n.inherits(h,c),h.prototype._gotAccum=function(a){void 0!==this._eachValues&&null!==this._eachValues&&a!==f&&this._eachValues.push(a)},h.prototype._eachComplete=function(a){return null!==this._eachValues&&this._eachValues.push(a),this._eachValues},h.prototype._init=function(){},h.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},h.prototype.shouldCopyValues=function(){return!1},h.prototype._resolve=function(a){this._promise._resolveCallback(a),this._values=null},h.prototype._resultCancelled=function(a){return a===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof b&&this._currentCancellable.cancel(),this._initialValue instanceof b&&this._initialValue.cancel()))},h.prototype._iterate=function(a){this._values=a;var c,d,e=a.length;if(void 0!==this._initialValue?(c=this._initialValue,d=0):(c=b.resolve(a[0]),d=1),this._currentCancellable=c,!c.isRejected())for(;d<e;++d){var f={accum:null,value:a[d],index:d,length:e,array:this};c=c._then(k,void 0,void 0,f,void 0)}void 0!==this._eachValues&&(c=c._then(this._eachComplete,void 0,void 0,this,void 0)),c._then(i,i,void 0,c,this)},b.prototype.reduce=function(a,b){return j(this,a,b,null)},b.reduce=function(a,b,c,d){return j(a,b,c,d)}}},{"./util":36}],29:[function(a,e,f){"use strict";var g,h=a("./util"),i=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},j=h.getNativePromise();if(h.isNode&&"undefined"==typeof MutationObserver){var k=c.setImmediate,l=b.nextTick;g=h.isRecentNode?function(a){k.call(c,a)}:function(a){l.call(b,a)}}else if("function"==typeof j&&"function"==typeof j.resolve){var m=j.resolve();g=function(a){m.then(a)}}else g="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof d?function(a){d(a)}:"undefined"!=typeof setTimeout?function(a){setTimeout(a,0)}:i:function(){var a=document.createElement("div"),b={attributes:!0},c=!1,d=document.createElement("div"),e=new MutationObserver(function(){a.classList.toggle("foo"),c=!1});e.observe(d,b);var f=function(){c||(c=!0,d.classList.toggle("foo"))};return function(c){var d=new MutationObserver(function(){d.disconnect(),c()});d.observe(a,b),f()}}();e.exports=g},{"./util":36}],30:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a){this.constructor$(a)}var f=b.PromiseInspection,g=a("./util");g.inherits(e,c),e.prototype._promiseResolved=function(a,b){this._values[a]=b;var c=++this._totalResolved;return c>=this._length&&(this._resolve(this._values),!0)},e.prototype._promiseFulfilled=function(a,b){var c=new f;return c._bitField=33554432,c._settledValueField=a,this._promiseResolved(b,c)},e.prototype._promiseRejected=function(a,b){var c=new f;return c._bitField=16777216,c._settledValueField=a,this._promiseResolved(b,c)},b.settle=function(a){return d.deprecated(".settle()",".reflect()"),new e(a).promise()},b.prototype.settle=function(){return b.settle(this)}}},{"./util":36}],31:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a){this.constructor$(a),this._howMany=0,this._unwrap=!1,this._initialized=!1}function f(a,b){if((0|b)!==b||b<0)return d("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var c=new e(a),f=c.promise();return c.setHowMany(b),c.init(),f}var g=a("./util"),h=a("./errors").RangeError,i=a("./errors").AggregateError,j=g.isArray,k={};g.inherits(e,c),e.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var a=j(this._values);!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},e.prototype.init=function(){this._initialized=!0,this._init()},e.prototype.setUnwrap=function(){this._unwrap=!0},e.prototype.howMany=function(){return this._howMany},e.prototype.setHowMany=function(a){this._howMany=a},e.prototype._promiseFulfilled=function(a){return this._addFulfilled(a),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},e.prototype._promiseRejected=function(a){return this._addRejected(a),this._checkOutcome()},e.prototype._promiseCancelled=function(){return this._values instanceof b||null==this._values?this._cancel():(this._addRejected(k),this._checkOutcome())},e.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var a=new i,b=this.length();b<this._values.length;++b)this._values[b]!==k&&a.push(this._values[b]);return a.length>0?this._reject(a):this._cancel(),!0}return!1},e.prototype._fulfilled=function(){return this._totalResolved},e.prototype._rejected=function(){return this._values.length-this.length()},e.prototype._addRejected=function(a){this._values.push(a)},e.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a},e.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},e.prototype._getRangeError=function(a){var b="Input array must contain at least "+this._howMany+" items but contains only "+a+" items";return new h(b)},e.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},b.some=function(a,b){return f(a,b)},b.prototype.some=function(a){return f(this,a)},b._SomePromiseArray=e}},{"./errors":12,"./util":36}],32:[function(a,b,c){"use strict";b.exports=function(a){function b(a){void 0!==a?(a=a._target(),this._bitField=a._bitField,this._settledValueField=a._isFateSealed()?a._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}b.prototype._settledValue=function(){return this._settledValueField};var c=b.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},d=b.prototype.error=b.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},e=b.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},f=b.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},g=b.prototype.isPending=function(){return 0===(50397184&this._bitField)},h=b.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};b.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},a.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},a.prototype._isCancelled=function(){return this._target().__isCancelled()},a.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},a.prototype.isPending=function(){return g.call(this._target())},a.prototype.isRejected=function(){return f.call(this._target())},a.prototype.isFulfilled=function(){return e.call(this._target())},a.prototype.isResolved=function(){return h.call(this._target())},a.prototype.value=function(){return c.call(this._target())},a.prototype.reason=function(){var a=this._target();return a._unsetRejectionIsUnhandled(),d.call(a)},a.prototype._value=function(){return this._settledValue()},a.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},a.PromiseInspection=b}},{}],33:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a,d){if(k(a)){if(a instanceof b)return a;var e=f(a);if(e===j){d&&d._pushContext();var i=b.reject(e.e);return d&&d._popContext(),i}if("function"==typeof e){if(g(a)){var i=new b(c);return a._then(i._fulfill,i._reject,void 0,i,null),i}return h(a,e,d)}}return a}function e(a){return a.then}function f(a){try{return e(a)}catch(a){return j.e=a,j}}function g(a){try{return l.call(a,"_promise0")}catch(a){return!1}}function h(a,d,e){function f(a){h&&(h._resolveCallback(a),h=null)}function g(a){h&&(h._rejectCallback(a,l,!0),h=null)}var h=new b(c),k=h;e&&e._pushContext(),h._captureStackTrace(),e&&e._popContext();var l=!0,m=i.tryCatch(d).call(a,f,g);return l=!1,h&&m===j&&(h._rejectCallback(m.e,!0,!0),h=null),k}var i=a("./util"),j=i.errorObj,k=i.isObject,l={}.hasOwnProperty;return d}},{"./util":36}],34:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a){this.handle=a}function f(a){return clearTimeout(this.handle),a}function g(a){throw clearTimeout(this.handle),a}var h=a("./util"),i=b.TimeoutError;e.prototype._resultCancelled=function(){clearTimeout(this.handle)};var j=function(a){return k(+this).thenReturn(a)},k=b.delay=function(a,f){var g,h;return void 0!==f?(g=b.resolve(f)._then(j,null,null,a,void 0),d.cancellation()&&f instanceof b&&g._setOnCancel(f)):(g=new b(c),h=setTimeout(function(){g._fulfill()},+a),d.cancellation()&&g._setOnCancel(new e(h)),g._captureStackTrace()),g._setAsyncGuaranteed(),g};b.prototype.delay=function(a){return k(a,this)};var l=function(a,b,c){var d;d="string"!=typeof b?b instanceof Error?b:new i("operation timed out"):new i(b),h.markAsOriginatingFromRejection(d),a._attachExtraTrace(d),a._reject(d),null!=c&&c.cancel()};b.prototype.timeout=function(a,b){a=+a;var c,h,i=new e(setTimeout(function(){c.isPending()&&l(c,b,h)},a));return d.cancellation()?(h=this.then(),c=h._then(f,g,void 0,i,void 0),c._setOnCancel(i)):c=this._then(f,g,void 0,i,void 0),c}}},{"./util":36}],35:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){function h(a){setTimeout(function(){throw a},0)}function i(a){var b=d(a);return b!==a&&"function"==typeof a._isDisposable&&"function"==typeof a._getDisposer&&a._isDisposable()&&b._setDisposable(a._getDisposer()),b}function j(a,c){function e(){if(g>=j)return k._fulfill();var f=i(a[g++]);if(f instanceof b&&f._isDisposable()){try{f=d(f._getDisposer().tryDispose(c),a.promise)}catch(a){return h(a)}if(f instanceof b)return f._then(e,h,null,null,null)}e()}var g=0,j=a.length,k=new b(f);return e(),k}function k(a,b,c){this._data=a,this._promise=b,this._context=c}function l(a,b,c){this.constructor$(a,b,c)}function m(a){return k.isDisposer(a)?(this.resources[this.index]._setDisposable(a),a.promise()):a}function n(a){this.length=a,this.promise=null,this[a-1]=null}var o=a("./util"),p=a("./errors").TypeError,q=a("./util").inherits,r=o.errorObj,s=o.tryCatch,t={};k.prototype.data=function(){return this._data},k.prototype.promise=function(){return this._promise},k.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():t},k.prototype.tryDispose=function(a){var b=this.resource(),c=this._context;void 0!==c&&c._pushContext();var d=b!==t?this.doDispose(b,a):null;return void 0!==c&&c._popContext(),this._promise._unsetDisposable(),this._data=null,d},k.isDisposer=function(a){return null!=a&&"function"==typeof a.resource&&"function"==typeof a.tryDispose},q(l,k),l.prototype.doDispose=function(a,b){var c=this.data();return c.call(a,a,b)},n.prototype._resultCancelled=function(){for(var a=this.length,c=0;c<a;++c){var d=this[c];d instanceof b&&d.cancel()}},b.using=function(){var a=arguments.length;if(a<2)return c("you must pass at least 2 arguments to Promise.using");var e=arguments[a-1];if("function"!=typeof e)return c("expecting a function but got "+o.classString(e));var f,h=!0;2===a&&Array.isArray(arguments[0])?(f=arguments[0],a=f.length,h=!1):(f=arguments,a--);for(var i=new n(a),l=0;l<a;++l){var p=f[l];if(k.isDisposer(p)){var q=p;p=p.promise(),p._setDisposable(q)}else{var t=d(p);t instanceof b&&(p=t._then(m,null,null,{resources:i,index:l},void 0))}i[l]=p}for(var u=new Array(i.length),l=0;l<u.length;++l)u[l]=b.resolve(i[l]).reflect();var v=b.all(u).then(function(a){for(var b=0;b<a.length;++b){var c=a[b];if(c.isRejected())return r.e=c.error(),r;if(!c.isFulfilled())return void v.cancel();a[b]=c.value()}w._pushContext(),e=s(e);var d=h?e.apply(void 0,a):e(a),f=w._popContext();return g.checkForgottenReturns(d,f,"Promise.using",w),d}),w=v.lastly(function(){var a=new b.PromiseInspection(v);return j(i,a)});return i.promise=w,w._setOnCancel(i),w},b.prototype._setDisposable=function(a){this._bitField=131072|this._bitField,this._disposer=a},b.prototype._isDisposable=function(){return(131072&this._bitField)>0},b.prototype._getDisposer=function(){return this._disposer},b.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},b.prototype.disposer=function(a){if("function"==typeof a)return new l(a,this,e());throw new p}}},{"./errors":12,"./util":36}],36:[function(a,d,e){"use strict";function f(){try{var a=F;return F=null,a.apply(this,arguments)}catch(a){return E.e=a,E}}function g(a){return F=a,f}function h(a){return null==a||a===!0||a===!1||"string"==typeof a||"number"==typeof a}function i(a){return"function"==typeof a||"object"==typeof a&&null!==a}function j(a){return h(a)?new Error(s(a)):a}function k(a,b){var c,d=a.length,e=new Array(d+1);for(c=0;c<d;++c)e[c]=a[c];return e[c]=b,e}function l(a,b,c){if(!C.isES5)return{}.hasOwnProperty.call(a,b)?a[b]:void 0;var d=Object.getOwnPropertyDescriptor(a,b);return null!=d?null==d.get&&null==d.set?d.value:c:void 0}function m(a,b,c){if(h(a))return a;var d={value:c,configurable:!0,enumerable:!1,writable:!0};return C.defineProperty(a,b,d),a}function n(a){throw a}function o(a){try{if("function"==typeof a){var b=C.names(a.prototype),c=C.isES5&&b.length>1,d=b.length>0&&!(1===b.length&&"constructor"===b[0]),e=J.test(a+"")&&C.names(a).length>0;if(c||d||e)return!0}return!1}catch(a){return!1}}function p(a){function b(){}b.prototype=a;for(var c=8;c--;)new b;return a}function q(a){return K.test(a)}function r(a,b,c){for(var d=new Array(a),e=0;e<a;++e)d[e]=b+e+c;return d}function s(a){try{return a+""}catch(a){return"[no string representation]"}}function t(a){return a instanceof Error||null!==a&&"object"==typeof a&&"string"==typeof a.message&&"string"==typeof a.name}function u(a){try{m(a,"isOperational",!0)}catch(a){}}function v(a){return null!=a&&(a instanceof Error.__BluebirdErrorTypes__.OperationalError||a.isOperational===!0)}function w(a){return t(a)&&C.propertyIsWritable(a,"stack")}function x(a){return{}.toString.call(a)}function y(a,b,c){for(var d=C.names(a),e=0;e<d.length;++e){var f=d[e];if(c(f))try{C.defineProperty(b,f,C.getDescriptor(a,f))}catch(a){}}}function z(a){return P?b.env[a]:void 0}function A(){if("function"==typeof Promise)try{var a=new Promise(function(){});if("[object Promise]"==={}.toString.call(a))return Promise}catch(a){}}function B(a,b){return a.bind(b)}var C=a("./es5"),D="undefined"==typeof navigator,E={e:{}},F,G="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof c?c:void 0!==this?this:null,H=function(a,b){function c(){this.constructor=a,this.constructor$=b;for(var c in b.prototype)d.call(b.prototype,c)&&"$"!==c.charAt(c.length-1)&&(this[c+"$"]=b.prototype[c])}var d={}.hasOwnProperty;return c.prototype=b.prototype,a.prototype=new c,a.prototype},I=function(){var a=[Array.prototype,Object.prototype,Function.prototype],b=function(b){for(var c=0;c<a.length;++c)if(a[c]===b)return!0;return!1};if(C.isES5){var c=Object.getOwnPropertyNames;return function(a){for(var d=[],e=Object.create(null);null!=a&&!b(a);){var f;try{f=c(a)}catch(a){return d}for(var g=0;g<f.length;++g){var h=f[g];if(!e[h]){e[h]=!0;var i=Object.getOwnPropertyDescriptor(a,h);null!=i&&null==i.get&&null==i.set&&d.push(h)}}a=C.getPrototypeOf(a)}return d}}var d={}.hasOwnProperty;return function(c){if(b(c))return[];var e=[];a:for(var f in c)if(d.call(c,f))e.push(f);else{for(var g=0;g<a.length;++g)if(d.call(a[g],f))continue a;e.push(f)}return e}}(),J=/this\s*\.\s*\S+\s*=/,K=/^[a-z$_][a-z$_0-9]*$/i,L=function(){return"stack"in new Error?function(a){return w(a)?a:new Error(s(a))}:function(a){if(w(a))return a;try{throw new Error(s(a))}catch(a){return a}}}(),M=function(a){return C.isArray(a)?a:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var N="function"==typeof Array.from?function(a){return Array.from(a)}:function(a){for(var b,c=[],d=a[Symbol.iterator]();!(b=d.next()).done;)c.push(b.value);return c};M=function(a){return C.isArray(a)?a:null!=a&&"function"==typeof a[Symbol.iterator]?N(a):null}}var O="undefined"!=typeof b&&"[object process]"===x(b).toLowerCase(),P="undefined"!=typeof b&&"undefined"!=typeof b.env,Q={isClass:o,isIdentifier:q,inheritedDataKeys:I,getDataPropertyOrDefault:l,thrower:n,isArray:C.isArray,asArray:M,notEnumerableProp:m,isPrimitive:h,isObject:i,isError:t,canEvaluate:D,errorObj:E,tryCatch:g,inherits:H,withAppended:k,maybeWrapAsError:j,toFastProperties:p,filledRange:r,toString:s,canAttachTrace:w,ensureErrorObject:L,originatesFromRejection:v,markAsOriginatingFromRejection:u,classString:x,copyDescriptors:y,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:O,hasEnvVariables:P,env:z,global:G,getNativePromise:A,domainBind:B};Q.isRecentNode=Q.isNode&&function(){var a=b.versions.node.split(".").map(Number);return 0===a[0]&&a[1]>10||a[0]>0}(),Q.isNode&&Q.toFastProperties(b);try{throw new Error}catch(a){Q.lastLineError=a}d.exports=Q},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(b,c(45),c(9),c(107).setImmediate)},function(a,b,c){(function(a){function d(a,b){this._id=a,this._clearFn=b}var e="undefined"!=typeof a&&a||"undefined"!=typeof self&&self||window,f=Function.prototype.apply;b.setTimeout=function(){return new d(f.call(setTimeout,e,arguments),clearTimeout)},b.setInterval=function(){return new d(f.call(setInterval,e,arguments),clearInterval)},b.clearTimeout=b.clearInterval=function(a){a&&a.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(e,this._id)},b.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},b.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},b._unrefActive=b.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c(108),b.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof a&&a.setImmediate||this&&this.setImmediate,
b.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof a&&a.clearImmediate||this&&this.clearImmediate}).call(b,c(9))},function(a,b,c){(function(a,b){!function(a,c){"use strict";function d(a){"function"!=typeof a&&(a=new Function(""+a));for(var b=new Array(arguments.length-1),c=0;c<b.length;c++)b[c]=arguments[c+1];var d={callback:a,args:b};return p[o]=d,n(o),o++}function e(a){delete p[a]}function f(a){var b=a.callback,d=a.args;switch(d.length){case 0:b();break;case 1:b(d[0]);break;case 2:b(d[0],d[1]);break;case 3:b(d[0],d[1],d[2]);break;default:b.apply(c,d)}}function g(a){if(q)setTimeout(g,0,a);else{var b=p[a];if(b){q=!0;try{f(b)}finally{e(a),q=!1}}}}function h(){n=function(a){b.nextTick(function(){g(a)})}}function i(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}function j(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&g(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c),n=function(c){a.postMessage(b+c,"*")}}function k(){var a=new MessageChannel;a.port1.onmessage=function(a){var b=a.data;g(b)},n=function(b){a.port2.postMessage(b)}}function l(){var a=r.documentElement;n=function(b){var c=r.createElement("script");c.onreadystatechange=function(){g(b),c.onreadystatechange=null,a.removeChild(c),c=null},a.appendChild(c)}}function m(){n=function(a){setTimeout(g,0,a)}}if(!a.setImmediate){var n,o=1,p={},q=!1,r=a.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(a);s=s&&s.setTimeout?s:a,"[object process]"==={}.toString.call(a.process)?h():i()?j():a.MessageChannel?k():r&&"onreadystatechange"in r.createElement("script")?l():m(),s.setImmediate=d,s.clearImmediate=e}}("undefined"==typeof self?"undefined"==typeof a?this:a:self)}).call(b,c(9),c(45))},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,d){var e,f=c(111);e="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof a?a:d;var g=Object(f.a)(e);b.default=g}.call(b,c(9),c(110)(a))},function(a,b){a.exports=function(a){if(!a.webpackPolyfill){var b=Object.create(a);b.children||(b.children=[]),Object.defineProperty(b,"loaded",{enumerable:!0,get:function(){return b.l}}),Object.defineProperty(b,"id",{enumerable:!0,get:function(){return b.i}}),Object.defineProperty(b,"exports",{enumerable:!0}),b.webpackPolyfill=1}return b}},function(a,b,c){"use strict";function d(a){var b,c=a.Symbol;return"function"==typeof c?c.observable?b=c.observable:(b=c("observable"),c.observable=b):b="@@observable",b}b.a=d},function(a,b,c){"use strict";function d(a){return a.emit&&a.addListener}function e(a,b,c){return void 0===c&&(c=!1),d(a)?new f.Stream(new h(a,b)):new f.Stream(new g(a,b,c))}Object.defineProperty(b,"__esModule",{value:!0});var f=c(46),g=function(){function a(a,b,c){this.node=a,this.eventType=b,this.useCapture=c,this.type="fromEvent"}return a.prototype._start=function(a){this.listener=function(b){return a._n(b)},this.node.addEventListener(this.eventType,this.listener,this.useCapture)},a.prototype._stop=function(){this.node.removeEventListener(this.eventType,this.listener,this.useCapture),this.listener=null},a}();b.DOMEventProducer=g;var h=function(){function a(a,b){this.node=a,this.eventName=b,this.type="fromEvent"}return a.prototype._start=function(a){this.listener=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return b.length>1?a._n(b):a._n(b[0])},this.node.addListener(this.eventName,this.listener)},a.prototype._stop=function(){this.node.removeListener(this.eventName,this.listener),this.listener=null},a}();b.NodeEventProducer=h,b.default=e},function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c(114),e=function(a){var b=a.visit,c=a.patch,e="/api/v1/visits/"+b+"/";return d.a(e,c).then(function(a){var b=a.stream_write_token;return b})}},function(a,b,c){"use strict";c.d(b,"a",function(){return g});var d=c(16),e=c.n(d),f=function(a){return function(b,c){return fetch(b,{method:a,body:e()(c),credentials:"include",headers:new Headers({"X-CSRFToken":window.csrf_token,"Content-Type":"application/json"})}).then(function(a){return a.json()}).catch(console.error)}},g=(f("PUT"),f("POST"),f("PATCH"))},function(a,b,c){"use strict";c.d(b,"a",function(){return d});var d=function(a,b){var c=0;return function(d){var e=Date.now(),f=0===c?0:e-c;c=e;var g={time:parseInt(e/1e3),offset:parseInt(b()),att:parseInt(d.attention||0),eng:parseInt(d.engagement||0),focus:parseInt(d.focus||0),fps:parseInt(d.avg_fps||0),faces:parseInt(d.faces||0),delta:parseInt(f),wasm:a};for(var h in d)h.includes("AU")&&(g[h]=parseFloat(d[h]||0)),h.includes("EMO")&&(g[h]=parseInt(d[h]||0));return g}}}]);var Module="undefined"!=typeof Module?Module:{};Module.expectedDataFileDownloads||(Module.expectedDataFileDownloads=0,Module.finishedDataFileDownloads=0),Module.expectedDataFileDownloads++,function(){var a=function(a){function b(a,b,c,d){var e=new XMLHttpRequest;e.open("GET",a,!0),e.responseType="arraybuffer",e.onprogress=function(c){var d=a,f=b;if(c.total&&(f=c.total),c.loaded){e.addedTotal?Module.dataFileDownloads[d].loaded=c.loaded:(e.addedTotal=!0,Module.dataFileDownloads||(Module.dataFileDownloads={}),Module.dataFileDownloads[d]={loaded:c.loaded,total:f});var g=0,h=0,i=0;for(var j in Module.dataFileDownloads){var k=Module.dataFileDownloads[j];g+=k.total,h+=k.loaded,i++}g=Math.ceil(g*Module.expectedDataFileDownloads/i),Module.setStatus&&Module.setStatus("Downloading data... ("+h+"/"+g+")")}else Module.dataFileDownloads||Module.setStatus&&Module.setStatus("Downloading data...")},e.onerror=function(b){throw new Error("NetworkError for: "+a)},e.onload=function(a){if(!(200==e.status||304==e.status||206==e.status||0==e.status&&e.response))throw new Error(e.statusText+" : "+e.responseURL);var b=e.response;c(b)},e.send(null)}function c(a){console.error("package error:",a)}function d(){function b(a,b){if(!a)throw b+(new Error).stack}function c(a,b,c){this.start=a,this.end=b,this.audio=c}function d(d){Module.finishedDataFileDownloads++,b(d,"Loading data file failed."),b(d instanceof ArrayBuffer,"bad input to processPackageData");var e=new Uint8Array(d);Module.SPLIT_MEMORY&&err("warning: you should run the file packager with --no-heap-copy when SPLIT_MEMORY is used, otherwise copying into the heap may fail due to the splitting");var f=Module.getMemory(e.length);Module.HEAPU8.set(e,f),c.prototype.byteArray=Module.HEAPU8.subarray(f,f+e.length);for(var g=a.files,h=0;h<g.length;++h)c.prototype.requests[g[h].filename].onload();Module.removeRunDependency("datafile_/root/examus/recface/wasm/build/cybert.data")}Module.FS_createPath("/","data",!0,!0),c.prototype={requests:{},open:function(a,b){this.name=b,this.requests[b]=this,Module.addRunDependency("fp "+this.name)},send:function(){},onload:function(){var a=this.byteArray.subarray(this.start,this.end);this.finish(a)},finish:function(a){var b=this;Module.FS_createDataFile(this.name,null,a,!0,!0,!0),Module.removeRunDependency("fp "+b.name),this.requests[this.name]=null}};for(var e=a.files,g=0;g<e.length;++g)new c(e[g].start,e[g].end,e[g].audio).open("GET",e[g].filename);Module.addRunDependency("datafile_/root/examus/recface/wasm/build/cybert.data"),Module.preloadResults||(Module.preloadResults={}),Module.preloadResults[f]={fromCache:!1},k?(d(k),k=null):j=d}var e;if("object"==typeof window)e=window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/");else{if("undefined"==typeof location)throw"using preloaded data can only be done on a web page or in a web worker";e=encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/")}var f="/root/examus/recface/wasm/build/cybert.data",g="cybert.data";"function"!=typeof Module.locateFilePackage||Module.locateFile||(Module.locateFile=Module.locateFilePackage,err("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var h=Module.locateFile?Module.locateFile(g,""):g,i=a.remote_package_size,j=(a.package_uuid,null),k=Module.getPreloadedPackage?Module.getPreloadedPackage(h,i):null;k||b(h,i,function(a){j?(j(a),j=null):k=a},c),Module.calledRun?d():(Module.preRun||(Module.preRun=[]),Module.preRun.push(d))};a({files:[{start:0,audio:0,end:1469180,filename:"/data/aub.bin"},{start:1469180,audio:0,end:9805402,filename:"/data/kp.bin"}],remote_package_size:9805402,package_uuid:"32f23442-e36e-4099-9328-401cfcbf513c"})}();var moduleOverrides={},key;for(key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);Module.arguments=[],Module.thisProgram="./this.program",Module.quit=function(a,b){throw b},Module.preRun=[],Module.postRun=[];var ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_IS_SHELL=!1;ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&"function"==typeof require&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory="";if(ENVIRONMENT_IS_NODE){scriptDirectory=__dirname+"/";var nodeFS,nodePath;Module.read=function(a,b){var c;return nodeFS||(nodeFS=require("fs")),nodePath||(nodePath=require("path")),a=nodePath.normalize(a),c=nodeFS.readFileSync(a),b?c:c.toString()},Module.readBinary=function(a){var b=Module.read(a,!0);return b.buffer||(b=new Uint8Array(b)),assert(b.buffer),b},process.argv.length>1&&(Module.thisProgram=process.argv[1].replace(/\\/g,"/")),Module.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",function(a){if(!(a instanceof ExitStatus))throw a}),process.on("unhandledRejection",function(a,b){process.exit(1)}),Module.quit=function(a){process.exit(a)},Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)"undefined"!=typeof read&&(Module.read=function(a){return read(a)}),Module.readBinary=function(a){var b;return"function"==typeof readbuffer?new Uint8Array(readbuffer(a)):(b=read(a,"binary"),assert("object"==typeof b),b)},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments),"function"==typeof quit&&(Module.quit=function(a){quit(a)});else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WEB){var currentScript=document.currentScript;0!==currentScript.src.indexOf("blob:")&&(scriptDirectory=currentScript.src.split("/").slice(0,-1).join("/")+"/")}else ENVIRONMENT_IS_WORKER&&(scriptDirectory=self.location.href.split("/").slice(0,-1).join("/")+"/");Module.read=function(a){var b=new XMLHttpRequest;return b.open("GET",a,!1),b.send(null),b.responseText},ENVIRONMENT_IS_WORKER&&(Module.readBinary=function(a){var b=new XMLHttpRequest;return b.open("GET",a,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}),Module.readAsync=function(a,b,c){var d=new XMLHttpRequest;d.open("GET",a,!0),d.responseType="arraybuffer",d.onload=function(){return 200==d.status||0==d.status&&d.response?void b(d.response):void c()},d.onerror=c,d.send(null)},Module.setWindowTitle=function(a){document.title=a}}var out=Module.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),err=Module.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||out);for(key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=void 0;var STACK_ALIGN=16,asm2wasmImports={"f64-rem":function(a,b){return a%b},debugger:function(){}},jsCallStartIndex=1,functionPointers=new Array(0),funcWrappers={},GLOBAL_BASE=1024,ABORT=0,EXITSTATUS=0,JSfuncs={stackSave:function(){stackSave()},stackRestore:function(){stackRestore()},arrayToC:function(a){var b=stackAlloc(a.length);return writeArrayToMemory(a,b),b},stringToC:function(a){var b=0;if(null!==a&&void 0!==a&&0!==a){var c=(a.length<<2)+1;b=stackAlloc(c),stringToUTF8(a,b,c)}return b}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC},ALLOC_STATIC=2,ALLOC_NONE=4,UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,UTF16Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,PAGE_SIZE=16384,WASM_PAGE_SIZE=65536,ASMJS_PAGE_SIZE=16777216,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0,staticSealed=!1;var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||209715200;TOTAL_MEMORY<TOTAL_STACK&&err("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")"),Module.buffer?buffer=Module.buffer:("object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(Module.wasmMemory=new WebAssembly.Memory({initial:TOTAL_MEMORY/WASM_PAGE_SIZE,maximum:TOTAL_MEMORY/WASM_PAGE_SIZE}),buffer=Module.wasmMemory.buffer):buffer=new ArrayBuffer(TOTAL_MEMORY),Module.buffer=buffer),updateGlobalBufferViews();var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1,Math_abs=Math.abs,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_min=Math.min,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;Module.preloadedImages={},Module.preloadedAudios={};var dataURIPrefix="data:application/octet-stream;base64,";integrateWasmJS(),STATIC_BASE=GLOBAL_BASE,STATICTOP=STATIC_BASE+1296336,__ATINIT__.push({func:function(){__GLOBAL__I_000101()}},{func:function(){__GLOBAL__sub_I_attr_value_pb_cc()}},{func:function(){__GLOBAL__sub_I_opencv_caffe_pb_cc()}},{func:function(){__GLOBAL__sub_I_op_def_pb_cc()}},{func:function(){__GLOBAL__sub_I_function_pb_cc()}},{func:function(){__GLOBAL__sub_I_darknet_io_cpp()}},{func:function(){__GLOBAL__sub_I_versions_pb_cc()}},{func:function(){__GLOBAL__sub_I_types_pb_cc()}},{func:function(){__GLOBAL__sub_I_tensor_shape_pb_cc()}},{func:function(){__GLOBAL__sub_I_tensor_pb_cc()}},{func:function(){__GLOBAL__sub_I_graph_pb_cc()}},{func:function(){__GLOBAL__sub_I_haar_cpp()}},{func:function(){__GLOBAL__sub_I_prior_box_layer_cpp()}},{func:function(){__GLOBAL__sub_I_detection_output_layer_cpp()}},{func:function(){__GLOBAL__sub_I_init_cpp()}},{func:function(){__GLOBAL__sub_I_dnn_cpp()}},{func:function(){__GLOBAL__sub_I_WASM_CyberTutor_cpp()}},{func:function(){__GLOBAL__sub_I_ImageWrapper_cpp()}},{func:function(){__GLOBAL__sub_I_CLNFModel_cpp()}},{func:function(){__GLOBAL__sub_I_trace_cpp()}},{func:function(){__GLOBAL__sub_I_iostream_cpp()}},{func:function(){___emscripten_environ_constructor()}},{func:function(){__GLOBAL__sub_I_bind_cpp()}},{func:function(){__GLOBAL__sub_I_message_cc()}},{func:function(){__GLOBAL__sub_I_descriptor_pb_cc()}},{func:function(){__GLOBAL__sub_I_status_cc()}},{func:function(){__GLOBAL__sub_I_kmeans_cpp()}},{func:function(){__GLOBAL__sub_I_umatrix_cpp()}},{func:function(){__GLOBAL__sub_I_AlignOpenFace_cpp()}},{func:function(){__GLOBAL__sub_I_system_cpp()}},{func:function(){__GLOBAL__sub_I_persistence_types_cpp()}},{func:function(){__GLOBAL__sub_I_parallel_impl_cpp()}},{func:function(){__GLOBAL__sub_I_imgwarp_cpp()}},{func:function(){__GLOBAL__sub_I_histogram_cpp()}},{func:function(){__GLOBAL__sub_I_color_lab_cpp()}},{func:function(){__GLOBAL__sub_I_loadsave_cpp()}},{func:function(){__GLOBAL__sub_I_EmotionRecognizer_cpp()}},{func:function(){__GLOBAL__sub_I_BlockHistogramPP_cpp()}},{func:function(){__GLOBAL__sub_I_ConvertToGrayPP_cpp()}},{func:function(){__GLOBAL__sub_I_PictureChangeAlertPP_cpp()}},{func:function(){__GLOBAL__sub_I_PairedDetectorPP_cpp()}},{func:function(){__GLOBAL__sub_I_DebugFaceDistancePP_cpp()}},{func:function(){__GLOBAL__sub_I_FaceValidatorPP_cpp()}},{func:function(){__GLOBAL__sub_I_HeadPosePP_cpp()}},{func:function(){__GLOBAL__sub_I_RecognitionAlertPP_cpp()}},{func:function(){__GLOBAL__sub_I_DetectorPP_cpp()}},{func:function(){___cxx_global_var_init_8()}},{func:function(){___cxx_global_var_init_7()}},{func:function(){___cxx_global_var_init_6()}},{func:function(){___cxx_global_var_init_5()}},{func:function(){___cxx_global_var_init_4()}},{func:function(){___cxx_global_var_init_3()}},{func:function(){___cxx_global_var_init_2()}},{func:function(){___cxx_global_var_init_1()}},{func:function(){__GLOBAL__sub_I_EmotionRecognizerPP_cpp()}},{func:function(){__GLOBAL__sub_I_cascades_cpp()}},{func:function(){___cxx_global_var_init_19()}},{func:function(){__GLOBAL__sub_I_AgregatedFaceValidatorPP_cpp()}},{func:function(){__GLOBAL__sub_I_AdvFaceValidatorPP_cpp()}},{func:function(){__GLOBAL__sub_I_ConvertToHSVPP_cpp()}},{func:function(){__GLOBAL__sub_I_ObjectCountPP_cpp()}},{func:function(){__GLOBAL__sub_I_PictureDiffPP_cpp()}},{func:function(){__GLOBAL__sub_I_FaceRecognizerPP_cpp()}},{func:function(){___cxx_global_var_init()}},{func:function(){__GLOBAL__sub_I_GazeTrackerPP_cpp()}},{func:function(){__GLOBAL__sub_I_SkypeDetectorPP_cpp()}},{func:function(){__GLOBAL__sub_I_ExtractWindowPP_cpp()}},{func:function(){__GLOBAL__sub_I_HistogramChangedPP_cpp()}},{func:function(){__GLOBAL__sub_I_PoseAlertPP_cpp()}},{func:function(){__GLOBAL__sub_I_ExternalRecognizerPP_cpp()}},{func:function(){__GLOBAL__sub_I_Face2VecPP_cpp()}});var STATIC_BUMP=1296336;Module.STATIC_BASE=STATIC_BASE,Module.STATIC_BUMP=STATIC_BUMP;var tempDoublePtr=STATICTOP;STATICTOP+=16;var ENV={},EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(a){if(!a||EXCEPTIONS.infos[a])return a;for(var b in EXCEPTIONS.infos){var c=+b,d=EXCEPTIONS.infos[c];if(d.adjusted===a)return c}return a},addRef:function(a){if(a){var b=EXCEPTIONS.infos[a];b.refcount++}},decRef:function(a){if(a){var b=EXCEPTIONS.infos[a];assert(b.refcount>0),b.refcount--,0!==b.refcount||b.rethrown||(b.destructor&&Module.dynCall_vi(b.destructor,a),delete EXCEPTIONS.infos[a],___cxa_free_exception(a))}},clearRef:function(a){if(a){var b=EXCEPTIONS.infos[a];b.refcount=0}}},ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},PATH={splitPath:function(a){var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return b.exec(a).slice(1)},normalizeArray:function(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift("..");return a},normalize:function(a){var b="/"===a.charAt(0),c="/"===a.substr(-1);return a=PATH.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/"),a||b||(a="."),a&&c&&(a+="/"),(b?"/":"")+a},dirname:function(a){var b=PATH.splitPath(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},basename:function(a){if("/"===a)return"/";var b=a.lastIndexOf("/");return b===-1?a:a.substr(b+1)},extname:function(a){return PATH.splitPath(a)[3]},join:function(){var a=Array.prototype.slice.call(arguments,0);return PATH.normalize(a.join("/"))},join2:function(a,b){return PATH.normalize(a+"/"+b)},resolve:function(){for(var a="",b=!1,c=arguments.length-1;c>=-1&&!b;c--){var d=c>=0?arguments[c]:FS.cwd();if("string"!=typeof d)throw new TypeError("Arguments to path.resolve must be strings");if(!d)return"";a=d+"/"+a,b="/"===d.charAt(0)}return a=PATH.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/"),(b?"/":"")+a||"."},relative:function(a,b){function c(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=PATH.resolve(a).substr(1),b=PATH.resolve(b).substr(1);for(var d=c(a.split("/")),e=c(b.split("/")),f=Math.min(d.length,e.length),g=f,h=0;h<f;h++)if(d[h]!==e[h]){g=h;break}for(var i=[],h=g;h<d.length;h++)i.push("..");return i=i.concat(e.slice(g)),i.join("/")}},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(a,b){TTY.ttys[a]={input:[],output:[],ops:b},FS.registerDevice(a,TTY.stream_ops)},stream_ops:{open:function(a){var b=TTY.ttys[a.node.rdev];if(!b)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);a.tty=b,a.seekable=!1},close:function(a){a.tty.ops.flush(a.tty)},flush:function(a){a.tty.ops.flush(a.tty)},read:function(a,b,c,d,e){if(!a.tty||!a.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var f=0,g=0;g<d;g++){var h;try{h=a.tty.ops.get_char(a.tty)}catch(a){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===h&&0===f)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===h||void 0===h)break;f++,b[c+g]=h}return f&&(a.node.timestamp=Date.now()),f},write:function(a,b,c,d,e){if(!a.tty||!a.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var f=0;f<d;f++)try{a.tty.ops.put_char(a.tty,b[c+f])}catch(a){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return d&&(a.node.timestamp=Date.now()),f}},default_tty_ops:{get_char:function(a){if(!a.input.length){var b=null;if(ENVIRONMENT_IS_NODE){var c=256,d=new Buffer(c),e=0,f="win32"!=process.platform,g=process.stdin.fd;if(f){var h=!1;try{g=fs.openSync("/dev/stdin","r"),h=!0}catch(a){}}try{e=fs.readSync(g,d,0,c,null)}catch(a){if(a.toString().indexOf("EOF")==-1)throw a;e=0}h&&fs.closeSync(g),b=e>0?d.slice(0,e).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?(b=window.prompt("Input: "),null!==b&&(b+="\n")):"function"==typeof readline&&(b=readline(),null!==b&&(b+="\n"));if(!b)return null;a.input=intArrayFromString(b,!0)}return a.input.shift()},put_char:function(a,b){null===b||10===b?(out(UTF8ArrayToString(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&a.output.length>0&&(out(UTF8ArrayToString(a.output,0)),a.output=[])}},default_tty1_ops:{put_char:function(a,b){null===b||10===b?(err(UTF8ArrayToString(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&a.output.length>0&&(err(UTF8ArrayToString(a.output,0)),a.output=[])}}},MEMFS={ops_table:null,mount:function(a){return MEMFS.createNode(null,"/",16895,0)},createNode:function(a,b,c,d){if(FS.isBlkdev(c)||FS.isFIFO(c))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var e=FS.createNode(a,b,c,d);return FS.isDir(e.mode)?(e.node_ops=MEMFS.ops_table.dir.node,e.stream_ops=MEMFS.ops_table.dir.stream,e.contents={}):FS.isFile(e.mode)?(e.node_ops=MEMFS.ops_table.file.node,e.stream_ops=MEMFS.ops_table.file.stream,e.usedBytes=0,e.contents=null):FS.isLink(e.mode)?(e.node_ops=MEMFS.ops_table.link.node,e.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(e.mode)&&(e.node_ops=MEMFS.ops_table.chrdev.node,e.stream_ops=MEMFS.ops_table.chrdev.stream),e.timestamp=Date.now(),a&&(a.contents[b]=e),e},getFileDataAsRegularArray:function(a){if(a.contents&&a.contents.subarray){for(var b=[],c=0;c<a.usedBytes;++c)b.push(a.contents[c]);return b}return a.contents},getFileDataAsTypedArray:function(a){return a.contents?a.contents.subarray?a.contents.subarray(0,a.usedBytes):new Uint8Array(a.contents):new Uint8Array},expandFileStorage:function(a,b){if(a.contents&&a.contents.subarray&&b>a.contents.length&&(a.contents=MEMFS.getFileDataAsRegularArray(a),a.usedBytes=a.contents.length),!a.contents||a.contents.subarray){var c=a.contents?a.contents.length:0;if(c>=b)return;var d=1048576;b=Math.max(b,c*(c<d?2:1.125)|0),0!=c&&(b=Math.max(b,256));var e=a.contents;return a.contents=new Uint8Array(b),void(a.usedBytes>0&&a.contents.set(e.subarray(0,a.usedBytes),0))}for(!a.contents&&b>0&&(a.contents=[]);a.contents.length<b;)a.contents.push(0)},resizeFileStorage:function(a,b){if(a.usedBytes!=b){if(0==b)return a.contents=null,void(a.usedBytes=0);if(!a.contents||a.contents.subarray){var c=a.contents;return a.contents=new Uint8Array(new ArrayBuffer(b)),c&&a.contents.set(c.subarray(0,Math.min(b,a.usedBytes))),void(a.usedBytes=b)}if(a.contents||(a.contents=[]),a.contents.length>b)a.contents.length=b;else for(;a.contents.length<b;)a.contents.push(0);a.usedBytes=b}},node_ops:{getattr:function(a){var b={};return b.dev=FS.isChrdev(a.mode)?a.id:1,b.ino=a.id,b.mode=a.mode,b.nlink=1,b.uid=0,b.gid=0,b.rdev=a.rdev,FS.isDir(a.mode)?b.size=4096:FS.isFile(a.mode)?b.size=a.usedBytes:FS.isLink(a.mode)?b.size=a.link.length:b.size=0,b.atime=new Date(a.timestamp),b.mtime=new Date(a.timestamp),b.ctime=new Date(a.timestamp),b.blksize=4096,b.blocks=Math.ceil(b.size/b.blksize),b},setattr:function(a,b){void 0!==b.mode&&(a.mode=b.mode),void 0!==b.timestamp&&(a.timestamp=b.timestamp),void 0!==b.size&&MEMFS.resizeFileStorage(a,b.size)},lookup:function(a,b){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(a,b,c,d){return MEMFS.createNode(a,b,c,d)},rename:function(a,b,c){if(FS.isDir(a.mode)){var d;try{d=FS.lookupNode(b,c)}catch(a){}if(d)for(var e in d.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete a.parent.contents[a.name],a.name=c,b.contents[c]=a,a.parent=b},unlink:function(a,b){delete a.contents[b]},rmdir:function(a,b){var c=FS.lookupNode(a,b);for(var d in c.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete a.contents[b]},readdir:function(a){var b=[".",".."];for(var c in a.contents)a.contents.hasOwnProperty(c)&&b.push(c);return b},symlink:function(a,b,c){var d=MEMFS.createNode(a,b,41471,0);return d.link=c,d},readlink:function(a){if(!FS.isLink(a.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return a.link}},stream_ops:{read:function(a,b,c,d,e){var f=a.node.contents;if(e>=a.node.usedBytes)return 0;var g=Math.min(a.node.usedBytes-e,d);if(assert(g>=0),g>8&&f.subarray)b.set(f.subarray(e,e+g),c);else for(var h=0;h<g;h++)b[c+h]=f[e+h];return g},write:function(a,b,c,d,e,f){if(!d)return 0;var g=a.node;if(g.timestamp=Date.now(),b.subarray&&(!g.contents||g.contents.subarray)){if(f)return g.contents=b.subarray(c,c+d),g.usedBytes=d,d;if(0===g.usedBytes&&0===e)return g.contents=new Uint8Array(b.subarray(c,c+d)),g.usedBytes=d,d;if(e+d<=g.usedBytes)return g.contents.set(b.subarray(c,c+d),e),d}if(MEMFS.expandFileStorage(g,e+d),g.contents.subarray&&b.subarray)g.contents.set(b.subarray(c,c+d),e);else for(var h=0;h<d;h++)g.contents[e+h]=b[c+h];return g.usedBytes=Math.max(g.usedBytes,e+d),d},llseek:function(a,b,c){var d=b;if(1===c?d+=a.position:2===c&&FS.isFile(a.node.mode)&&(d+=a.node.usedBytes),d<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return d},allocate:function(a,b,c){MEMFS.expandFileStorage(a.node,b+c),a.node.usedBytes=Math.max(a.node.usedBytes,b+c)},mmap:function(a,b,c,d,e,f,g){if(!FS.isFile(a.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);
var h,i,j=a.node.contents;if(2&g||j.buffer!==b&&j.buffer!==b.buffer){if((e>0||e+d<a.node.usedBytes)&&(j=j.subarray?j.subarray(e,e+d):Array.prototype.slice.call(j,e,e+d)),i=!0,h=_malloc(d),!h)throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);b.set(j,h)}else i=!1,h=j.byteOffset;return{ptr:h,allocated:i}},msync:function(a,b,c,d,e){if(!FS.isFile(a.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(2&e)return 0;MEMFS.stream_ops.write(a,b,0,d,c,!1);return 0}}},IDBFS={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var a=null;return"object"==typeof window&&(a=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(a,"IDBFS used, but indexedDB not supported"),a},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(a){return MEMFS.mount.apply(null,arguments)},syncfs:function(a,b,c){IDBFS.getLocalSet(a,function(d,e){return d?c(d):void IDBFS.getRemoteSet(a,function(a,d){if(a)return c(a);var f=b?d:e,g=b?e:d;IDBFS.reconcile(f,g,c)})})},getDB:function(a,b){var c=IDBFS.dbs[a];if(c)return b(null,c);var d;try{d=IDBFS.indexedDB().open(a,IDBFS.DB_VERSION)}catch(a){return b(a)}return d?(d.onupgradeneeded=function(a){var b,c=a.target.result,d=a.target.transaction;b=c.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?d.objectStore(IDBFS.DB_STORE_NAME):c.createObjectStore(IDBFS.DB_STORE_NAME),b.indexNames.contains("timestamp")||b.createIndex("timestamp","timestamp",{unique:!1})},d.onsuccess=function(){c=d.result,IDBFS.dbs[a]=c,b(null,c)},void(d.onerror=function(a){b(this.error),a.preventDefault()})):b("Unable to connect to IndexedDB")},getLocalSet:function(a,b){function c(a){return"."!==a&&".."!==a}function d(a){return function(b){return PATH.join2(a,b)}}for(var e={},f=FS.readdir(a.mountpoint).filter(c).map(d(a.mountpoint));f.length;){var g,h=f.pop();try{g=FS.stat(h)}catch(a){return b(a)}FS.isDir(g.mode)&&f.push.apply(f,FS.readdir(h).filter(c).map(d(h))),e[h]={timestamp:g.mtime}}return b(null,{type:"local",entries:e})},getRemoteSet:function(a,b){var c={};IDBFS.getDB(a.mountpoint,function(a,d){if(a)return b(a);try{var e=d.transaction([IDBFS.DB_STORE_NAME],"readonly");e.onerror=function(a){b(this.error),a.preventDefault()};var f=e.objectStore(IDBFS.DB_STORE_NAME),g=f.index("timestamp");g.openKeyCursor().onsuccess=function(a){var e=a.target.result;return e?(c[e.primaryKey]={timestamp:e.key},void e.continue()):b(null,{type:"remote",db:d,entries:c})}}catch(a){return b(a)}})},loadLocalEntry:function(a,b){var c,d;try{var e=FS.lookupPath(a);d=e.node,c=FS.stat(a)}catch(a){return b(a)}return FS.isDir(c.mode)?b(null,{timestamp:c.mtime,mode:c.mode}):FS.isFile(c.mode)?(d.contents=MEMFS.getFileDataAsTypedArray(d),b(null,{timestamp:c.mtime,mode:c.mode,contents:d.contents})):b(new Error("node type not supported"))},storeLocalEntry:function(a,b,c){try{if(FS.isDir(b.mode))FS.mkdir(a,b.mode);else{if(!FS.isFile(b.mode))return c(new Error("node type not supported"));FS.writeFile(a,b.contents,{canOwn:!0})}FS.chmod(a,b.mode),FS.utime(a,b.timestamp,b.timestamp)}catch(a){return c(a)}c(null)},removeLocalEntry:function(a,b){try{var c=(FS.lookupPath(a),FS.stat(a));FS.isDir(c.mode)?FS.rmdir(a):FS.isFile(c.mode)&&FS.unlink(a)}catch(a){return b(a)}b(null)},loadRemoteEntry:function(a,b,c){var d=a.get(b);d.onsuccess=function(a){c(null,a.target.result)},d.onerror=function(a){c(this.error),a.preventDefault()}},storeRemoteEntry:function(a,b,c,d){var e=a.put(c,b);e.onsuccess=function(){d(null)},e.onerror=function(a){d(this.error),a.preventDefault()}},removeRemoteEntry:function(a,b,c){var d=a.delete(b);d.onsuccess=function(){c(null)},d.onerror=function(a){c(this.error),a.preventDefault()}},reconcile:function(a,b,c){function d(a){if(a){if(!d.errored)return d.errored=!0,c(a)}else if(++h>=e)return c(null)}var e=0,f=[];Object.keys(a.entries).forEach(function(c){var d=a.entries[c],g=b.entries[c];(!g||d.timestamp>g.timestamp)&&(f.push(c),e++)});var g=[];if(Object.keys(b.entries).forEach(function(c){var d=(b.entries[c],a.entries[c]);d||(g.push(c),e++)}),!e)return c(null);var h=0,i="remote"===a.type?a.db:b.db,j=i.transaction([IDBFS.DB_STORE_NAME],"readwrite"),k=j.objectStore(IDBFS.DB_STORE_NAME);j.onerror=function(a){d(this.error),a.preventDefault()},f.sort().forEach(function(a){"local"===b.type?IDBFS.loadRemoteEntry(k,a,function(b,c){return b?d(b):void IDBFS.storeLocalEntry(a,c,d)}):IDBFS.loadLocalEntry(a,function(b,c){return b?d(b):void IDBFS.storeRemoteEntry(k,a,c,d)})}),g.sort().reverse().forEach(function(a){"local"===b.type?IDBFS.removeLocalEntry(a,d):IDBFS.removeRemoteEntry(k,a,d)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/);var a=process.binding("constants");a.fs&&(a=a.fs),NODEFS.flagsForNodeMap={1024:a.O_APPEND,64:a.O_CREAT,128:a.O_EXCL,0:a.O_RDONLY,2:a.O_RDWR,4096:a.O_SYNC,512:a.O_TRUNC,1:a.O_WRONLY}},bufferFrom:function(a){return Buffer.alloc?Buffer.from(a):new Buffer(a)},mount:function(a){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(a.opts.root),0)},createNode:function(a,b,c,d){if(!FS.isDir(c)&&!FS.isFile(c)&&!FS.isLink(c))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var e=FS.createNode(a,b,c);return e.node_ops=NODEFS.node_ops,e.stream_ops=NODEFS.stream_ops,e},getMode:function(a){var b;try{b=fs.lstatSync(a),NODEFS.isWindows&&(b.mode=b.mode|(292&b.mode)>>2)}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}return b.mode},realPath:function(a){for(var b=[];a.parent!==a;)b.push(a.name),a=a.parent;return b.push(a.mount.opts.root),b.reverse(),PATH.join.apply(null,b)},flagsForNode:function(a){a&=-2097153,a&=-2049,a&=-32769,a&=-524289;var b=0;for(var c in NODEFS.flagsForNodeMap)a&c&&(b|=NODEFS.flagsForNodeMap[c],a^=c);if(a)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return b},node_ops:{getattr:function(a){var b,c=NODEFS.realPath(a);try{b=fs.lstatSync(c)}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}return NODEFS.isWindows&&!b.blksize&&(b.blksize=4096),NODEFS.isWindows&&!b.blocks&&(b.blocks=(b.size+b.blksize-1)/b.blksize|0),{dev:b.dev,ino:b.ino,mode:b.mode,nlink:b.nlink,uid:b.uid,gid:b.gid,rdev:b.rdev,size:b.size,atime:b.atime,mtime:b.mtime,ctime:b.ctime,blksize:b.blksize,blocks:b.blocks}},setattr:function(a,b){var c=NODEFS.realPath(a);try{if(void 0!==b.mode&&(fs.chmodSync(c,b.mode),a.mode=b.mode),void 0!==b.timestamp){var d=new Date(b.timestamp);fs.utimesSync(c,d,d)}void 0!==b.size&&fs.truncateSync(c,b.size)}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}},lookup:function(a,b){var c=PATH.join2(NODEFS.realPath(a),b),d=NODEFS.getMode(c);return NODEFS.createNode(a,b,d)},mknod:function(a,b,c,d){var e=NODEFS.createNode(a,b,c,d),f=NODEFS.realPath(e);try{FS.isDir(e.mode)?fs.mkdirSync(f,e.mode):fs.writeFileSync(f,"",{mode:e.mode})}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}return e},rename:function(a,b,c){var d=NODEFS.realPath(a),e=PATH.join2(NODEFS.realPath(b),c);try{fs.renameSync(d,e)}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}},unlink:function(a,b){var c=PATH.join2(NODEFS.realPath(a),b);try{fs.unlinkSync(c)}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}},rmdir:function(a,b){var c=PATH.join2(NODEFS.realPath(a),b);try{fs.rmdirSync(c)}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}},readdir:function(a){var b=NODEFS.realPath(a);try{return fs.readdirSync(b)}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}},symlink:function(a,b,c){var d=PATH.join2(NODEFS.realPath(a),b);try{fs.symlinkSync(c,d)}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}},readlink:function(a){var b=NODEFS.realPath(a);try{return b=fs.readlinkSync(b),b=NODEJS_PATH.relative(NODEJS_PATH.resolve(a.mount.opts.root),b)}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}}},stream_ops:{open:function(a){var b=NODEFS.realPath(a.node);try{FS.isFile(a.node.mode)&&(a.nfd=fs.openSync(b,NODEFS.flagsForNode(a.flags)))}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}},close:function(a){try{FS.isFile(a.node.mode)&&a.nfd&&fs.closeSync(a.nfd)}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}},read:function(a,b,c,d,e){if(0===d)return 0;try{return fs.readSync(a.nfd,NODEFS.bufferFrom(b.buffer),c,d,e)}catch(a){throw new FS.ErrnoError(ERRNO_CODES[a.code])}},write:function(a,b,c,d,e){try{return fs.writeSync(a.nfd,NODEFS.bufferFrom(b.buffer),c,d,e)}catch(a){throw new FS.ErrnoError(ERRNO_CODES[a.code])}},llseek:function(a,b,c){var d=b;if(1===c)d+=a.position;else if(2===c&&FS.isFile(a.node.mode))try{var e=fs.fstatSync(a.nfd);d+=e.size}catch(a){throw new FS.ErrnoError(ERRNO_CODES[a.code])}if(d<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return d}}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(a){function b(a){for(var b=a.split("/"),c=d,f=0;f<b.length-1;f++){var g=b.slice(0,f+1).join("/");e[g]||(e[g]=WORKERFS.createNode(c,b[f],WORKERFS.DIR_MODE,0)),c=e[g]}return c}function c(a){var b=a.split("/");return b[b.length-1]}assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var d=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),e={};return Array.prototype.forEach.call(a.opts.files||[],function(a){WORKERFS.createNode(b(a.name),c(a.name),WORKERFS.FILE_MODE,0,a,a.lastModifiedDate)}),(a.opts.blobs||[]).forEach(function(a){WORKERFS.createNode(b(a.name),c(a.name),WORKERFS.FILE_MODE,0,a.data)}),(a.opts.packages||[]).forEach(function(a){a.metadata.files.forEach(function(d){var e=d.filename.substr(1);WORKERFS.createNode(b(e),c(e),WORKERFS.FILE_MODE,0,a.blob.slice(d.start,d.end))})}),d},createNode:function(a,b,c,d,e,f){var g=FS.createNode(a,b,c);return g.mode=c,g.node_ops=WORKERFS.node_ops,g.stream_ops=WORKERFS.stream_ops,g.timestamp=(f||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),c===WORKERFS.FILE_MODE?(g.size=e.size,g.contents=e):(g.size=4096,g.contents={}),a&&(a.contents[b]=g),g},node_ops:{getattr:function(a){return{dev:1,ino:void 0,mode:a.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:a.size,atime:new Date(a.timestamp),mtime:new Date(a.timestamp),ctime:new Date(a.timestamp),blksize:4096,blocks:Math.ceil(a.size/4096)}},setattr:function(a,b){void 0!==b.mode&&(a.mode=b.mode),void 0!==b.timestamp&&(a.timestamp=b.timestamp)},lookup:function(a,b){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(a,b,c,d){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(a,b,c){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(a,b){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(a,b){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(a){var b=[".",".."];for(var c in a.contents)a.contents.hasOwnProperty(c)&&b.push(c);return b},symlink:function(a,b,c){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(a){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(a,b,c,d,e){if(e>=a.node.size)return 0;var f=a.node.contents.slice(e,e+d),g=WORKERFS.reader.readAsArrayBuffer(f);return b.set(new Uint8Array(g),c),f.size},write:function(a,b,c,d,e){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(a,b,c){var d=b;if(1===c?d+=a.position:2===c&&FS.isFile(a.node.mode)&&(d+=a.node.size),d<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return d}}};STATICTOP+=16,STATICTOP+=16,STATICTOP+=16;var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(a){if(!(a instanceof FS.ErrnoError))throw a+" : "+stackTrace();return ___setErrNo(a.errno)},lookupPath:function(a,b){if(a=PATH.resolve(FS.cwd(),a),b=b||{},!a)return{path:"",node:null};var c={follow_mount:!0,recurse_count:0};for(var d in c)void 0===b[d]&&(b[d]=c[d]);if(b.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var e=PATH.normalizeArray(a.split("/").filter(function(a){return!!a}),!1),f=FS.root,g="/",h=0;h<e.length;h++){var i=h===e.length-1;if(i&&b.parent)break;if(f=FS.lookupNode(f,e[h]),g=PATH.join2(g,e[h]),FS.isMountpoint(f)&&(!i||i&&b.follow_mount)&&(f=f.mounted.root),!i||b.follow)for(var j=0;FS.isLink(f.mode);){var k=FS.readlink(g);g=PATH.resolve(PATH.dirname(g),k);var l=FS.lookupPath(g,{recurse_count:b.recurse_count});if(f=l.node,j++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:g,node:f}},getPath:function(a){for(var b;;){if(FS.isRoot(a)){var c=a.mount.mountpoint;return b?"/"!==c[c.length-1]?c+"/"+b:c+b:c}b=b?a.name+"/"+b:a.name,a=a.parent}},hashName:function(a,b){for(var c=0,d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>0)%FS.nameTable.length},hashAddNode:function(a){var b=FS.hashName(a.parent.id,a.name);a.name_next=FS.nameTable[b],FS.nameTable[b]=a},hashRemoveNode:function(a){var b=FS.hashName(a.parent.id,a.name);if(FS.nameTable[b]===a)FS.nameTable[b]=a.name_next;else for(var c=FS.nameTable[b];c;){if(c.name_next===a){c.name_next=a.name_next;break}c=c.name_next}},lookupNode:function(a,b){var c=FS.mayLookup(a);if(c)throw new FS.ErrnoError(c,a);for(var d=FS.hashName(a.id,b),e=FS.nameTable[d];e;e=e.name_next){var f=e.name;if(e.parent.id===a.id&&f===b)return e}return FS.lookup(a,b)},createNode:function(a,b,c,d){if(!FS.FSNode){FS.FSNode=function(a,b,c,d){a||(a=this),this.parent=a,this.mount=a.mount,this.mounted=null,this.id=FS.nextInode++,this.name=b,this.mode=c,this.node_ops={},this.stream_ops={},this.rdev=d},FS.FSNode.prototype={};var e=365,f=146;Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return(this.mode&e)===e},set:function(a){a?this.mode|=e:this.mode&=~e}},write:{get:function(){return(this.mode&f)===f},set:function(a){a?this.mode|=f:this.mode&=~f}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var g=new FS.FSNode(a,b,c,d);return FS.hashAddNode(g),g},destroyNode:function(a){FS.hashRemoveNode(a)},isRoot:function(a){return a===a.parent},isMountpoint:function(a){return!!a.mounted},isFile:function(a){return 32768===(61440&a)},isDir:function(a){return 16384===(61440&a)},isLink:function(a){return 40960===(61440&a)},isChrdev:function(a){return 8192===(61440&a)},isBlkdev:function(a){return 24576===(61440&a)},isFIFO:function(a){return 4096===(61440&a)},isSocket:function(a){return 49152===(49152&a)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(a){var b=FS.flagModes[a];if("undefined"==typeof b)throw new Error("Unknown file open mode: "+a);return b},flagsToPermissionString:function(a){var b=["r","w","rw"][3&a];return 512&a&&(b+="w"),b},nodePermissions:function(a,b){return FS.ignorePermissions?0:(b.indexOf("r")===-1||292&a.mode)&&(b.indexOf("w")===-1||146&a.mode)&&(b.indexOf("x")===-1||73&a.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(a){var b=FS.nodePermissions(a,"x");return b?b:a.node_ops.lookup?0:ERRNO_CODES.EACCES},mayCreate:function(a,b){try{FS.lookupNode(a,b);return ERRNO_CODES.EEXIST}catch(a){}return FS.nodePermissions(a,"wx")},mayDelete:function(a,b,c){var d;try{d=FS.lookupNode(a,b)}catch(a){return a.errno}var e=FS.nodePermissions(a,"wx");if(e)return e;if(c){if(!FS.isDir(d.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(d)||FS.getPath(d)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(d.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(a,b){return a?FS.isLink(a.mode)?ERRNO_CODES.ELOOP:FS.isDir(a.mode)&&("r"!==FS.flagsToPermissionString(b)||512&b)?ERRNO_CODES.EISDIR:FS.nodePermissions(a,FS.flagsToPermissionString(b)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(a,b){a=a||0,b=b||FS.MAX_OPEN_FDS;for(var c=a;c<=b;c++)if(!FS.streams[c])return c;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(a){return FS.streams[a]},createStream:function(a,b,c){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(a){this.node=a}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var d=new FS.FSStream;for(var e in a)d[e]=a[e];a=d;var f=FS.nextfd(b,c);return a.fd=f,FS.streams[f]=a,a},closeStream:function(a){FS.streams[a]=null},chrdev_stream_ops:{open:function(a){var b=FS.getDevice(a.node.rdev);a.stream_ops=b.stream_ops,a.stream_ops.open&&a.stream_ops.open(a)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(a){return a>>8},minor:function(a){return 255&a},makedev:function(a,b){return a<<8|b},registerDevice:function(a,b){FS.devices[a]={stream_ops:b}},getDevice:function(a){return FS.devices[a]},getMounts:function(a){for(var b=[],c=[a];c.length;){var d=c.pop();b.push(d),c.push.apply(c,d.mounts)}return b},syncfs:function(a,b){function c(a){return assert(FS.syncFSRequests>0),FS.syncFSRequests--,b(a)}function d(a){if(a){if(!d.errored)return d.errored=!0,c(a)}else++f>=e.length&&c(null)}"function"==typeof a&&(b=a,a=!1),FS.syncFSRequests++,FS.syncFSRequests>1&&console.log("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var e=FS.getMounts(FS.root.mount),f=0;e.forEach(function(b){return b.type.syncfs?void b.type.syncfs(b,a,d):d(null)})},mount:function(a,b,c){var d,e="/"===c,f=!c;if(e&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!e&&!f){var g=FS.lookupPath(c,{follow_mount:!1});if(c=g.path,d=g.node,FS.isMountpoint(d))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(d.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var h={type:a,opts:b,mountpoint:c,mounts:[]},i=a.mount(h);return i.mount=h,h.root=i,e?FS.root=i:d&&(d.mounted=h,d.mount&&d.mount.mounts.push(h)),i},unmount:function(a){var b=FS.lookupPath(a,{follow_mount:!1});if(!FS.isMountpoint(b.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var c=b.node,d=c.mounted,e=FS.getMounts(d);Object.keys(FS.nameTable).forEach(function(a){for(var b=FS.nameTable[a];b;){var c=b.name_next;e.indexOf(b.mount)!==-1&&FS.destroyNode(b),b=c}}),c.mounted=null;var f=c.mount.mounts.indexOf(d);assert(f!==-1),c.mount.mounts.splice(f,1)},lookup:function(a,b){return a.node_ops.lookup(a,b)},mknod:function(a,b,c){var d=FS.lookupPath(a,{parent:!0}),e=d.node,f=PATH.basename(a);if(!f||"."===f||".."===f)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var g=FS.mayCreate(e,f);if(g)throw new FS.ErrnoError(g);if(!e.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return e.node_ops.mknod(e,f,b,c)},create:function(a,b){return b=void 0!==b?b:438,b&=4095,b|=32768,FS.mknod(a,b,0)},mkdir:function(a,b){return b=void 0!==b?b:511,b&=1023,b|=16384,FS.mknod(a,b,0)},mkdirTree:function(a,b){for(var c=a.split("/"),d="",e=0;e<c.length;++e)if(c[e]){d+="/"+c[e];try{FS.mkdir(d,b)}catch(a){if(a.errno!=ERRNO_CODES.EEXIST)throw a}}},mkdev:function(a,b,c){return"undefined"==typeof c&&(c=b,b=438),b|=8192,FS.mknod(a,b,c)},symlink:function(a,b){if(!PATH.resolve(a))throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var c=FS.lookupPath(b,{parent:!0}),d=c.node;if(!d)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var e=PATH.basename(b),f=FS.mayCreate(d,e);if(f)throw new FS.ErrnoError(f);if(!d.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return d.node_ops.symlink(d,e,a)},rename:function(a,b){var c,d,e,f=PATH.dirname(a),g=PATH.dirname(b),h=PATH.basename(a),i=PATH.basename(b);try{c=FS.lookupPath(a,{parent:!0}),d=c.node,c=FS.lookupPath(b,{parent:!0}),e=c.node}catch(a){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!d||!e)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(d.mount!==e.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var j=FS.lookupNode(d,h),k=PATH.relative(a,g);if("."!==k.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(k=PATH.relative(b,f),"."!==k.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);var l;try{l=FS.lookupNode(e,i)}catch(a){}if(j!==l){var m=FS.isDir(j.mode),n=FS.mayDelete(d,h,m);if(n)throw new FS.ErrnoError(n);if(n=l?FS.mayDelete(e,i,m):FS.mayCreate(e,i))throw new FS.ErrnoError(n);if(!d.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(j)||l&&FS.isMountpoint(l))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(e!==d&&(n=FS.nodePermissions(d,"w")))throw new FS.ErrnoError(n);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(a,b)}catch(c){console.log("FS.trackingDelegate['willMovePath']('"+a+"', '"+b+"') threw an exception: "+c.message)}FS.hashRemoveNode(j);try{d.node_ops.rename(j,e,i)}catch(a){throw a}finally{FS.hashAddNode(j)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(a,b)}catch(c){console.log("FS.trackingDelegate['onMovePath']('"+a+"', '"+b+"') threw an exception: "+c.message)}}},rmdir:function(a){var b=FS.lookupPath(a,{parent:!0}),c=b.node,d=PATH.basename(a),e=FS.lookupNode(c,d),f=FS.mayDelete(c,d,!0);if(f)throw new FS.ErrnoError(f);if(!c.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(e))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(a)}catch(b){console.log("FS.trackingDelegate['willDeletePath']('"+a+"') threw an exception: "+b.message)}c.node_ops.rmdir(c,d),FS.destroyNode(e);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(a)}catch(b){console.log("FS.trackingDelegate['onDeletePath']('"+a+"') threw an exception: "+b.message)}},readdir:function(a){var b=FS.lookupPath(a,{follow:!0}),c=b.node;if(!c.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return c.node_ops.readdir(c)},unlink:function(a){var b=FS.lookupPath(a,{parent:!0}),c=b.node,d=PATH.basename(a),e=FS.lookupNode(c,d),f=FS.mayDelete(c,d,!1);if(f)throw new FS.ErrnoError(f);if(!c.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(e))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(a)}catch(b){console.log("FS.trackingDelegate['willDeletePath']('"+a+"') threw an exception: "+b.message)}c.node_ops.unlink(c,d),FS.destroyNode(e);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(a)}catch(b){console.log("FS.trackingDelegate['onDeletePath']('"+a+"') threw an exception: "+b.message)}},readlink:function(a){var b=FS.lookupPath(a),c=b.node;if(!c)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!c.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return PATH.resolve(FS.getPath(c.parent),c.node_ops.readlink(c))},stat:function(a,b){var c=FS.lookupPath(a,{follow:!b}),d=c.node;if(!d)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!d.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return d.node_ops.getattr(d)},lstat:function(a){return FS.stat(a,!0)},chmod:function(a,b,c){var d;if("string"==typeof a){var e=FS.lookupPath(a,{follow:!c});d=e.node}else d=a;if(!d.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);d.node_ops.setattr(d,{mode:4095&b|d.mode&-4096,timestamp:Date.now()})},lchmod:function(a,b){FS.chmod(a,b,!0)},fchmod:function(a,b){var c=FS.getStream(a);if(!c)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(c.node,b)},chown:function(a,b,c,d){var e;if("string"==typeof a){var f=FS.lookupPath(a,{follow:!d});e=f.node}else e=a;if(!e.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);e.node_ops.setattr(e,{timestamp:Date.now()})},lchown:function(a,b,c){FS.chown(a,b,c,!0)},fchown:function(a,b,c){var d=FS.getStream(a);if(!d)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(d.node,b,c)},truncate:function(a,b){if(b<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var c;if("string"==typeof a){var d=FS.lookupPath(a,{follow:!0});c=d.node}else c=a;if(!c.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(c.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(c.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var e=FS.nodePermissions(c,"w");if(e)throw new FS.ErrnoError(e);c.node_ops.setattr(c,{size:b,timestamp:Date.now()})},ftruncate:function(a,b){var c=FS.getStream(a);if(!c)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0===(2097155&c.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(c.node,b)},utime:function(a,b,c){var d=FS.lookupPath(a,{follow:!0}),e=d.node;e.node_ops.setattr(e,{timestamp:Math.max(b,c)})},open:function(a,b,c,d,e){if(""===a)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);b="string"==typeof b?FS.modeStringToFlags(b):b,c="undefined"==typeof c?438:c,c=64&b?4095&c|32768:0;var f;if("object"==typeof a)f=a;else{a=PATH.normalize(a);try{var g=FS.lookupPath(a,{follow:!(131072&b)});f=g.node}catch(a){}}var h=!1;if(64&b)if(f){if(128&b)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else f=FS.mknod(a,c,0),h=!0;if(!f)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(FS.isChrdev(f.mode)&&(b&=-513),65536&b&&!FS.isDir(f.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);if(!h){var i=FS.mayOpen(f,b);if(i)throw new FS.ErrnoError(i)}512&b&&FS.truncate(f,0),b&=-641;var j=FS.createStream({node:f,path:FS.getPath(f),flags:b,seekable:!0,position:0,stream_ops:f.stream_ops,ungotten:[],error:!1},d,e);j.stream_ops.open&&j.stream_ops.open(j),!Module.logReadFiles||1&b||(FS.readFiles||(FS.readFiles={}),a in FS.readFiles||(FS.readFiles[a]=1,i("read file: "+a)));try{if(FS.trackingDelegate.onOpenFile){var k=0;1!==(2097155&b)&&(k|=FS.tracking.openFlags.READ),0!==(2097155&b)&&(k|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(a,k)}}catch(b){console.log("FS.trackingDelegate['onOpenFile']('"+a+"', flags) threw an exception: "+b.message)}return j},close:function(a){if(FS.isClosed(a))throw new FS.ErrnoError(ERRNO_CODES.EBADF);a.getdents&&(a.getdents=null);try{a.stream_ops.close&&a.stream_ops.close(a)}catch(a){throw a}finally{FS.closeStream(a.fd)}a.fd=null},isClosed:function(a){return null===a.fd},llseek:function(a,b,c){if(FS.isClosed(a))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!a.seekable||!a.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return a.position=a.stream_ops.llseek(a,b,c),a.ungotten=[],a.position},read:function(a,b,c,d,e){if(d<0||e<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(FS.isClosed(a))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(1===(2097155&a.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(a.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!a.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var f="undefined"!=typeof e;if(f){if(!a.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}else e=a.position;var g=a.stream_ops.read(a,b,c,d,e);return f||(a.position+=g),g},write:function(a,b,c,d,e,f){if(d<0||e<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(FS.isClosed(a))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0===(2097155&a.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(a.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!a.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&a.flags&&FS.llseek(a,0,2);var g="undefined"!=typeof e;if(g){if(!a.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}else e=a.position;var h=a.stream_ops.write(a,b,c,d,e,f);g||(a.position+=h);try{a.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(a.path)}catch(a){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+a.message)}return h},allocate:function(a,b,c){if(FS.isClosed(a))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(b<0||c<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0===(2097155&a.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(a.node.mode)&&!FS.isDir(a.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!a.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);a.stream_ops.allocate(a,b,c)},mmap:function(a,b,c,d,e,f,g){if(1===(2097155&a.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!a.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return a.stream_ops.mmap(a,b,c,d,e,f,g)},msync:function(a,b,c,d,e){return a&&a.stream_ops.msync?a.stream_ops.msync(a,b,c,d,e):0},munmap:function(a){return 0},ioctl:function(a,b,c){if(!a.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return a.stream_ops.ioctl(a,b,c)},readFile:function(a,b){if(b=b||{},b.flags=b.flags||"r",b.encoding=b.encoding||"binary","utf8"!==b.encoding&&"binary"!==b.encoding)throw new Error('Invalid encoding type "'+b.encoding+'"');var c,d=FS.open(a,b.flags),e=FS.stat(a),f=e.size,g=new Uint8Array(f);return FS.read(d,g,0,f,0),"utf8"===b.encoding?c=UTF8ArrayToString(g,0):"binary"===b.encoding&&(c=g),FS.close(d),c},writeFile:function(a,b,c){c=c||{},c.flags=c.flags||"w";var d=FS.open(a,c.flags,c.mode);if("string"==typeof b){var e=new Uint8Array(lengthBytesUTF8(b)+1),f=stringToUTF8Array(b,e,0,e.length);FS.write(d,e,0,f,void 0,c.canOwn)}else{if(!ArrayBuffer.isView(b))throw new Error("Unsupported data type");FS.write(d,b,0,b.byteLength,void 0,c.canOwn)}FS.close(d)},cwd:function(){return FS.currentPath},chdir:function(a){var b=FS.lookupPath(a,{follow:!0});if(null===b.node)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!FS.isDir(b.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var c=FS.nodePermissions(b.node,"x");if(c)throw new FS.ErrnoError(c);FS.currentPath=b.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(a,b,c,d,e){return d}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0));var a;if("undefined"!=typeof crypto){var b=new Uint8Array(1);a=function(){return crypto.getRandomValues(b),b[0]}}else a=ENVIRONMENT_IS_NODE?function(){return require("crypto").randomBytes(1)[0]}:function(){return 256*Math.random()|0};FS.createDevice("/dev","random",a),FS.createDevice("/dev","urandom",a),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var a=FS.createNode("/proc/self","fd",16895,73);return a.node_ops={lookup:function(a,b){var c=+b,d=FS.getStream(c);if(!d)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var e={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return d.path}}};return e.parent=e,e}},a}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var a=FS.open("/dev/stdin","r");assert(0===a.fd,"invalid handle for stdin ("+a.fd+")");var b=FS.open("/dev/stdout","w");assert(1===b.fd,"invalid handle for stdout ("+b.fd+")");var c=FS.open("/dev/stderr","w");assert(2===c.fd,"invalid handle for stderr ("+c.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(a,b){this.node=b,this.setErrno=function(a){this.errno=a;for(var b in ERRNO_CODES)if(ERRNO_CODES[b]===a){this.code=b;break}},this.setErrno(a),this.message=ERRNO_MESSAGES[a],this.stack&&Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0})},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(a){FS.genericErrors[a]=new FS.ErrnoError(a),FS.genericErrors[a].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,
NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(a,b,c){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=a||Module.stdin,Module.stdout=b||Module.stdout,Module.stderr=c||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var a=Module._fflush;a&&a(0);for(var b=0;b<FS.streams.length;b++){var c=FS.streams[b];c&&FS.close(c)}},getMode:function(a,b){var c=0;return a&&(c|=365),b&&(c|=146),c},joinPath:function(a,b){var c=PATH.join.apply(null,a);return b&&"/"==c[0]&&(c=c.substr(1)),c},absolutePath:function(a,b){return PATH.resolve(b,a)},standardizePath:function(a){return PATH.normalize(a)},findObject:function(a,b){var c=FS.analyzePath(a,b);return c.exists?c.object:(___setErrNo(c.error),null)},analyzePath:function(a,b){try{var c=FS.lookupPath(a,{follow:!b});a=c.path}catch(a){}var d={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var c=FS.lookupPath(a,{parent:!0});d.parentExists=!0,d.parentPath=c.path,d.parentObject=c.node,d.name=PATH.basename(a),c=FS.lookupPath(a,{follow:!b}),d.exists=!0,d.path=c.path,d.object=c.node,d.name=c.node.name,d.isRoot="/"===c.path}catch(a){d.error=a.errno}return d},createFolder:function(a,b,c,d){var e=PATH.join2("string"==typeof a?a:FS.getPath(a),b),f=FS.getMode(c,d);return FS.mkdir(e,f)},createPath:function(a,b,c,d){a="string"==typeof a?a:FS.getPath(a);for(var e=b.split("/").reverse();e.length;){var f=e.pop();if(f){var g=PATH.join2(a,f);try{FS.mkdir(g)}catch(a){}a=g}}return g},createFile:function(a,b,c,d,e){var f=PATH.join2("string"==typeof a?a:FS.getPath(a),b),g=FS.getMode(d,e);return FS.create(f,g)},createDataFile:function(a,b,c,d,e,f){var g=b?PATH.join2("string"==typeof a?a:FS.getPath(a),b):a,h=FS.getMode(d,e),i=FS.create(g,h);if(c){if("string"==typeof c){for(var j=new Array(c.length),k=0,l=c.length;k<l;++k)j[k]=c.charCodeAt(k);c=j}FS.chmod(i,146|h);var m=FS.open(i,"w");FS.write(m,c,0,c.length,0,f),FS.close(m),FS.chmod(i,h)}return i},createDevice:function(a,b,c,d){var e=PATH.join2("string"==typeof a?a:FS.getPath(a),b),f=FS.getMode(!!c,!!d);FS.createDevice.major||(FS.createDevice.major=64);var g=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(g,{open:function(a){a.seekable=!1},close:function(a){d&&d.buffer&&d.buffer.length&&d(10)},read:function(a,b,d,e,f){for(var g=0,h=0;h<e;h++){var i;try{i=c()}catch(a){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===i&&0===g)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===i||void 0===i)break;g++,b[d+h]=i}return g&&(a.node.timestamp=Date.now()),g},write:function(a,b,c,e,f){for(var g=0;g<e;g++)try{d(b[c+g])}catch(a){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return e&&(a.node.timestamp=Date.now()),g}}),FS.mkdev(e,f,g)},createLink:function(a,b,c,d,e){var f=PATH.join2("string"==typeof a?a:FS.getPath(a),b);return FS.symlink(c,f)},forceLoadFile:function(a){if(a.isDevice||a.isFolder||a.link||a.contents)return!0;var b=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{a.contents=intArrayFromString(Module.read(a.url),!0),a.usedBytes=a.contents.length}catch(a){b=!1}return b||___setErrNo(ERRNO_CODES.EIO),b},createLazyFile:function(a,b,c,d,e){function f(){this.lengthKnown=!1,this.chunks=[]}if(f.prototype.get=function(a){if(!(a>this.length-1||a<0)){var b=a%this.chunkSize,c=a/this.chunkSize|0;return this.getter(c)[b]}},f.prototype.setDataGetter=function(a){this.getter=a},f.prototype.cacheLength=function(){var a=new XMLHttpRequest;if(a.open("HEAD",c,!1),a.send(null),!(a.status>=200&&a.status<300||304===a.status))throw new Error("Couldn't load "+c+". Status: "+a.status);var b,d=Number(a.getResponseHeader("Content-length")),e=(b=a.getResponseHeader("Accept-Ranges"))&&"bytes"===b,f=(b=a.getResponseHeader("Content-Encoding"))&&"gzip"===b,g=1048576;e||(g=d);var h=function(a,b){if(a>b)throw new Error("invalid range ("+a+", "+b+") or no bytes requested!");if(b>d-1)throw new Error("only "+d+" bytes available! programmer error!");var e=new XMLHttpRequest;if(e.open("GET",c,!1),d!==g&&e.setRequestHeader("Range","bytes="+a+"-"+b),"undefined"!=typeof Uint8Array&&(e.responseType="arraybuffer"),e.overrideMimeType&&e.overrideMimeType("text/plain; charset=x-user-defined"),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+c+". Status: "+e.status);return void 0!==e.response?new Uint8Array(e.response||[]):intArrayFromString(e.responseText||"",!0)},i=this;i.setDataGetter(function(a){var b=a*g,c=(a+1)*g-1;if(c=Math.min(c,d-1),"undefined"==typeof i.chunks[a]&&(i.chunks[a]=h(b,c)),"undefined"==typeof i.chunks[a])throw new Error("doXHR failed!");return i.chunks[a]}),!f&&d||(g=d=1,d=this.getter(0).length,g=d,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=d,this._chunkSize=g,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var g=new f;Object.defineProperties(g,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var h={isDevice:!1,contents:g}}else var h={isDevice:!1,url:c};var i=FS.createFile(a,b,h,d,e);h.contents?i.contents=h.contents:h.url&&(i.contents=null,i.url=h.url),Object.defineProperties(i,{usedBytes:{get:function(){return this.contents.length}}});var j={},k=Object.keys(i.stream_ops);return k.forEach(function(a){var b=i.stream_ops[a];j[a]=function(){if(!FS.forceLoadFile(i))throw new FS.ErrnoError(ERRNO_CODES.EIO);return b.apply(null,arguments)}}),j.read=function(a,b,c,d,e){if(!FS.forceLoadFile(i))throw new FS.ErrnoError(ERRNO_CODES.EIO);var f=a.node.contents;if(e>=f.length)return 0;var g=Math.min(f.length-e,d);if(assert(g>=0),f.slice)for(var h=0;h<g;h++)b[c+h]=f[e+h];else for(var h=0;h<g;h++)b[c+h]=f.get(e+h);return g},i.stream_ops=j,i},createPreloadedFile:function(a,b,c,d,e,f,g,h,i,j){function k(c){function k(c){j&&j(),h||FS.createDataFile(a,b,c,d,e,i),f&&f(),removeRunDependency(m)}var n=!1;Module.preloadPlugins.forEach(function(a){n||a.canHandle(l)&&(a.handle(c,l,k,function(){g&&g(),removeRunDependency(m)}),n=!0)}),n||k(c)}Browser.init();var l=b?PATH.resolve(PATH.join2(a,b)):a,m=getUniqueRunDependency("cp "+l);addRunDependency(m),"string"==typeof c?Browser.asyncLoad(c,function(a){k(a)},g):k(c)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(a,b,c){b=b||function(){},c=c||function(){};var d=FS.indexedDB();try{var e=d.open(FS.DB_NAME(),FS.DB_VERSION)}catch(a){return c(a)}e.onupgradeneeded=function(){console.log("creating db");var a=e.result;a.createObjectStore(FS.DB_STORE_NAME)},e.onsuccess=function(){function d(){0==j?b():c()}var f=e.result,g=f.transaction([FS.DB_STORE_NAME],"readwrite"),h=g.objectStore(FS.DB_STORE_NAME),i=0,j=0,k=a.length;a.forEach(function(a){var b=h.put(FS.analyzePath(a).object.contents,a);b.onsuccess=function(){i++,i+j==k&&d()},b.onerror=function(){j++,i+j==k&&d()}}),g.onerror=c},e.onerror=c},loadFilesFromDB:function(a,b,c){b=b||function(){},c=c||function(){};var d=FS.indexedDB();try{var e=d.open(FS.DB_NAME(),FS.DB_VERSION)}catch(a){return c(a)}e.onupgradeneeded=c,e.onsuccess=function(){function d(){0==j?b():c()}var f=e.result;try{var g=f.transaction([FS.DB_STORE_NAME],"readonly")}catch(a){return void c(a)}var h=g.objectStore(FS.DB_STORE_NAME),i=0,j=0,k=a.length;a.forEach(function(a){var b=h.get(a);b.onsuccess=function(){FS.analyzePath(a).exists&&FS.unlink(a),FS.createDataFile(PATH.dirname(a),PATH.basename(a),b.result,!0,!0,!0),i++,i+j==k&&d()},b.onerror=function(){j++,i+j==k&&d()}}),g.onerror=c},e.onerror=c}},SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(a,b){if("/"!==b[0]){var c;if(a===-100)c=FS.cwd();else{var d=FS.getStream(a);if(!d)throw new FS.ErrnoError(ERRNO_CODES.EBADF);c=d.path}b=PATH.join2(c,b)}return b},doStat:function(a,b,c){try{var d=a(b)}catch(a){if(a&&a.node&&PATH.normalize(b)!==PATH.normalize(FS.getPath(a.node)))return-ERRNO_CODES.ENOTDIR;throw a}return HEAP32[c>>2]=d.dev,HEAP32[c+4>>2]=0,HEAP32[c+8>>2]=d.ino,HEAP32[c+12>>2]=d.mode,HEAP32[c+16>>2]=d.nlink,HEAP32[c+20>>2]=d.uid,HEAP32[c+24>>2]=d.gid,HEAP32[c+28>>2]=d.rdev,HEAP32[c+32>>2]=0,HEAP32[c+36>>2]=d.size,HEAP32[c+40>>2]=4096,HEAP32[c+44>>2]=d.blocks,HEAP32[c+48>>2]=d.atime.getTime()/1e3|0,HEAP32[c+52>>2]=0,HEAP32[c+56>>2]=d.mtime.getTime()/1e3|0,HEAP32[c+60>>2]=0,HEAP32[c+64>>2]=d.ctime.getTime()/1e3|0,HEAP32[c+68>>2]=0,HEAP32[c+72>>2]=d.ino,0},doMsync:function(a,b,c,d){var e=new Uint8Array(HEAPU8.subarray(a,a+c));FS.msync(b,e,0,c,d)},doMkdir:function(a,b){return a=PATH.normalize(a),"/"===a[a.length-1]&&(a=a.substr(0,a.length-1)),FS.mkdir(a,b,0),0},doMknod:function(a,b,c){switch(61440&b){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}return FS.mknod(a,b,c),0},doReadlink:function(a,b,c){if(c<=0)return-ERRNO_CODES.EINVAL;var d=FS.readlink(a),e=Math.min(c,lengthBytesUTF8(d)),f=HEAP8[b+e];return stringToUTF8(d,b,c+1),HEAP8[b+e]=f,e},doAccess:function(a,b){if(b&-8)return-ERRNO_CODES.EINVAL;var c,d=FS.lookupPath(a,{follow:!0});c=d.node;var e="";return 4&b&&(e+="r"),2&b&&(e+="w"),1&b&&(e+="x"),e&&FS.nodePermissions(c,e)?-ERRNO_CODES.EACCES:0},doDup:function(a,b,c){var d=FS.getStream(c);return d&&FS.close(d),FS.open(a,b,0,c,c).fd},doReadv:function(a,b,c,d){for(var e=0,f=0;f<c;f++){var g=HEAP32[b+8*f>>2],h=HEAP32[b+(8*f+4)>>2],i=FS.read(a,HEAP8,g,h,d);if(i<0)return-1;if(e+=i,i<h)break}return e},doWritev:function(a,b,c,d){for(var e=0,f=0;f<c;f++){var g=HEAP32[b+8*f>>2],h=HEAP32[b+(8*f+4)>>2],i=FS.write(a,HEAP8,g,h,d);if(i<0)return-1;e+=i}return e},varargs:0,get:function(a){SYSCALLS.varargs+=4;var b=HEAP32[SYSCALLS.varargs-4>>2];return b},getStr:function(){var a=Pointer_stringify(SYSCALLS.get());return a},getStreamFromFD:function(){var a=FS.getStream(SYSCALLS.get());if(!a)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return a},getSocketFromFD:function(){var a=SOCKFS.getSocket(SYSCALLS.get());if(!a)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return a},getSocketAddress:function(a){var b=SYSCALLS.get(),c=SYSCALLS.get();if(a&&0===b)return null;var d=__read_sockaddr(b,c);if(d.errno)throw new FS.ErrnoError(d.errno);return d.addr=DNS.lookup_addr(d.addr)||d.addr,d},get64:function(){var a=SYSCALLS.get(),b=SYSCALLS.get();return assert(a>=0?0===b:b===-1),a},getZero:function(){assert(0===SYSCALLS.get())}},embind_charCodes=void 0,awaitingDependencies={},registeredTypes={},typeDependencies={},char_0=48,char_9=57,BindingError=void 0,InternalError=void 0,delayFunction=void 0,deletionQueue=[],registeredPointers={},registeredInstances={},UnboundTypeError=void 0,emval_free_list=[],emval_handle_array=[{},{value:void 0},{value:null},{value:!0},{value:!1}],emval_symbols={},emval_methodCallers=[],_llvm_ceil_f32=Math_ceil,_llvm_ceil_f64=Math_ceil,_llvm_fabs_f32=Math_abs,_llvm_fabs_f64=Math_abs,_llvm_floor_f32=Math_floor,_llvm_floor_f64=Math_floor,PTHREAD_SPECIFIC={},PTHREAD_SPECIFIC_NEXT_KEY=1,__MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31],__MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];if(FS.staticInit(),__ATINIT__.unshift(function(){Module.noFSInit||FS.init.initialized||FS.init()}),__ATMAIN__.push(function(){FS.ignorePermissions=!1}),__ATEXIT__.push(function(){FS.quit()}),Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,Module.FS_unlink=FS.unlink,__ATINIT__.unshift(function(){TTY.init()}),__ATEXIT__.push(function(){TTY.shutdown()}),ENVIRONMENT_IS_NODE){var fs=require("fs"),NODEJS_PATH=require("path");NODEFS.staticInit()}embind_init_charCodes(),BindingError=Module.BindingError=extendError(Error,"BindingError"),InternalError=Module.InternalError=extendError(Error,"InternalError"),init_ClassHandle(),init_RegisteredPointer(),init_embind(),UnboundTypeError=Module.UnboundTypeError=extendError(Error,"UnboundTypeError"),init_emval(),_emscripten_get_now=ENVIRONMENT_IS_NODE?function(){var a=process.hrtime();return 1e3*a[0]+a[1]/1e6}:"undefined"!=typeof dateNow?dateNow:"object"==typeof self&&self.performance&&"function"==typeof self.performance.now?function(){return self.performance.now()}:"object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,DYNAMICTOP_PTR=staticAlloc(4),STACK_BASE=STACKTOP=alignMemory(STATICTOP),STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=alignMemory(STACK_MAX),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE,staticSealed=!0;var ASSERTIONS=!1;Module.wasmTableSize=9906,Module.wasmMaxTableSize=9906,Module.asmGlobalArg={},Module.asmLibraryArg={abort:abort,assert:assert,enlargeMemory:enlargeMemory,getTotalMemory:getTotalMemory,abortOnCannotGrowMemory:abortOnCannotGrowMemory,invoke_di:invoke_di,invoke_dii:invoke_dii,invoke_diii:invoke_diii,invoke_diiii:invoke_diiii,invoke_fii:invoke_fii,invoke_fiii:invoke_fiii,invoke_fiiii:invoke_fiiii,invoke_i:invoke_i,invoke_iddii:invoke_iddii,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiid:invoke_iiid,invoke_iiidd:invoke_iiidd,invoke_iiii:invoke_iiii,invoke_iiiidd:invoke_iiiidd,invoke_iiiidddddddddddddddddddd:invoke_iiiidddddddddddddddddddd,invoke_iiiidi:invoke_iiiidi,invoke_iiiii:invoke_iiiii,invoke_iiiiid:invoke_iiiiid,invoke_iiiiidiid:invoke_iiiiidiid,invoke_iiiiii:invoke_iiiiii,invoke_iiiiiid:invoke_iiiiiid,invoke_iiiiiifiididiii:invoke_iiiiiifiididiii,invoke_iiiiiii:invoke_iiiiiii,invoke_iiiiiiid:invoke_iiiiiiid,invoke_iiiiiiii:invoke_iiiiiiii,invoke_iiiiiiiii:invoke_iiiiiiiii,invoke_iiiiiiiiii:invoke_iiiiiiiiii,invoke_iiiiiiiiiii:invoke_iiiiiiiiiii,invoke_iiiiiiiiiiii:invoke_iiiiiiiiiiii,invoke_iiiiiiiiiiiii:invoke_iiiiiiiiiiiii,invoke_iiiiij:invoke_iiiiij,invoke_iiij:invoke_iiij,invoke_ji:invoke_ji,invoke_jii:invoke_jii,invoke_jiii:invoke_jiii,invoke_jiiii:invoke_jiiii,invoke_jiji:invoke_jiji,invoke_v:invoke_v,invoke_vddiiii:invoke_vddiiii,invoke_vdiii:invoke_vdiii,invoke_vi:invoke_vi,invoke_vid:invoke_vid,invoke_vidi:invoke_vidi,invoke_vididdii:invoke_vididdii,invoke_vidii:invoke_vidii,invoke_vifi:invoke_vifi,invoke_vii:invoke_vii,invoke_viid:invoke_viid,invoke_viidd:invoke_viidd,invoke_viidi:invoke_viidi,invoke_viididii:invoke_viididii,invoke_viii:invoke_viii,invoke_viiid:invoke_viiid,invoke_viiidd:invoke_viiidd,invoke_viiidddd:invoke_viiidddd,invoke_viiiddi:invoke_viiiddi,invoke_viiidi:invoke_viiidi,invoke_viiidii:invoke_viiidii,invoke_viiidiii:invoke_viiidiii,invoke_viiidiiiiii:invoke_viiidiiiiii,invoke_viiif:invoke_viiif,invoke_viiii:invoke_viiii,invoke_viiiid:invoke_viiiid,invoke_viiiidi:invoke_viiiidi,invoke_viiiidid:invoke_viiiidid,invoke_viiiidiid:invoke_viiiidiid,invoke_viiiidiidiiiiiii:invoke_viiiidiidiiiiiii,invoke_viiiif:invoke_viiiif,invoke_viiiifiifiiiiiii:invoke_viiiifiifiiiiiii,invoke_viiiii:invoke_viiiii,invoke_viiiiididdi:invoke_viiiiididdi,invoke_viiiiii:invoke_viiiiii,invoke_viiiiiiddi:invoke_viiiiiiddi,invoke_viiiiiidi:invoke_viiiiiidi,invoke_viiiiiidiii:invoke_viiiiiidiii,invoke_viiiiiifii:invoke_viiiiiifii,invoke_viiiiiii:invoke_viiiiiii,invoke_viiiiiiidd:invoke_viiiiiiidd,invoke_viiiiiiiddi:invoke_viiiiiiiddi,invoke_viiiiiiii:invoke_viiiiiiii,invoke_viiiiiiiid:invoke_viiiiiiiid,invoke_viiiiiiiidd:invoke_viiiiiiiidd,invoke_viiiiiiiidf:invoke_viiiiiiiidf,invoke_viiiiiiiii:invoke_viiiiiiiii,invoke_viiiiiiiiidd:invoke_viiiiiiiiidd,invoke_viiiiiiiiiddi:invoke_viiiiiiiiiddi,invoke_viiiiiiiiii:invoke_viiiiiiiiii,invoke_viiiiiiiiiiddd:invoke_viiiiiiiiiiddd,invoke_viiiiiiiiiiddi:invoke_viiiiiiiiiiddi,invoke_viiiiiiiiiii:invoke_viiiiiiiiiii,invoke_viiiiiiiiiiid:invoke_viiiiiiiiiiid,invoke_viiiiiiiiiiii:invoke_viiiiiiiiiiii,invoke_viiiiiiiiiiiii:invoke_viiiiiiiiiiiii,invoke_viiiiiiiiiiiiii:invoke_viiiiiiiiiiiiii,invoke_viiiiiiiiiiiiiii:invoke_viiiiiiiiiiiiiii,invoke_viiiiiiiiiiiiiiiiiiidi:invoke_viiiiiiiiiiiiiiiiiiidi,invoke_viiiij:invoke_viiiij,invoke_viiij:invoke_viiij,invoke_viij:invoke_viij,invoke_viijii:invoke_viijii,invoke_vij:invoke_vij,invoke_viji:invoke_viji,ClassHandle:ClassHandle,ClassHandle_clone:ClassHandle_clone,ClassHandle_delete:ClassHandle_delete,ClassHandle_deleteLater:ClassHandle_deleteLater,ClassHandle_isAliasOf:ClassHandle_isAliasOf,ClassHandle_isDeleted:ClassHandle_isDeleted,RegisteredClass:RegisteredClass,RegisteredPointer:RegisteredPointer,RegisteredPointer_deleteObject:RegisteredPointer_deleteObject,RegisteredPointer_destructor:RegisteredPointer_destructor,RegisteredPointer_fromWireType:RegisteredPointer_fromWireType,RegisteredPointer_getPointee:RegisteredPointer_getPointee,___assert_fail:___assert_fail,___buildEnvironment:___buildEnvironment,___cxa_allocate_exception:___cxa_allocate_exception,___cxa_begin_catch:___cxa_begin_catch,___cxa_current_primary_exception:___cxa_current_primary_exception,___cxa_decrement_exception_refcount:___cxa_decrement_exception_refcount,___cxa_end_catch:___cxa_end_catch,___cxa_find_matching_catch:___cxa_find_matching_catch,___cxa_find_matching_catch_2:___cxa_find_matching_catch_2,___cxa_find_matching_catch_3:___cxa_find_matching_catch_3,___cxa_find_matching_catch_4:___cxa_find_matching_catch_4,___cxa_free_exception:___cxa_free_exception,___cxa_get_exception_ptr:___cxa_get_exception_ptr,___cxa_increment_exception_refcount:___cxa_increment_exception_refcount,___cxa_pure_virtual:___cxa_pure_virtual,___cxa_rethrow:___cxa_rethrow,___cxa_rethrow_primary_exception:___cxa_rethrow_primary_exception,___cxa_throw:___cxa_throw,___cxa_uncaught_exception:___cxa_uncaught_exception,___gxx_personality_v0:___gxx_personality_v0,___lock:___lock,___map_file:___map_file,___resumeException:___resumeException,___setErrNo:___setErrNo,___syscall140:___syscall140,___syscall145:___syscall145,___syscall146:___syscall146,___syscall192:___syscall192,___syscall195:___syscall195,___syscall197:___syscall197,___syscall221:___syscall221,___syscall3:___syscall3,___syscall4:___syscall4,___syscall5:___syscall5,___syscall54:___syscall54,___syscall6:___syscall6,___syscall91:___syscall91,___unlock:___unlock,__addDays:__addDays,__arraySum:__arraySum,__embind_register_bool:__embind_register_bool,__embind_register_class:__embind_register_class,__embind_register_class_constructor:__embind_register_class_constructor,__embind_register_class_function:__embind_register_class_function,__embind_register_class_property:__embind_register_class_property,__embind_register_emval:__embind_register_emval,__embind_register_float:__embind_register_float,__embind_register_integer:__embind_register_integer,__embind_register_memory_view:__embind_register_memory_view,__embind_register_std_string:__embind_register_std_string,__embind_register_std_wstring:__embind_register_std_wstring,__embind_register_void:__embind_register_void,__emval_addMethodCaller:__emval_addMethodCaller,__emval_allocateDestructors:__emval_allocateDestructors,__emval_as:__emval_as,__emval_call_method:__emval_call_method,__emval_decref:__emval_decref,__emval_get_global:__emval_get_global,__emval_get_method_caller:__emval_get_method_caller,__emval_get_property:__emval_get_property,__emval_incref:__emval_incref,__emval_lookupTypes:__emval_lookupTypes,__emval_new_cstring:__emval_new_cstring,__emval_new_object:__emval_new_object,__emval_register:__emval_register,__emval_run_destructors:__emval_run_destructors,__emval_set_property:__emval_set_property,__emval_take_value:__emval_take_value,__exit:__exit,__isLeapYear:__isLeapYear,_abort:_abort,_clock_gettime:_clock_gettime,_embind_repr:_embind_repr,_emscripten_get_now:_emscripten_get_now,_emscripten_get_now_is_monotonic:_emscripten_get_now_is_monotonic,_emscripten_longjmp:_emscripten_longjmp,_emscripten_memcpy_big:_emscripten_memcpy_big,_exit:_exit,_getenv:_getenv,_gettimeofday:_gettimeofday,_llvm_ceil_f32:_llvm_ceil_f32,_llvm_ceil_f64:_llvm_ceil_f64,_llvm_copysign_f64:_llvm_copysign_f64,_llvm_eh_typeid_for:_llvm_eh_typeid_for,_llvm_fabs_f32:_llvm_fabs_f32,_llvm_fabs_f64:_llvm_fabs_f64,_llvm_floor_f32:_llvm_floor_f32,_llvm_floor_f64:_llvm_floor_f64,_llvm_stackrestore:_llvm_stackrestore,_llvm_stacksave:_llvm_stacksave,_llvm_trap:_llvm_trap,_longjmp:_longjmp,_pthread_cond_destroy:_pthread_cond_destroy,_pthread_cond_init:_pthread_cond_init,_pthread_cond_signal:_pthread_cond_signal,_pthread_cond_wait:_pthread_cond_wait,_pthread_create:_pthread_create,_pthread_getspecific:_pthread_getspecific,_pthread_join:_pthread_join,_pthread_key_create:_pthread_key_create,_pthread_key_delete:_pthread_key_delete,_pthread_mutex_destroy:_pthread_mutex_destroy,_pthread_mutex_init:_pthread_mutex_init,_pthread_mutexattr_destroy:_pthread_mutexattr_destroy,_pthread_mutexattr_init:_pthread_mutexattr_init,_pthread_mutexattr_settype:_pthread_mutexattr_settype,_pthread_once:_pthread_once,_pthread_setspecific:_pthread_setspecific,_sched_yield:_sched_yield,_strftime:_strftime,_strftime_l:_strftime_l,constNoSmartPtrRawPointerToWireType:constNoSmartPtrRawPointerToWireType,count_emval_handles:count_emval_handles,craftInvokerFunction:craftInvokerFunction,createNamedFunction:createNamedFunction,downcastPointer:downcastPointer,embind__requireFunction:embind__requireFunction,embind_init_charCodes:embind_init_charCodes,emval_get_global:emval_get_global,ensureOverloadTable:ensureOverloadTable,exposePublicSymbol:exposePublicSymbol,extendError:extendError,floatReadValueFromPointer:floatReadValueFromPointer,flushPendingDeletes:flushPendingDeletes,genericPointerToWireType:genericPointerToWireType,getBasestPointer:getBasestPointer,getInheritedInstance:getInheritedInstance,getInheritedInstanceCount:getInheritedInstanceCount,getLiveInheritedInstances:getLiveInheritedInstances,getShiftFromSize:getShiftFromSize,getStringOrSymbol:getStringOrSymbol,getTypeName:getTypeName,get_first_emval:get_first_emval,heap32VectorToArray:heap32VectorToArray,init_ClassHandle:init_ClassHandle,init_RegisteredPointer:init_RegisteredPointer,init_embind:init_embind,init_emval:init_emval,integerReadValueFromPointer:integerReadValueFromPointer,makeClassHandle:makeClassHandle,makeLegalFunctionName:makeLegalFunctionName,new_:new_,nonConstNoSmartPtrRawPointerToWireType:nonConstNoSmartPtrRawPointerToWireType,readLatin1String:readLatin1String,registerType:registerType,replacePublicSymbol:replacePublicSymbol,requireHandle:requireHandle,requireRegisteredType:requireRegisteredType,runDestructor:runDestructor,runDestructors:runDestructors,setDelayFunction:setDelayFunction,shallowCopyInternalPointer:shallowCopyInternalPointer,simpleReadValueFromPointer:simpleReadValueFromPointer,throwBindingError:throwBindingError,throwInstanceAlreadyDeleted:throwInstanceAlreadyDeleted,throwInternalError:throwInternalError,throwUnboundTypeError:throwUnboundTypeError,upcastPointer:upcastPointer,validateThis:validateThis,whenDependentTypesAreResolved:whenDependentTypesAreResolved,DYNAMICTOP_PTR:DYNAMICTOP_PTR,tempDoublePtr:tempDoublePtr,ABORT:ABORT,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX};var asm=Module.asm(Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module.asm=asm;var __GLOBAL__I_000101=Module.__GLOBAL__I_000101=function(){return Module.asm.__GLOBAL__I_000101.apply(null,arguments)},__GLOBAL__sub_I_AdvFaceValidatorPP_cpp=Module.__GLOBAL__sub_I_AdvFaceValidatorPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_AdvFaceValidatorPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_AgregatedFaceValidatorPP_cpp=Module.__GLOBAL__sub_I_AgregatedFaceValidatorPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_AgregatedFaceValidatorPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_AlignOpenFace_cpp=Module.__GLOBAL__sub_I_AlignOpenFace_cpp=function(){return Module.asm.__GLOBAL__sub_I_AlignOpenFace_cpp.apply(null,arguments)},__GLOBAL__sub_I_BlockHistogramPP_cpp=Module.__GLOBAL__sub_I_BlockHistogramPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_BlockHistogramPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_CLNFModel_cpp=Module.__GLOBAL__sub_I_CLNFModel_cpp=function(){return Module.asm.__GLOBAL__sub_I_CLNFModel_cpp.apply(null,arguments)},__GLOBAL__sub_I_ConvertToGrayPP_cpp=Module.__GLOBAL__sub_I_ConvertToGrayPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_ConvertToGrayPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_ConvertToHSVPP_cpp=Module.__GLOBAL__sub_I_ConvertToHSVPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_ConvertToHSVPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_DebugFaceDistancePP_cpp=Module.__GLOBAL__sub_I_DebugFaceDistancePP_cpp=function(){return Module.asm.__GLOBAL__sub_I_DebugFaceDistancePP_cpp.apply(null,arguments)},__GLOBAL__sub_I_DetectorPP_cpp=Module.__GLOBAL__sub_I_DetectorPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_DetectorPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_EmotionRecognizerPP_cpp=Module.__GLOBAL__sub_I_EmotionRecognizerPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_EmotionRecognizerPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_EmotionRecognizer_cpp=Module.__GLOBAL__sub_I_EmotionRecognizer_cpp=function(){return Module.asm.__GLOBAL__sub_I_EmotionRecognizer_cpp.apply(null,arguments)},__GLOBAL__sub_I_ExternalRecognizerPP_cpp=Module.__GLOBAL__sub_I_ExternalRecognizerPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_ExternalRecognizerPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_ExtractWindowPP_cpp=Module.__GLOBAL__sub_I_ExtractWindowPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_ExtractWindowPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_Face2VecPP_cpp=Module.__GLOBAL__sub_I_Face2VecPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_Face2VecPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_FaceRecognizerPP_cpp=Module.__GLOBAL__sub_I_FaceRecognizerPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_FaceRecognizerPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_FaceValidatorPP_cpp=Module.__GLOBAL__sub_I_FaceValidatorPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_FaceValidatorPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_GazeTrackerPP_cpp=Module.__GLOBAL__sub_I_GazeTrackerPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_GazeTrackerPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_HeadPosePP_cpp=Module.__GLOBAL__sub_I_HeadPosePP_cpp=function(){return Module.asm.__GLOBAL__sub_I_HeadPosePP_cpp.apply(null,arguments)},__GLOBAL__sub_I_HistogramChangedPP_cpp=Module.__GLOBAL__sub_I_HistogramChangedPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_HistogramChangedPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_ImageWrapper_cpp=Module.__GLOBAL__sub_I_ImageWrapper_cpp=function(){return Module.asm.__GLOBAL__sub_I_ImageWrapper_cpp.apply(null,arguments)},__GLOBAL__sub_I_ObjectCountPP_cpp=Module.__GLOBAL__sub_I_ObjectCountPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_ObjectCountPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_PairedDetectorPP_cpp=Module.__GLOBAL__sub_I_PairedDetectorPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_PairedDetectorPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_PictureChangeAlertPP_cpp=Module.__GLOBAL__sub_I_PictureChangeAlertPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_PictureChangeAlertPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_PictureDiffPP_cpp=Module.__GLOBAL__sub_I_PictureDiffPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_PictureDiffPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_PoseAlertPP_cpp=Module.__GLOBAL__sub_I_PoseAlertPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_PoseAlertPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_RecognitionAlertPP_cpp=Module.__GLOBAL__sub_I_RecognitionAlertPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_RecognitionAlertPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_SkypeDetectorPP_cpp=Module.__GLOBAL__sub_I_SkypeDetectorPP_cpp=function(){return Module.asm.__GLOBAL__sub_I_SkypeDetectorPP_cpp.apply(null,arguments)},__GLOBAL__sub_I_WASM_CyberTutor_cpp=Module.__GLOBAL__sub_I_WASM_CyberTutor_cpp=function(){return Module.asm.__GLOBAL__sub_I_WASM_CyberTutor_cpp.apply(null,arguments)},__GLOBAL__sub_I_attr_value_pb_cc=Module.__GLOBAL__sub_I_attr_value_pb_cc=function(){return Module.asm.__GLOBAL__sub_I_attr_value_pb_cc.apply(null,arguments)},__GLOBAL__sub_I_bind_cpp=Module.__GLOBAL__sub_I_bind_cpp=function(){return Module.asm.__GLOBAL__sub_I_bind_cpp.apply(null,arguments)},__GLOBAL__sub_I_cascades_cpp=Module.__GLOBAL__sub_I_cascades_cpp=function(){return Module.asm.__GLOBAL__sub_I_cascades_cpp.apply(null,arguments)},__GLOBAL__sub_I_color_lab_cpp=Module.__GLOBAL__sub_I_color_lab_cpp=function(){return Module.asm.__GLOBAL__sub_I_color_lab_cpp.apply(null,arguments)},__GLOBAL__sub_I_darknet_io_cpp=Module.__GLOBAL__sub_I_darknet_io_cpp=function(){return Module.asm.__GLOBAL__sub_I_darknet_io_cpp.apply(null,arguments)},__GLOBAL__sub_I_descriptor_pb_cc=Module.__GLOBAL__sub_I_descriptor_pb_cc=function(){return Module.asm.__GLOBAL__sub_I_descriptor_pb_cc.apply(null,arguments)},__GLOBAL__sub_I_detection_output_layer_cpp=Module.__GLOBAL__sub_I_detection_output_layer_cpp=function(){return Module.asm.__GLOBAL__sub_I_detection_output_layer_cpp.apply(null,arguments)},__GLOBAL__sub_I_dnn_cpp=Module.__GLOBAL__sub_I_dnn_cpp=function(){return Module.asm.__GLOBAL__sub_I_dnn_cpp.apply(null,arguments)},__GLOBAL__sub_I_function_pb_cc=Module.__GLOBAL__sub_I_function_pb_cc=function(){return Module.asm.__GLOBAL__sub_I_function_pb_cc.apply(null,arguments)},__GLOBAL__sub_I_graph_pb_cc=Module.__GLOBAL__sub_I_graph_pb_cc=function(){return Module.asm.__GLOBAL__sub_I_graph_pb_cc.apply(null,arguments)},__GLOBAL__sub_I_haar_cpp=Module.__GLOBAL__sub_I_haar_cpp=function(){return Module.asm.__GLOBAL__sub_I_haar_cpp.apply(null,arguments)},__GLOBAL__sub_I_histogram_cpp=Module.__GLOBAL__sub_I_histogram_cpp=function(){return Module.asm.__GLOBAL__sub_I_histogram_cpp.apply(null,arguments)},__GLOBAL__sub_I_imgwarp_cpp=Module.__GLOBAL__sub_I_imgwarp_cpp=function(){return Module.asm.__GLOBAL__sub_I_imgwarp_cpp.apply(null,arguments)},__GLOBAL__sub_I_init_cpp=Module.__GLOBAL__sub_I_init_cpp=function(){return Module.asm.__GLOBAL__sub_I_init_cpp.apply(null,arguments)},__GLOBAL__sub_I_iostream_cpp=Module.__GLOBAL__sub_I_iostream_cpp=function(){return Module.asm.__GLOBAL__sub_I_iostream_cpp.apply(null,arguments)},__GLOBAL__sub_I_kmeans_cpp=Module.__GLOBAL__sub_I_kmeans_cpp=function(){return Module.asm.__GLOBAL__sub_I_kmeans_cpp.apply(null,arguments)},__GLOBAL__sub_I_loadsave_cpp=Module.__GLOBAL__sub_I_loadsave_cpp=function(){return Module.asm.__GLOBAL__sub_I_loadsave_cpp.apply(null,arguments)},__GLOBAL__sub_I_message_cc=Module.__GLOBAL__sub_I_message_cc=function(){return Module.asm.__GLOBAL__sub_I_message_cc.apply(null,arguments)},__GLOBAL__sub_I_op_def_pb_cc=Module.__GLOBAL__sub_I_op_def_pb_cc=function(){return Module.asm.__GLOBAL__sub_I_op_def_pb_cc.apply(null,arguments)},__GLOBAL__sub_I_opencv_caffe_pb_cc=Module.__GLOBAL__sub_I_opencv_caffe_pb_cc=function(){return Module.asm.__GLOBAL__sub_I_opencv_caffe_pb_cc.apply(null,arguments)},__GLOBAL__sub_I_parallel_impl_cpp=Module.__GLOBAL__sub_I_parallel_impl_cpp=function(){return Module.asm.__GLOBAL__sub_I_parallel_impl_cpp.apply(null,arguments)},__GLOBAL__sub_I_persistence_types_cpp=Module.__GLOBAL__sub_I_persistence_types_cpp=function(){return Module.asm.__GLOBAL__sub_I_persistence_types_cpp.apply(null,arguments)},__GLOBAL__sub_I_prior_box_layer_cpp=Module.__GLOBAL__sub_I_prior_box_layer_cpp=function(){return Module.asm.__GLOBAL__sub_I_prior_box_layer_cpp.apply(null,arguments);
},__GLOBAL__sub_I_status_cc=Module.__GLOBAL__sub_I_status_cc=function(){return Module.asm.__GLOBAL__sub_I_status_cc.apply(null,arguments)},__GLOBAL__sub_I_system_cpp=Module.__GLOBAL__sub_I_system_cpp=function(){return Module.asm.__GLOBAL__sub_I_system_cpp.apply(null,arguments)},__GLOBAL__sub_I_tensor_pb_cc=Module.__GLOBAL__sub_I_tensor_pb_cc=function(){return Module.asm.__GLOBAL__sub_I_tensor_pb_cc.apply(null,arguments)},__GLOBAL__sub_I_tensor_shape_pb_cc=Module.__GLOBAL__sub_I_tensor_shape_pb_cc=function(){return Module.asm.__GLOBAL__sub_I_tensor_shape_pb_cc.apply(null,arguments)},__GLOBAL__sub_I_trace_cpp=Module.__GLOBAL__sub_I_trace_cpp=function(){return Module.asm.__GLOBAL__sub_I_trace_cpp.apply(null,arguments)},__GLOBAL__sub_I_types_pb_cc=Module.__GLOBAL__sub_I_types_pb_cc=function(){return Module.asm.__GLOBAL__sub_I_types_pb_cc.apply(null,arguments)},__GLOBAL__sub_I_umatrix_cpp=Module.__GLOBAL__sub_I_umatrix_cpp=function(){return Module.asm.__GLOBAL__sub_I_umatrix_cpp.apply(null,arguments)},__GLOBAL__sub_I_versions_pb_cc=Module.__GLOBAL__sub_I_versions_pb_cc=function(){return Module.asm.__GLOBAL__sub_I_versions_pb_cc.apply(null,arguments)},__ZSt18uncaught_exceptionv=Module.__ZSt18uncaught_exceptionv=function(){return Module.asm.__ZSt18uncaught_exceptionv.apply(null,arguments)},___cxa_can_catch=Module.___cxa_can_catch=function(){return Module.asm.___cxa_can_catch.apply(null,arguments)},___cxa_is_pointer_type=Module.___cxa_is_pointer_type=function(){return Module.asm.___cxa_is_pointer_type.apply(null,arguments)},___cxx_global_var_init=Module.___cxx_global_var_init=function(){return Module.asm.___cxx_global_var_init.apply(null,arguments)},___cxx_global_var_init_1=Module.___cxx_global_var_init_1=function(){return Module.asm.___cxx_global_var_init_1.apply(null,arguments)},___cxx_global_var_init_19=Module.___cxx_global_var_init_19=function(){return Module.asm.___cxx_global_var_init_19.apply(null,arguments)},___cxx_global_var_init_2=Module.___cxx_global_var_init_2=function(){return Module.asm.___cxx_global_var_init_2.apply(null,arguments)},___cxx_global_var_init_3=Module.___cxx_global_var_init_3=function(){return Module.asm.___cxx_global_var_init_3.apply(null,arguments)},___cxx_global_var_init_4=Module.___cxx_global_var_init_4=function(){return Module.asm.___cxx_global_var_init_4.apply(null,arguments)},___cxx_global_var_init_5=Module.___cxx_global_var_init_5=function(){return Module.asm.___cxx_global_var_init_5.apply(null,arguments)},___cxx_global_var_init_6=Module.___cxx_global_var_init_6=function(){return Module.asm.___cxx_global_var_init_6.apply(null,arguments)},___cxx_global_var_init_7=Module.___cxx_global_var_init_7=function(){return Module.asm.___cxx_global_var_init_7.apply(null,arguments)},___cxx_global_var_init_8=Module.___cxx_global_var_init_8=function(){return Module.asm.___cxx_global_var_init_8.apply(null,arguments)},___emscripten_environ_constructor=Module.___emscripten_environ_constructor=function(){return Module.asm.___emscripten_environ_constructor.apply(null,arguments)},___errno_location=Module.___errno_location=function(){return Module.asm.___errno_location.apply(null,arguments)},___getTypeName=Module.___getTypeName=function(){return Module.asm.___getTypeName.apply(null,arguments)},__get_daylight=Module.__get_daylight=function(){return Module.asm.__get_daylight.apply(null,arguments)},__get_environ=Module.__get_environ=function(){return Module.asm.__get_environ.apply(null,arguments)},__get_timezone=Module.__get_timezone=function(){return Module.asm.__get_timezone.apply(null,arguments)},__get_tzname=Module.__get_tzname=function(){return Module.asm.__get_tzname.apply(null,arguments)},_free=Module._free=function(){return Module.asm._free.apply(null,arguments)},_htonl=Module._htonl=function(){return Module.asm._htonl.apply(null,arguments)},_htons=Module._htons=function(){return Module.asm._htons.apply(null,arguments)},_llvm_bswap_i16=Module._llvm_bswap_i16=function(){return Module.asm._llvm_bswap_i16.apply(null,arguments)},_llvm_bswap_i32=Module._llvm_bswap_i32=function(){return Module.asm._llvm_bswap_i32.apply(null,arguments)},_llvm_ctlz_i64=Module._llvm_ctlz_i64=function(){return Module.asm._llvm_ctlz_i64.apply(null,arguments)},_llvm_maxnum_f64=Module._llvm_maxnum_f64=function(){return Module.asm._llvm_maxnum_f64.apply(null,arguments)},_malloc=Module._malloc=function(){return Module.asm._malloc.apply(null,arguments)},_memalign=Module._memalign=function(){return Module.asm._memalign.apply(null,arguments)},_memcpy=Module._memcpy=function(){return Module.asm._memcpy.apply(null,arguments)},_memmove=Module._memmove=function(){return Module.asm._memmove.apply(null,arguments)},_memset=Module._memset=function(){return Module.asm._memset.apply(null,arguments)},_ntohs=Module._ntohs=function(){return Module.asm._ntohs.apply(null,arguments)},_pthread_cond_broadcast=Module._pthread_cond_broadcast=function(){return Module.asm._pthread_cond_broadcast.apply(null,arguments)},_pthread_mutex_lock=Module._pthread_mutex_lock=function(){return Module.asm._pthread_mutex_lock.apply(null,arguments)},_pthread_mutex_unlock=Module._pthread_mutex_unlock=function(){return Module.asm._pthread_mutex_unlock.apply(null,arguments)},_realloc=Module._realloc=function(){return Module.asm._realloc.apply(null,arguments)},_rintf=Module._rintf=function(){return Module.asm._rintf.apply(null,arguments)},_saveSetjmp=Module._saveSetjmp=function(){return Module.asm._saveSetjmp.apply(null,arguments)},_sbrk=Module._sbrk=function(){return Module.asm._sbrk.apply(null,arguments)},_testSetjmp=Module._testSetjmp=function(){return Module.asm._testSetjmp.apply(null,arguments)},establishStackSpace=Module.establishStackSpace=function(){return Module.asm.establishStackSpace.apply(null,arguments)},getTempRet0=Module.getTempRet0=function(){return Module.asm.getTempRet0.apply(null,arguments)},runPostSets=Module.runPostSets=function(){return Module.asm.runPostSets.apply(null,arguments)},setTempRet0=Module.setTempRet0=function(){return Module.asm.setTempRet0.apply(null,arguments)},setThrew=Module.setThrew=function(){return Module.asm.setThrew.apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return Module.asm.stackAlloc.apply(null,arguments)},stackRestore=Module.stackRestore=function(){return Module.asm.stackRestore.apply(null,arguments)},stackSave=Module.stackSave=function(){return Module.asm.stackSave.apply(null,arguments)},dynCall_di=Module.dynCall_di=function(){return Module.asm.dynCall_di.apply(null,arguments)},dynCall_dii=Module.dynCall_dii=function(){return Module.asm.dynCall_dii.apply(null,arguments)},dynCall_diii=Module.dynCall_diii=function(){return Module.asm.dynCall_diii.apply(null,arguments)},dynCall_diiii=Module.dynCall_diiii=function(){return Module.asm.dynCall_diiii.apply(null,arguments)},dynCall_fii=Module.dynCall_fii=function(){return Module.asm.dynCall_fii.apply(null,arguments)},dynCall_fiii=Module.dynCall_fiii=function(){return Module.asm.dynCall_fiii.apply(null,arguments)},dynCall_fiiii=Module.dynCall_fiiii=function(){return Module.asm.dynCall_fiiii.apply(null,arguments)},dynCall_i=Module.dynCall_i=function(){return Module.asm.dynCall_i.apply(null,arguments)},dynCall_iddii=Module.dynCall_iddii=function(){return Module.asm.dynCall_iddii.apply(null,arguments)},dynCall_ii=Module.dynCall_ii=function(){return Module.asm.dynCall_ii.apply(null,arguments)},dynCall_iii=Module.dynCall_iii=function(){return Module.asm.dynCall_iii.apply(null,arguments)},dynCall_iiid=Module.dynCall_iiid=function(){return Module.asm.dynCall_iiid.apply(null,arguments)},dynCall_iiidd=Module.dynCall_iiidd=function(){return Module.asm.dynCall_iiidd.apply(null,arguments)},dynCall_iiii=Module.dynCall_iiii=function(){return Module.asm.dynCall_iiii.apply(null,arguments)},dynCall_iiiidd=Module.dynCall_iiiidd=function(){return Module.asm.dynCall_iiiidd.apply(null,arguments)},dynCall_iiiidddddddddddddddddddd=Module.dynCall_iiiidddddddddddddddddddd=function(){return Module.asm.dynCall_iiiidddddddddddddddddddd.apply(null,arguments)},dynCall_iiiidi=Module.dynCall_iiiidi=function(){return Module.asm.dynCall_iiiidi.apply(null,arguments)},dynCall_iiiii=Module.dynCall_iiiii=function(){return Module.asm.dynCall_iiiii.apply(null,arguments)},dynCall_iiiiid=Module.dynCall_iiiiid=function(){return Module.asm.dynCall_iiiiid.apply(null,arguments)},dynCall_iiiiidiid=Module.dynCall_iiiiidiid=function(){return Module.asm.dynCall_iiiiidiid.apply(null,arguments)},dynCall_iiiiii=Module.dynCall_iiiiii=function(){return Module.asm.dynCall_iiiiii.apply(null,arguments)},dynCall_iiiiiid=Module.dynCall_iiiiiid=function(){return Module.asm.dynCall_iiiiiid.apply(null,arguments)},dynCall_iiiiiifiididiii=Module.dynCall_iiiiiifiididiii=function(){return Module.asm.dynCall_iiiiiifiididiii.apply(null,arguments)},dynCall_iiiiiii=Module.dynCall_iiiiiii=function(){return Module.asm.dynCall_iiiiiii.apply(null,arguments)},dynCall_iiiiiiid=Module.dynCall_iiiiiiid=function(){return Module.asm.dynCall_iiiiiiid.apply(null,arguments)},dynCall_iiiiiiii=Module.dynCall_iiiiiiii=function(){return Module.asm.dynCall_iiiiiiii.apply(null,arguments)},dynCall_iiiiiiiii=Module.dynCall_iiiiiiiii=function(){return Module.asm.dynCall_iiiiiiiii.apply(null,arguments)},dynCall_iiiiiiiiii=Module.dynCall_iiiiiiiiii=function(){return Module.asm.dynCall_iiiiiiiiii.apply(null,arguments)},dynCall_iiiiiiiiiii=Module.dynCall_iiiiiiiiiii=function(){return Module.asm.dynCall_iiiiiiiiiii.apply(null,arguments)},dynCall_iiiiiiiiiiii=Module.dynCall_iiiiiiiiiiii=function(){return Module.asm.dynCall_iiiiiiiiiiii.apply(null,arguments)},dynCall_iiiiiiiiiiiii=Module.dynCall_iiiiiiiiiiiii=function(){return Module.asm.dynCall_iiiiiiiiiiiii.apply(null,arguments)},dynCall_iiiiij=Module.dynCall_iiiiij=function(){return Module.asm.dynCall_iiiiij.apply(null,arguments)},dynCall_iiij=Module.dynCall_iiij=function(){return Module.asm.dynCall_iiij.apply(null,arguments)},dynCall_ji=Module.dynCall_ji=function(){return Module.asm.dynCall_ji.apply(null,arguments)},dynCall_jii=Module.dynCall_jii=function(){return Module.asm.dynCall_jii.apply(null,arguments)},dynCall_jiii=Module.dynCall_jiii=function(){return Module.asm.dynCall_jiii.apply(null,arguments)},dynCall_jiiii=Module.dynCall_jiiii=function(){return Module.asm.dynCall_jiiii.apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return Module.asm.dynCall_jiji.apply(null,arguments)},dynCall_v=Module.dynCall_v=function(){return Module.asm.dynCall_v.apply(null,arguments)},dynCall_vddiiii=Module.dynCall_vddiiii=function(){return Module.asm.dynCall_vddiiii.apply(null,arguments)},dynCall_vdiii=Module.dynCall_vdiii=function(){return Module.asm.dynCall_vdiii.apply(null,arguments)},dynCall_vi=Module.dynCall_vi=function(){return Module.asm.dynCall_vi.apply(null,arguments)},dynCall_vid=Module.dynCall_vid=function(){return Module.asm.dynCall_vid.apply(null,arguments)},dynCall_vidi=Module.dynCall_vidi=function(){return Module.asm.dynCall_vidi.apply(null,arguments)},dynCall_vididdii=Module.dynCall_vididdii=function(){return Module.asm.dynCall_vididdii.apply(null,arguments)},dynCall_vidii=Module.dynCall_vidii=function(){return Module.asm.dynCall_vidii.apply(null,arguments)},dynCall_vifi=Module.dynCall_vifi=function(){return Module.asm.dynCall_vifi.apply(null,arguments)},dynCall_vii=Module.dynCall_vii=function(){return Module.asm.dynCall_vii.apply(null,arguments)},dynCall_viid=Module.dynCall_viid=function(){return Module.asm.dynCall_viid.apply(null,arguments)},dynCall_viidd=Module.dynCall_viidd=function(){return Module.asm.dynCall_viidd.apply(null,arguments)},dynCall_viidi=Module.dynCall_viidi=function(){return Module.asm.dynCall_viidi.apply(null,arguments)},dynCall_viididii=Module.dynCall_viididii=function(){return Module.asm.dynCall_viididii.apply(null,arguments)},dynCall_viii=Module.dynCall_viii=function(){return Module.asm.dynCall_viii.apply(null,arguments)},dynCall_viiid=Module.dynCall_viiid=function(){return Module.asm.dynCall_viiid.apply(null,arguments)},dynCall_viiidd=Module.dynCall_viiidd=function(){return Module.asm.dynCall_viiidd.apply(null,arguments)},dynCall_viiidddd=Module.dynCall_viiidddd=function(){return Module.asm.dynCall_viiidddd.apply(null,arguments)},dynCall_viiiddi=Module.dynCall_viiiddi=function(){return Module.asm.dynCall_viiiddi.apply(null,arguments)},dynCall_viiidi=Module.dynCall_viiidi=function(){return Module.asm.dynCall_viiidi.apply(null,arguments)},dynCall_viiidii=Module.dynCall_viiidii=function(){return Module.asm.dynCall_viiidii.apply(null,arguments)},dynCall_viiidiii=Module.dynCall_viiidiii=function(){return Module.asm.dynCall_viiidiii.apply(null,arguments)},dynCall_viiidiiiiii=Module.dynCall_viiidiiiiii=function(){return Module.asm.dynCall_viiidiiiiii.apply(null,arguments)},dynCall_viiif=Module.dynCall_viiif=function(){return Module.asm.dynCall_viiif.apply(null,arguments)},dynCall_viiii=Module.dynCall_viiii=function(){return Module.asm.dynCall_viiii.apply(null,arguments)},dynCall_viiiid=Module.dynCall_viiiid=function(){return Module.asm.dynCall_viiiid.apply(null,arguments)},dynCall_viiiidi=Module.dynCall_viiiidi=function(){return Module.asm.dynCall_viiiidi.apply(null,arguments)},dynCall_viiiidid=Module.dynCall_viiiidid=function(){return Module.asm.dynCall_viiiidid.apply(null,arguments)},dynCall_viiiidiid=Module.dynCall_viiiidiid=function(){return Module.asm.dynCall_viiiidiid.apply(null,arguments)},dynCall_viiiidiidiiiiiii=Module.dynCall_viiiidiidiiiiiii=function(){return Module.asm.dynCall_viiiidiidiiiiiii.apply(null,arguments)},dynCall_viiiif=Module.dynCall_viiiif=function(){return Module.asm.dynCall_viiiif.apply(null,arguments)},dynCall_viiiifiifiiiiiii=Module.dynCall_viiiifiifiiiiiii=function(){return Module.asm.dynCall_viiiifiifiiiiiii.apply(null,arguments)},dynCall_viiiii=Module.dynCall_viiiii=function(){return Module.asm.dynCall_viiiii.apply(null,arguments)},dynCall_viiiiididdi=Module.dynCall_viiiiididdi=function(){return Module.asm.dynCall_viiiiididdi.apply(null,arguments)},dynCall_viiiiii=Module.dynCall_viiiiii=function(){return Module.asm.dynCall_viiiiii.apply(null,arguments)},dynCall_viiiiiiddi=Module.dynCall_viiiiiiddi=function(){return Module.asm.dynCall_viiiiiiddi.apply(null,arguments)},dynCall_viiiiiidi=Module.dynCall_viiiiiidi=function(){return Module.asm.dynCall_viiiiiidi.apply(null,arguments)},dynCall_viiiiiidiii=Module.dynCall_viiiiiidiii=function(){return Module.asm.dynCall_viiiiiidiii.apply(null,arguments)},dynCall_viiiiiifii=Module.dynCall_viiiiiifii=function(){return Module.asm.dynCall_viiiiiifii.apply(null,arguments)},dynCall_viiiiiii=Module.dynCall_viiiiiii=function(){return Module.asm.dynCall_viiiiiii.apply(null,arguments)},dynCall_viiiiiiidd=Module.dynCall_viiiiiiidd=function(){return Module.asm.dynCall_viiiiiiidd.apply(null,arguments)},dynCall_viiiiiiiddi=Module.dynCall_viiiiiiiddi=function(){return Module.asm.dynCall_viiiiiiiddi.apply(null,arguments)},dynCall_viiiiiiii=Module.dynCall_viiiiiiii=function(){return Module.asm.dynCall_viiiiiiii.apply(null,arguments)},dynCall_viiiiiiiid=Module.dynCall_viiiiiiiid=function(){return Module.asm.dynCall_viiiiiiiid.apply(null,arguments)},dynCall_viiiiiiiidd=Module.dynCall_viiiiiiiidd=function(){return Module.asm.dynCall_viiiiiiiidd.apply(null,arguments)},dynCall_viiiiiiiidf=Module.dynCall_viiiiiiiidf=function(){return Module.asm.dynCall_viiiiiiiidf.apply(null,arguments)},dynCall_viiiiiiiii=Module.dynCall_viiiiiiiii=function(){return Module.asm.dynCall_viiiiiiiii.apply(null,arguments)},dynCall_viiiiiiiiidd=Module.dynCall_viiiiiiiiidd=function(){return Module.asm.dynCall_viiiiiiiiidd.apply(null,arguments)},dynCall_viiiiiiiiiddi=Module.dynCall_viiiiiiiiiddi=function(){return Module.asm.dynCall_viiiiiiiiiddi.apply(null,arguments)},dynCall_viiiiiiiiii=Module.dynCall_viiiiiiiiii=function(){return Module.asm.dynCall_viiiiiiiiii.apply(null,arguments)},dynCall_viiiiiiiiiiddd=Module.dynCall_viiiiiiiiiiddd=function(){return Module.asm.dynCall_viiiiiiiiiiddd.apply(null,arguments)},dynCall_viiiiiiiiiiddi=Module.dynCall_viiiiiiiiiiddi=function(){return Module.asm.dynCall_viiiiiiiiiiddi.apply(null,arguments)},dynCall_viiiiiiiiiii=Module.dynCall_viiiiiiiiiii=function(){return Module.asm.dynCall_viiiiiiiiiii.apply(null,arguments)},dynCall_viiiiiiiiiiid=Module.dynCall_viiiiiiiiiiid=function(){return Module.asm.dynCall_viiiiiiiiiiid.apply(null,arguments)},dynCall_viiiiiiiiiiii=Module.dynCall_viiiiiiiiiiii=function(){return Module.asm.dynCall_viiiiiiiiiiii.apply(null,arguments)},dynCall_viiiiiiiiiiiii=Module.dynCall_viiiiiiiiiiiii=function(){return Module.asm.dynCall_viiiiiiiiiiiii.apply(null,arguments)},dynCall_viiiiiiiiiiiiii=Module.dynCall_viiiiiiiiiiiiii=function(){return Module.asm.dynCall_viiiiiiiiiiiiii.apply(null,arguments)},dynCall_viiiiiiiiiiiiiii=Module.dynCall_viiiiiiiiiiiiiii=function(){return Module.asm.dynCall_viiiiiiiiiiiiiii.apply(null,arguments)},dynCall_viiiiiiiiiiiiiiiiiiidi=Module.dynCall_viiiiiiiiiiiiiiiiiiidi=function(){return Module.asm.dynCall_viiiiiiiiiiiiiiiiiiidi.apply(null,arguments)},dynCall_viiiij=Module.dynCall_viiiij=function(){return Module.asm.dynCall_viiiij.apply(null,arguments)},dynCall_viiij=Module.dynCall_viiij=function(){return Module.asm.dynCall_viiij.apply(null,arguments)},dynCall_viij=Module.dynCall_viij=function(){return Module.asm.dynCall_viij.apply(null,arguments)},dynCall_viijii=Module.dynCall_viijii=function(){return Module.asm.dynCall_viijii.apply(null,arguments)},dynCall_vij=Module.dynCall_vij=function(){return Module.asm.dynCall_vij.apply(null,arguments)},dynCall_viji=Module.dynCall_viji=function(){return Module.asm.dynCall_viji.apply(null,arguments)};Module.asm=asm,Module.getMemory=getMemory,Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,Module.FS_unlink=FS.unlink,ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;if(dependenciesFulfilled=function a(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=a)},Module.run=run,Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();Module.noExitRuntime=!0,run();